;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="2b5a51ca-b7fa-7892-a4bd-e04b0323b364")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3748432,e=>{"use strict";e.i(2598434);var t=e.i(847684),a=e.i(7185353),r=e.i(8238875),i=e.i(8612999),n=e.i(5773208);let s={hard:{skeleton:"primary-light",content:"primary-dark"},soft:{skeleton:"secondary-light",content:"secondary-dark"}};function l(e,t){let a=e?"hard":"soft";return{track:"Navigation Phases â–²",color:s[a][t.phase],properties:[["Navigation Type",a]].concat(Object.entries(t).map(e=>{let[t,a]=e;return[t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),String(a)]}))}}function o(e){let{children:r,...i}=e;return(0,t.jsxs)(t.Fragment,{children:[r,(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{hidden:!0,"data-navigation-marker":`${i.phase}-${i.label}`}),children:(0,t.jsx)(u,{...i})})]})}function u(e){let s,o,{phase:u,label:d,routeOverride:m}=e,g=(s=(0,r.usePathname)(),o=(0,r.useParams)(),(0,a.useMemo)(()=>{if(!o)return(0,i.computeRoute)(s,{});let{catchAll:e,...t}=o;return(0,i.computeRoute)(s,t)},[s,o])),h=m??g??"unknown",f=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!f.current&&(f.current=!0,!c(u,"interactive",d)))return requestAnimationFrame(()=>{requestAnimationFrame(()=>{var e=u,t=h,a=d;let r=performance.now(),i={phase:e,route:t,target_env:"production",label:a,state:"interactive"};try{performance.measure(`${e} interactive`,{start:n.routerState.lastRouterTransition.startMsSinceOrigin,end:r,detail:{vercelNavigation:{isHardNavigation:n.routerState.isHardNavigation,attrs:i},devtools:l(n.routerState.isHardNavigation,i)}})}catch{}})}),()=>{"skeleton"===u||c(u,"unmounted",d)||0===n.routerState.lastRouterTransition.startMsSinceOrigin||requestAnimationFrame(()=>{let e={phase:u,route:h,label:d,target_env:"production",state:"unmounted"};performance.measure(`${u} unmount`,{start:n.routerState.lastRouterTransition.startMsSinceOrigin,end:performance.now(),detail:{vercelNavigation:{isHardNavigation:!1,attrs:e},devtools:l(n.routerState.isHardNavigation,e)}})})}},[u,h,d]);let p={phase:u,label:d,route:h,target_env:"production",state:"visible"};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:`
        requestAnimationFrame(() => {
          globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES = globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES || new Map();
          if (globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES.has("${u} visible")) {
            
            return;
          }
          globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES.set("${u} visible", "${d}");

          try {
            performance.measure("${u} visible", {
              end: performance.now(),
              detail: {
                vercelNavigation: {
                  isHardNavigation: true,
                  attrs: JSON.parse(${JSON.stringify(JSON.stringify(p))}),
                },
                devtools: JSON.parse(${JSON.stringify(JSON.stringify(l(!0,p)))})
              }
            });
          } catch {}
        });
      `}})})}function c(e,t,a){let r=(0,n.getRecordedMeasures)();return!!r.has(`${e} ${t}`)||(r.set(`${e} ${t}`,a||"unknown"),!1)}e.s(["ConditionalNavigationMarker",0,function(e){let{children:a,enabled:r,phase:i,label:n,routeOverride:s}=e;return(0,t.jsxs)(t.Fragment,{children:[a,r&&(0,t.jsx)(o,{phase:i,label:n,routeOverride:s})]})},"NavigationMarker",0,o],3748432)},1246255,7239573,e=>{"use strict";var t=e.i(1511518),a=e.i(516467);function r(e,r,i){let n=(0,a.toDate)(e,i?.in);return n.setTime(n.getTime()+r*t.millisecondsInMinute),n}e.s(["addMinutes",0,r],7239573),e.s(["subMinutes",0,function(e,t,a){return r(e,-t,a)}],1246255)},5481907,e=>{"use strict";var t=e.i(7185353),a=e.i(7909933),r=e.i(277234),i=e.i(4244280),n=e.i(1233856),s=e.i(3737038),l=e.i(1511518),o=e.i(1667062),u=e.i(7239573),c=e.i(6092370),d=e.i(268049),m=e.i(1246255),g=e.i(818351),h=e.i(9667097),f=e.i(2749380),p=e.i(5297450),y=e.i(8151845),S=e.i(4337458),v=e.i(8238875),x=e.i(9486194),T=e.i(8690335),j=e.i(1813317),C=e.i(5269510);let b=e=>(a,r,i)=>{let n=(0,t.useRef)(void 0),s=e(a,r,i);(0,t.useEffect)(()=>{void 0!==s.data&&Array.isArray(a)&&a[1]&&(n.current=s.data)},[s.data,a]);let l=(0,t.useCallback)(()=>{n.current=void 0},[]);Array.isArray(a)&&!a[1]&&(n.current=void 0);let o=void 0===s.data?n.current:s.data,u=void 0===s.data&&void 0!==n.current;return Object.assign(s,{currentData:o,isLagging:u,resetLaggy:l})};e.s(["useBuildDiagnostics",0,function(){let e=(0,y.useRangeFromQueryState)(),t=(0,S.useSonarQueryScope)(),[{environment:s}]=(0,y.useSonarQueryState)(),l={minutes:15},o={from:(0,n.startOfDuration)(e.start,l),to:(0,n.endOfDuration)(e.end,l),scope:t,environment:s};return{isRelativeTime:e.isRelativeTime,...(0,a.default)(o,async e=>{if(e.scope)return await (0,r.fetchAPI)(`${i.API_OBSERVABILITY_BUILD_DIAGNOSTICS}?${(0,C.stringify)((0,h.getSonarTeamParam)(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0})},{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1})}},"useSonarLiveQuery",0,function(e,r){let i=(0,S.useSonarQueryScope)(),s=(0,t.useMemo)(()=>{if(!e)return null;let t={...e};return t.scope||(t.scope=i),JSON.stringify(t)+(r?"-live":"-static")},[e,i,r]);return(0,a.default)(s,async()=>{if(!e)return;let t={...e};if(t.scope||(t.scope=i),r){let e=new Date,a=(0,n.endOfDuration)((0,m.subMinutes)(e,1),{seconds:10});t.startTime=(0,n.startOfDuration)(new Date(e.getTime()-6e5),{seconds:10}),t.endTime=a}if(t.scope)return(0,h.getSonarData)(t)},{refreshInterval:e?.granularity&&r?(0,d.milliseconds)({seconds:8}):0,revalidateOnFocus:!1,revalidateOnReconnect:!1,use:[b],onErrorRetry:(e,t,a,r,i)=>{let{retryCount:n}=i;401===e.status||403===e.status||n>=3||setTimeout(()=>void r({retryCount:n}),2500)}})},"useSonarQuery",0,function(e,a){let r,i=(0,t.useMemo)(()=>{if(e)return{...e}},[e]),m=(r=(0,v.useSearchParams)(),(0,t.useCallback)(e=>{let{rollups:t,by:a,event:i,filter:n}=e;if(!t||!i||!x.queryBuilderEvents.includes(i))return;let s=(0,j.getGroupableDimensions)(i);if(n&&(0,T.parseFilters)(n).some(e=>!s.includes(e.dimension)))return;a=a?.filter(e=>s.includes(e));let l=r?.get("period"),o=r?.get("from"),u=r?.get("to"),c=o&&u?{from:new Date(1e3*Number(o)),to:new Date(1e3*Number(u))}:l;return Object.entries(t).reduce((e,t)=>{let[r,s]=t,{measure:l,aggregation:o}=s;return e[r]={metric:`${i}.${l}`,by:a||[],filter:n||"",aggregation:o,time:c||""},e},{})},[r])),{start:C,end:b,isRelativeTime:N}=(0,y.useRangeFromQueryState)(),[{environment:I}]=(0,y.useSonarQueryState)(),M=(0,S.useSonarQueryScopeWithSlug)(),A=(0,S.useSonarQueryScope)(),R=(0,p.useShouldShowDemoData)();if(i&&!i.scope&&(i.scope=M),i){let e=i.startTime||C,t=i.endTime||b;i.granularity=i.granularity||(0,f.getGranularityFromDuration)(Math.round(t.getTime()-e.getTime()),i.lowGranularity),i.startTime=(0,n.startOfDuration)(e,i.granularity),i.endTime=(0,n.endOfDuration)(t,i.granularity)}i&&!i.reason&&(i.reason="observability_chart");let w=a?.noEnvironmentFilter===!0,E=a?.builderQueryFilter||i?.filter;if(i&&"all"!==I&&!w&&(i.filter=(0,c.andFilterStrings)(`environment eq '${I}'`,i.filter),E=(0,c.andFilterStrings)(`environment eq '${I}'`,E)),i&&(i.filter=(0,c.andFilterStrings)(i.filter,(0,c.serializeObjectFilter)(i.contextFilter)),E=(0,c.andFilterStrings)(E,(0,c.serializeObjectFilter)(i.contextFilter)),A?.type==="project"&&(E=(0,c.andFilterStrings)(`projectId eq '${A.projectIds[0]}'`,E)),a?.useQueryCache))try{{let e=new URLSearchParams(window.location.search).get("queryId");e&&(i.queryId=e)}}catch{}let B=m({event:i?.event,rollups:i?.rollups,by:i?.groupBy?.filter(e=>"projectName"!==e),filter:E}),D=i?.granularity&&N?(0,d.milliseconds)(i.granularity):0,F=!!((a?.showDemoData||R)&&a?.demoConfig),P=(0,t.useMemo)(()=>!i||F?null:JSON.stringify(i),[i,F]),{isLoading:O,...L}=(0,g.useIsomorphicSWR)(P,async()=>{if(i?.scope)return(0,h.getSonarData)(i)},{refreshInterval:a?.disableRefetch===!0?0:D,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,keepPreviousData:!1,errorRetryCount:0,ssr:{timeout:4e3}}),G=(a?.showDemoData||R)&&a?.demoConfig&&i?JSON.stringify({event:i.event,by:i.groupBy,rollups:i.rollups,durationMs:i.endTime&&i.startTime?i.endTime.getTime()-i.startTime.getTime():0,granularity:i.granularity}):null,_=(0,t.useMemo)(()=>{if(G&&a?.demoConfig)return function(e,t){let a,{startTime:r,endTime:i,granularity:n,groupBy:c=[]}=e,d=(a=(0,o.differenceInMilliseconds)(i,r)/l.millisecondsInMinute,(0,s.getRoundingMethod)(void 0)(a)),m=n.minutes||15,g=Math.ceil(d/m/("lowGranularity"in e?4:1)),h=[],f=[],p=Object.keys(t.rollups),y=0,S=e=>!!e&&"object"==typeof e&&"base"in e&&"variation"in e&&"number"==typeof e.base&&"number"==typeof e.variation,v=(e=>{if(0===e.length)return[{}];let a=[{}];for(let r of e){let e=[];if(t.groupValues?.[r])e=t.groupValues[r];else{let a=new Set;for(let e of Object.values(t.rollups))if(!S(e)&&e.groupConfigs){let t=e.groupConfigs;t[r]&&Object.keys(t[r]).forEach(e=>{a.add(e)})}e=Array.from(a)}if(0===e.length)throw Error(`No values found for group field "${r}". Please provide groupValues or groupConfigs for this field.`);let i=[];for(let t of a)for(let a of e)i.push({...t,[r]:a});a=i}return a})(c),x=e.rollups;for(let e of v){let a={...e},i={};for(let a=0;a<g;a++){let n=(0,u.addMinutes)(r,a*m),s={timestamp:n,...e};for(let a of p){let r,l=t.rollups[a],o=x[a];if(void 0===l)continue;if(S(l))r=l;else for(let[t,a]of(r=l.defaultConfig,Object.entries(e)))if(l.groupConfigs?.[t]?.[a]){r=l.groupConfigs[t][a];break}let{base:u=0,variation:c=0,diurnalPattern:d=!1}=r,m=u+(Math.random()-.5)*c;d&&(m*=1+.3*Math.sin(n.getHours()/24*Math.PI*2)),r.allowNegative||(m=Math.max(0,m));let g=o?.aggregation;"sum"===g?m=Math.round(m):"avg"===g||("p75"===g?m+=Math.random()*c*.5:m=Math.round(m)),s[a]=m,i[a]||(i[a]=[]),i[a].push(m),y+=m}h.push(s)}for(let e of p){let t=i[e],r=x[e],n=r?.aggregation,s=null;if(t&&0!==t.length)switch(n){case"avg":s=t.reduce((e,t)=>e+t,0)/t.length;break;case"p75":{t.sort((e,t)=>e-t);let e=Math.floor(.75*(t.length-1));s=t[e]||0;break}default:s=t.reduce((e,t)=>e+t,0)}else s=null;a[e]=s||0}f.push(a)}return{data:e.summaryOnly?void 0:h,query:e,summary:f,statistics:{rowsRead:y,bytesRead:46*y,dbTimeSeconds:.1+.1*Math.random(),engineTimeSeconds:.1+.1*Math.random(),queryTable:"demo"}}}(i,a.demoConfig)},[G]);return _?{...L,isRelativeTime:!0,data:_,isLoading:!1}:{...L,builderQuery:B,isRelativeTime:N,isLoading:O||L.isValidating||!i?.scope}}],5481907)},9961052,e=>{"use strict";let t=[["AF","Afghanistan"],["AL","Albania"],["DZ","Algeria"],["AS","American Samoa"],["AD","Andorra"],["AO","Angola"],["AI","Anguilla"],["AQ","Antarctica"],["AG","Antigua and Barbuda"],["AR","Argentina"],["AM","Armenia"],["AW","Aruba"],["AU","Australia"],["AT","Austria"],["AZ","Azerbaijan"],["BS","Bahamas"],["BH","Bahrain"],["BD","Bangladesh"],["BB","Barbados"],["BY","Belarus"],["BE","Belgium"],["BZ","Belize"],["BJ","Benin"],["BM","Bermuda"],["BT","Bhutan"],["BO","Bolivia"],["BA","Bosnia and Herzegovina"],["BW","Botswana"],["BV","Bouvet Island"],["BR","Brazil"],["IO","British Indian Ocean Territory"],["BN","Brunei Darussalam"],["BG","Bulgaria"],["BF","Burkina Faso"],["BI","Burundi"],["KH","Cambodia"],["CM","Cameroon"],["CA","Canada"],["CV","Cape Verde"],["KY","Cayman Islands"],["CF","Central African Republic"],["TD","Chad"],["CL","Chile"],["CN",["People's Republic of China","China"]],["CX","Christmas Island"],["CC","Cocos (Keeling) Islands"],["CO","Colombia"],["KM","Comoros"],["CG",["Republic of the Congo","Congo"]],["CD",["Democratic Republic of the Congo","Congo"]],["CK","Cook Islands"],["CR","Costa Rica"],["CI",["Cote D'Ivoire","Ivory Coast"]],["HR","Croatia"],["CU","Cuba"],["CY","Cyprus"],["CZ",["Czech Republic","Czechia"]],["DK","Denmark"],["DJ","Djibouti"],["DM","Dominica"],["DO","Dominican Republic"],["EC","Ecuador"],["EG","Egypt"],["SV","El Salvador"],["GQ","Equatorial Guinea"],["ER","Eritrea"],["EE","Estonia"],["ET","Ethiopia"],["FK","Falkland Islands (Malvinas)"],["FO","Faroe Islands"],["FJ","Fiji"],["FI","Finland"],["FR","France"],["GF","French Guiana"],["PF","French Polynesia"],["TF","French Southern Territories"],["GA","Gabon"],["GM",["Republic of The Gambia","The Gambia","Gambia"]],["GE","Georgia"],["DE","Germany"],["GH","Ghana"],["GI","Gibraltar"],["GR","Greece"],["GL","Greenland"],["GD","Grenada"],["GP","Guadeloupe"],["GU","Guam"],["GT","Guatemala"],["GN","Guinea"],["GW","Guinea-Bissau"],["GY","Guyana"],["HT","Haiti"],["HM","Heard Island and McDonald Islands"],["VA","Holy See (Vatican City State)"],["HN","Honduras"],["HK","Hong Kong"],["HU","Hungary"],["IS","Iceland"],["IN","India"],["ID","Indonesia"],["IR",["Islamic Republic of Iran","Iran"]],["IQ","Iraq"],["IE","Ireland"],["IL","Israel"],["IT","Italy"],["JM","Jamaica"],["JP","Japan"],["JO","Jordan"],["KZ","Kazakhstan"],["KE","Kenya"],["KI","Kiribati"],["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KG","Kyrgyzstan"],["LA","Lao People's Democratic Republic"],["LV","Latvia"],["LB","Lebanon"],["LS","Lesotho"],["LR","Liberia"],["LY","Libya"],["LI","Liechtenstein"],["LT","Lithuania"],["LU","Luxembourg"],["MO","Macao"],["MG","Madagascar"],["MW","Malawi"],["MY","Malaysia"],["MV","Maldives"],["ML","Mali"],["MT","Malta"],["MH","Marshall Islands"],["MQ","Martinique"],["MR","Mauritania"],["MU","Mauritius"],["YT","Mayotte"],["MX","Mexico"],["FM","Micronesia, Federated States of"],["MD","Moldova, Republic of"],["MC","Monaco"],["MN","Mongolia"],["MS","Montserrat"],["MA","Morocco"],["MZ","Mozambique"],["MM","Myanmar"],["NA","Namibia"],["NR","Nauru"],["NP","Nepal"],["NL","Netherlands"],["NC","New Caledonia"],["NZ","New Zealand"],["NI","Nicaragua"],["NE","Niger"],["NG","Nigeria"],["NU","Niue"],["NF","Norfolk Island"],["MK",["The Republic of North Macedonia","North Macedonia"]],["MP","Northern Mariana Islands"],["NO","Norway"],["OM","Oman"],["PK","Pakistan"],["PW","Palau"],["PS",["State of Palestine","Palestine"]],["PA","Panama"],["PG","Papua New Guinea"],["PY","Paraguay"],["PE","Peru"],["PH","Philippines"],["PN","Pitcairn"],["PL","Poland"],["PT","Portugal"],["PR","Puerto Rico"],["QA","Qatar"],["RE","Reunion"],["RO","Romania"],["RU",["Russian Federation","Russia"]],["RW","Rwanda"],["SH","Saint Helena"],["KN","Saint Kitts and Nevis"],["LC","Saint Lucia"],["PM","Saint Pierre and Miquelon"],["VC","Saint Vincent and the Grenadines"],["WS","Samoa"],["SM","San Marino"],["ST","Sao Tome and Principe"],["SA","Saudi Arabia"],["SN","Senegal"],["SC","Seychelles"],["SL","Sierra Leone"],["SG","Singapore"],["SK","Slovakia"],["SI","Slovenia"],["SB","Solomon Islands"],["SO","Somalia"],["ZA","South Africa"],["GS","South Georgia and the South Sandwich Islands"],["ES","Spain"],["LK","Sri Lanka"],["SD","Sudan"],["SR","Suriname"],["SJ","Svalbard and Jan Mayen"],["SZ","Eswatini"],["SE","Sweden"],["CH","Switzerland"],["SY","Syrian Arab Republic"],["TW","Taiwan"],["TJ","Tajikistan"],["TZ",["United Republic of Tanzania","Tanzania"]],["TH","Thailand"],["TL","Timor-Leste"],["TG","Togo"],["TK","Tokelau"],["TO","Tonga"],["TT","Trinidad and Tobago"],["TN","Tunisia"],["TR","TÃ¼rkiye"],["TM","Turkmenistan"],["TC","Turks and Caicos Islands"],["TV","Tuvalu"],["UG","Uganda"],["UA","Ukraine"],["AE","United Arab Emirates"],["GB",["United Kingdom","UK","Great Britain"]],["US",["United States of America","United States","USA"]],["UM","United States Minor Outlying Islands"],["UY","Uruguay"],["UZ","Uzbekistan"],["VU","Vanuatu"],["VE","Venezuela"],["VN","Vietnam"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["WF","Wallis and Futuna"],["EH","Western Sahara"],["YE","Yemen"],["ZM","Zambia"],["ZW","Zimbabwe"],["AX","Ã…land Islands"],["BQ","Bonaire, Sint Eustatius and Saba"],["CW","CuraÃ§ao"],["GG","Guernsey"],["IM","Isle of Man"],["JE","Jersey"],["ME","Montenegro"],["BL","Saint BarthÃ©lemy"],["MF","Saint Martin (French part)"],["RS","Serbia"],["SX","Sint Maarten (Dutch part)"],["SS","South Sudan"],["XK","Kosovo"]],a=Object.fromEntries(t),r=Object.fromEntries([["AD","ðŸ‡¦ðŸ‡©"],["AE","ðŸ‡¦ðŸ‡ª"],["AF","ðŸ‡¦ðŸ‡«"],["AG","ðŸ‡¦ðŸ‡¬"],["AI","ðŸ‡¦ðŸ‡®"],["AL","ðŸ‡¦ðŸ‡±"],["AM","ðŸ‡¦ðŸ‡²"],["AO","ðŸ‡¦ðŸ‡´"],["AQ","ðŸ‡¦ðŸ‡¶"],["AR","ðŸ‡¦ðŸ‡·"],["AS","ðŸ‡¦ðŸ‡¸"],["AT","ðŸ‡¦ðŸ‡¹"],["AU","ðŸ‡¦ðŸ‡º"],["AW","ðŸ‡¦ðŸ‡¼"],["AX","ðŸ‡¦ðŸ‡½"],["AZ","ðŸ‡¦ðŸ‡¿"],["BA","ðŸ‡§ðŸ‡¦"],["BB","ðŸ‡§ðŸ‡§"],["BD","ðŸ‡§ðŸ‡©"],["BE","ðŸ‡§ðŸ‡ª"],["BF","ðŸ‡§ðŸ‡«"],["BG","ðŸ‡§ðŸ‡¬"],["BH","ðŸ‡§ðŸ‡­"],["BI","ðŸ‡§ðŸ‡®"],["BJ","ðŸ‡§ðŸ‡¯"],["BL","ðŸ‡§ðŸ‡±"],["BM","ðŸ‡§ðŸ‡²"],["BN","ðŸ‡§ðŸ‡³"],["BO","ðŸ‡§ðŸ‡´"],["BQ","ðŸ‡§ðŸ‡¶"],["BR","ðŸ‡§ðŸ‡·"],["BS","ðŸ‡§ðŸ‡¸"],["BT","ðŸ‡§ðŸ‡¹"],["BV","ðŸ‡§ðŸ‡»"],["BW","ðŸ‡§ðŸ‡¼"],["BY","ðŸ‡§ðŸ‡¾"],["BZ","ðŸ‡§ðŸ‡¿"],["CA","ðŸ‡¨ðŸ‡¦"],["CC","ðŸ‡¨ðŸ‡¨"],["CD","ðŸ‡¨ðŸ‡©"],["CF","ðŸ‡¨ðŸ‡«"],["CG","ðŸ‡¨ðŸ‡¬"],["CH","ðŸ‡¨ðŸ‡­"],["CI","ðŸ‡¨ðŸ‡®"],["CK","ðŸ‡¨ðŸ‡°"],["CL","ðŸ‡¨ðŸ‡±"],["CM","ðŸ‡¨ðŸ‡²"],["CN","ðŸ‡¨ðŸ‡³"],["CO","ðŸ‡¨ðŸ‡´"],["CR","ðŸ‡¨ðŸ‡·"],["CU","ðŸ‡¨ðŸ‡º"],["CV","ðŸ‡¨ðŸ‡»"],["CW","ðŸ‡¨ðŸ‡¼"],["CX","ðŸ‡¨ðŸ‡½"],["CY","ðŸ‡¨ðŸ‡¾"],["CZ","ðŸ‡¨ðŸ‡¿"],["DE","ðŸ‡©ðŸ‡ª"],["DJ","ðŸ‡©ðŸ‡¯"],["DK","ðŸ‡©ðŸ‡°"],["DM","ðŸ‡©ðŸ‡²"],["DO","ðŸ‡©ðŸ‡´"],["DZ","ðŸ‡©ðŸ‡¿"],["EC","ðŸ‡ªðŸ‡¨"],["EE","ðŸ‡ªðŸ‡ª"],["EG","ðŸ‡ªðŸ‡¬"],["EH","ðŸ‡ªðŸ‡­"],["ER","ðŸ‡ªðŸ‡·"],["ES","ðŸ‡ªðŸ‡¸"],["ET","ðŸ‡ªðŸ‡¹"],["FI","ðŸ‡«ðŸ‡®"],["FJ","ðŸ‡«ðŸ‡¯"],["FK","ðŸ‡«ðŸ‡°"],["FM","ðŸ‡«ðŸ‡²"],["FO","ðŸ‡«ðŸ‡´"],["FR","ðŸ‡«ðŸ‡·"],["GA","ðŸ‡¬ðŸ‡¦"],["GB","ðŸ‡¬ðŸ‡§"],["GD","ðŸ‡¬ðŸ‡©"],["GE","ðŸ‡¬ðŸ‡ª"],["GF","ðŸ‡¬ðŸ‡«"],["GG","ðŸ‡¬ðŸ‡¬"],["GH","ðŸ‡¬ðŸ‡­"],["GI","ðŸ‡¬ðŸ‡®"],["GL","ðŸ‡¬ðŸ‡±"],["GM","ðŸ‡¬ðŸ‡²"],["GN","ðŸ‡¬ðŸ‡³"],["GP","ðŸ‡¬ðŸ‡µ"],["GQ","ðŸ‡¬ðŸ‡¶"],["GR","ðŸ‡¬ðŸ‡·"],["GS","ðŸ‡¬ðŸ‡¸"],["GT","ðŸ‡¬ðŸ‡¹"],["GU","ðŸ‡¬ðŸ‡º"],["GW","ðŸ‡¬ðŸ‡¼"],["GY","ðŸ‡¬ðŸ‡¾"],["HK","ðŸ‡­ðŸ‡°"],["HM","ðŸ‡­ðŸ‡²"],["HN","ðŸ‡­ðŸ‡³"],["HR","ðŸ‡­ðŸ‡·"],["HT","ðŸ‡­ðŸ‡¹"],["HU","ðŸ‡­ðŸ‡º"],["ID","ðŸ‡®ðŸ‡©"],["IE","ðŸ‡®ðŸ‡ª"],["IL","ðŸ‡®ðŸ‡±"],["IM","ðŸ‡®ðŸ‡²"],["IN","ðŸ‡®ðŸ‡³"],["IO","ðŸ‡®ðŸ‡´"],["IQ","ðŸ‡®ðŸ‡¶"],["IR","ðŸ‡®ðŸ‡·"],["IS","ðŸ‡®ðŸ‡¸"],["IT","ðŸ‡®ðŸ‡¹"],["JE","ðŸ‡¯ðŸ‡ª"],["JM","ðŸ‡¯ðŸ‡²"],["JO","ðŸ‡¯ðŸ‡´"],["JP","ðŸ‡¯ðŸ‡µ"],["KE","ðŸ‡°ðŸ‡ª"],["KG","ðŸ‡°ðŸ‡¬"],["KH","ðŸ‡°ðŸ‡­"],["KI","ðŸ‡°ðŸ‡®"],["KM","ðŸ‡°ðŸ‡²"],["KN","ðŸ‡°ðŸ‡³"],["KP","ðŸ‡°ðŸ‡µ"],["KR","ðŸ‡°ðŸ‡·"],["KW","ðŸ‡°ðŸ‡¼"],["KY","ðŸ‡°ðŸ‡¾"],["KZ","ðŸ‡°ðŸ‡¿"],["LA","ðŸ‡±ðŸ‡¦"],["LB","ðŸ‡±ðŸ‡§"],["LC","ðŸ‡±ðŸ‡¨"],["LI","ðŸ‡±ðŸ‡®"],["LK","ðŸ‡±ðŸ‡°"],["LR","ðŸ‡±ðŸ‡·"],["LS","ðŸ‡±ðŸ‡¸"],["LT","ðŸ‡±ðŸ‡¹"],["LU","ðŸ‡±ðŸ‡º"],["LV","ðŸ‡±ðŸ‡»"],["LY","ðŸ‡±ðŸ‡¾"],["MA","ðŸ‡²ðŸ‡¦"],["MC","ðŸ‡²ðŸ‡¨"],["MD","ðŸ‡²ðŸ‡©"],["ME","ðŸ‡²ðŸ‡ª"],["MF","ðŸ‡²ðŸ‡«"],["MG","ðŸ‡²ðŸ‡¬"],["MH","ðŸ‡²ðŸ‡­"],["MK","ðŸ‡²ðŸ‡°"],["ML","ðŸ‡²ðŸ‡±"],["MM","ðŸ‡²ðŸ‡²"],["MN","ðŸ‡²ðŸ‡³"],["MO","ðŸ‡²ðŸ‡´"],["MP","ðŸ‡²ðŸ‡µ"],["MQ","ðŸ‡²ðŸ‡¶"],["MR","ðŸ‡²ðŸ‡·"],["MS","ðŸ‡²ðŸ‡¸"],["MT","ðŸ‡²ðŸ‡¹"],["MU","ðŸ‡²ðŸ‡º"],["MV","ðŸ‡²ðŸ‡»"],["MW","ðŸ‡²ðŸ‡¼"],["MX","ðŸ‡²ðŸ‡½"],["MY","ðŸ‡²ðŸ‡¾"],["MZ","ðŸ‡²ðŸ‡¿"],["NA","ðŸ‡³ðŸ‡¦"],["NC","ðŸ‡³ðŸ‡¨"],["NE","ðŸ‡³ðŸ‡ª"],["NF","ðŸ‡³ðŸ‡«"],["NG","ðŸ‡³ðŸ‡¬"],["NI","ðŸ‡³ðŸ‡®"],["NL","ðŸ‡³ðŸ‡±"],["NO","ðŸ‡³ðŸ‡´"],["NP","ðŸ‡³ðŸ‡µ"],["NR","ðŸ‡³ðŸ‡·"],["NU","ðŸ‡³ðŸ‡º"],["NZ","ðŸ‡³ðŸ‡¿"],["OM","ðŸ‡´ðŸ‡²"],["PA","ðŸ‡µðŸ‡¦"],["PE","ðŸ‡µðŸ‡ª"],["PF","ðŸ‡µðŸ‡«"],["PG","ðŸ‡µðŸ‡¬"],["PH","ðŸ‡µðŸ‡­"],["PK","ðŸ‡µðŸ‡°"],["PL","ðŸ‡µðŸ‡±"],["PM","ðŸ‡µðŸ‡²"],["PN","ðŸ‡µðŸ‡³"],["PR","ðŸ‡µðŸ‡·"],["PS","ðŸ‡µðŸ‡¸"],["PT","ðŸ‡µðŸ‡¹"],["PW","ðŸ‡µðŸ‡¼"],["PY","ðŸ‡µðŸ‡¾"],["QA","ðŸ‡¶ðŸ‡¦"],["RE","ðŸ‡·ðŸ‡ª"],["RO","ðŸ‡·ðŸ‡´"],["RS","ðŸ‡·ðŸ‡¸"],["RU","ðŸ‡·ðŸ‡º"],["RW","ðŸ‡·ðŸ‡¼"],["SA","ðŸ‡¸ðŸ‡¦"],["SB","ðŸ‡¸ðŸ‡§"],["SC","ðŸ‡¸ðŸ‡¨"],["SD","ðŸ‡¸ðŸ‡©"],["SE","ðŸ‡¸ðŸ‡ª"],["SG","ðŸ‡¸ðŸ‡¬"],["SH","ðŸ‡¸ðŸ‡­"],["SI","ðŸ‡¸ðŸ‡®"],["SJ","ðŸ‡¸ðŸ‡¯"],["SK","ðŸ‡¸ðŸ‡°"],["SL","ðŸ‡¸ðŸ‡±"],["SM","ðŸ‡¸ðŸ‡²"],["SN","ðŸ‡¸ðŸ‡³"],["SO","ðŸ‡¸ðŸ‡´"],["SR","ðŸ‡¸ðŸ‡·"],["SS","ðŸ‡¸ðŸ‡¸"],["ST","ðŸ‡¸ðŸ‡¹"],["SV","ðŸ‡¸ðŸ‡»"],["SX","ðŸ‡¸ðŸ‡½"],["SY","ðŸ‡¸ðŸ‡¾"],["SZ","ðŸ‡¸ðŸ‡¿"],["TC","ðŸ‡¹ðŸ‡¨"],["TD","ðŸ‡¹ðŸ‡©"],["TF","ðŸ‡¹ðŸ‡«"],["TG","ðŸ‡¹ðŸ‡¬"],["TH","ðŸ‡¹ðŸ‡­"],["TJ","ðŸ‡¹ðŸ‡¯"],["TK","ðŸ‡¹ðŸ‡°"],["TL","ðŸ‡¹ðŸ‡±"],["TM","ðŸ‡¹ðŸ‡²"],["TN","ðŸ‡¹ðŸ‡³"],["TO","ðŸ‡¹ðŸ‡´"],["TR","ðŸ‡¹ðŸ‡·"],["TT","ðŸ‡¹ðŸ‡¹"],["TV","ðŸ‡¹ðŸ‡»"],["TW","ðŸ‡¹ðŸ‡¼"],["TZ","ðŸ‡¹ðŸ‡¿"],["UA","ðŸ‡ºðŸ‡¦"],["UG","ðŸ‡ºðŸ‡¬"],["UM","ðŸ‡ºðŸ‡²"],["US","ðŸ‡ºðŸ‡¸"],["UY","ðŸ‡ºðŸ‡¾"],["UZ","ðŸ‡ºðŸ‡¿"],["VA","ðŸ‡»ðŸ‡¦"],["VC","ðŸ‡»ðŸ‡¨"],["VE","ðŸ‡»ðŸ‡ª"],["VG","ðŸ‡»ðŸ‡¬"],["VI","ðŸ‡»ðŸ‡®"],["VN","ðŸ‡»ðŸ‡³"],["VU","ðŸ‡»ðŸ‡º"],["WF","ðŸ‡¼ðŸ‡«"],["WS","ðŸ‡¼ðŸ‡¸"],["XK","ðŸ‡½ðŸ‡°"],["YE","ðŸ‡¾ðŸ‡ª"],["YT","ðŸ‡¾ðŸ‡¹"],["ZA","ðŸ‡¿ðŸ‡¦"],["ZM","ðŸ‡¿ðŸ‡²"]]),i=new Map([["US","United States"]]),n=new Set(["KP","CU","IR","SY","RU","CN","AF"]),s=t.filter(e=>{let[t]=e;return!n.has(t)}).map(e=>{let[t,a]=e,r=Array.isArray(a)?a[0]:a;if(!r)throw Error(`Country name is undefined for code: ${t}`);let n=i.get(t);return n?[t,n]:[t,r]});s.map(e=>{let[t,a]=e;return[a,t]}),s.map(e=>{let[t,a]=e;return[t,a]}),s.map(e=>{let[t,a]=e;return a}),s.map(e=>{let[t]=e;return t}),e.s(["countries",0,t,"countriesByAlpha2",0,a,"flagsByAlpha2",0,r])},7946377,4394132,e=>{"use strict";var t,a=e.i(7534323),r=e.i(9961052),i=((t={}).Visitors="devices",t.TotalCount="total",t.BounceRate="bounceRate",t);e.s(["AnalyticsType",()=>i],4394132);let n=Intl.NumberFormat("en-US",{notation:"compact",compactDisplay:"short"}),s=new Map(r.countries);e.s(["createPercentages",0,(e,t)=>{let a=e.map(t),r=Math.max(...a),i=a.reduce((e,t)=>e+t,0);return e=>{let a=t(e);return{relativeToMax:a/r,relativeToTotal:a/i}}},"formatDate",0,e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),"formatNumber",0,e=>e.toLocaleString("en-US"),"formatNumberCompact",0,function(e){return n.format(e)},"getClientTimezone",0,()=>{try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e)return Intl.DateTimeFormat("en-US",{timeZone:e}),e}catch{}return"UTC"},"getCountryName",0,e=>{let t=s.get(e);return t?Array.isArray(t)?t[0]:t:"Unknown"},"getReferrerTitle",0,(e,t)=>{if(""===e||"unknown"===e)return"Direct";let r=(0,a.default)(e,{require_tld:!1,require_protocol:!1})?new URL(e.startsWith("http")?e:`https://${e}`):null;return t?e:r?r.hostname:e},"labelFromType",0,e=>{switch(e){case i.Visitors:return"Visitors";case i.TotalCount:return"Page Views";case i.BounceRate:return"Bounce Rate";default:return""}},"removeKeysFromObject",0,(e,t)=>Object.keys(e).reduce((a,r)=>(t.includes(r)||(a[r]=e[r]),a),{})],7946377)},5575368,e=>{"use strict";var t=e.i(847684),a=e.i(5182595),r=e.i(3351543),i=e.i(5481907),n=e.i(9179929),s=e.i(7946377),l=e.i(3748432);let o="projectName";e.s(["InvocationByProject",0,function(e){let{type:u="serverlessFunctionInvocation",title:c,emptyState:d,hideXAxis:m=!1,filter:g}=e,{data:h,isLoading:f,isRelativeTime:p,builderQuery:y}=(0,i.useSonarQuery)({event:u,rollups:{value:{measure:"count",aggregation:"sum"}},groupBy:["projectId",o],limitRanking:"top_by_summary",limit:5,tailRollup:"others",summaryOnly:!1,filter:g},{demoConfig:{rollups:{value:{base:1e3,variation:1e3}},groupValues:{projectId:["demo-project-id"],projectName:["Demo Project"]}}}),S=(0,n.useTimeseriesData)(h,{category:o}),v=(0,n.useSum)(h);return(0,t.jsx)(l.ConditionalNavigationMarker,{label:"InvocationsByProject",phase:"content",enabled:!f&&"incomingRequest"===u,children:(0,t.jsx)(a.LineChart,{builderQuery:y?.value,getColor:o,data:S??[],sonarQueryResults:h,disableLegend:!0,emptyState:d||"No invocations in this time range",hideXAxis:m,isLoading:f,isRelativeTime:p,lineType:"linear",renderCustomLegend:()=>(0,t.jsx)(r.LargeLegendValue,{isLoading:f,title:c||"Invocations",valueString:(0,s.formatNumberCompact)(v??0)}),title:null===c?" ":(0,t.jsx)(r.LegendTitle,{title:c||"Invocations"})})})}])},4989119,e=>{"use strict";e.s(["FIREWALL_ALERT_TYPES",0,["botId_anomaly","firewallSystemRule_anomaly","firewallCustomRule_anomaly"],"OBSERVABILITY_ALERT_TYPES",0,["usage_anomaly","error_anomaly","testAlert_anomaly","buildTime_anomaly"]])},3804618,e=>{"use strict";var t=e.i(847684),a=e.i(3306538),r=e.i(8761240),i=e.i(9386557);e.s(["getAlertInfo",0,function(e){return{type:e.type,title:"error_anomaly"===e.type?`${e.data.route} ${e.data.statusGroup}`:e.title,changeDirection:`${e.formattedValues.changeDirection}d`,changeAmount:e.formattedValues.changeAmount,changeDescription:`${e.formattedValues.formattedAvg} â†’ ${e.formattedValues.formattedCount} ${e.unit}`}},"getAlertTitle",0,function(e){if("error_anomaly"===e.type){let{route:t,cause:a}=e.data;return`${"function"===a?"Function Invocation":"Middleware Invocation"} by ${t} with 5xx errors`}return e.title},"getStatusBadge",0,function(e){let n=(()=>{switch(e.status){case"active":return(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(i.WarningFill,{}),variant:"red-subtle",children:"Active"});case"resolved":return(0,t.jsx)(a.Badge,{className:"text-gray-900",icon:(0,t.jsx)(r.CheckCircleFill,{className:"size-3 -ml-1"}),variant:"gray-subtle",children:"Resolved"})}})();return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[n,e.isInternal&&(0,t.jsx)(a.Badge,{variant:"gray-subtle",children:"Internal"})]})},"granularityToQueryParam",0,function(e){return e?`${e.minutes}m`:void 0}])},9997017,e=>{"use strict";var t=e.i(847684),a=e.i(3804618),r=e.i(6143247),i=e.i(1319302),n=e.i(5468328),s=e.i(3219703);let l="leading-tight font-medium space-x-1 min-w-0 items-center min-h-[22px] truncate";e.s(["AlertTitle",0,function(e){let{alert:o,className:u,size:c="regular"}=e,d=(0,a.getAlertInfo)(o);return"error_anomaly"===o.type?(0,t.jsxs)("span",{className:(0,r.cn)(l,"flex",u),children:[(0,t.jsx)("span",{className:"text-gray-900 flex-shrink-0 flex items-center gap-1",children:(0,t.jsx)(s.StatusCodeBadge,{variant:"large"===c?"large":"regular",statusCode:o.data.statusGroup})}),(0,t.jsx)("span",{className:"text-gray-900 whitespace-nowrap",children:"error spike on"}),(0,t.jsx)(n.Tooltip,{className:"truncate min-w-0 inline-block text-ellipsis py-px",text:o.data.route,children:(0,t.jsx)(i.RouteHighlighter,{route:o.data.route,segmentClassName:"large"===c?"text-lg my-1 py-px":"text-[13px]"})})]}):(0,t.jsxs)("span",{className:(0,r.cn)(l,u),children:[(0,t.jsx)("span",{className:"text-gray-1000",children:d.title}),(0,t.jsxs)("span",{className:"text-gray-900",children:[d.changeDirection," by"]}),(0,t.jsx)("span",{className:"text-gray-1000",children:d.changeAmount})]})}])},8646915,e=>{"use strict";var t=e.i(7909933),a=e.i(1138941),r=e.i(9979783),i=e.i(6060673),n=e.i(9171423),s=e.i(9668517);function l(e){switch(e){case"observability.anomaly":case"observability.usage-anomaly":return"usage_anomaly";case"observability.error-anomaly":case"observability.anomaly-error":return"error_anomaly";case"observability.anomaly-botId":return"botId_anomaly";case"firewall.system-rule-anomaly":return"firewallSystemRule_anomaly";case"firewall.custom-rule-anomaly":return"firewallCustomRule_anomaly";case"alerts.triggered":return"all";default:return null}}e.s(["AlertTypeLabels",0,{usage_anomaly:"Usage",error_anomaly:"Error",botId_anomaly:"Bot ID",firewallSystemRule_anomaly:"Firewall System Rule",firewallCustomRule_anomaly:"Firewall Custom Rule",testAlert_anomaly:"Test Alert",buildTime_anomaly:"Build Time"},"mapWebhookEventToO11yAlertType",0,l,"useAlert",0,function(e){let n=(0,s.useTeamSlug)(),l=(0,a.useProjectIdOrName)(),{data:o}=(0,i.useProject)(l);return(0,t.default)(()=>n?`alert-${e}-${n}-${o?.id||"all"}`:null,async()=>{if(!n)return;let{body:t}=await (0,r.typedFetch)("/alerts/v2/alerts/{alertId}","get",{teamId:n,alertId:e},{throwOnHTTPError:!0});return t})},"useAlerts",0,function(){let{alertTypes:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.useTeamSlug)(),l=(0,a.useProjectIdOrName)(),{data:o}=(0,i.useProject)(l);return(0,t.default)(()=>n?`alerts-${n}-${o?.id||"all"}-${e?.join("-")||"all"}`:null,async()=>{if(!n)return;let{body:t}=await (0,r.typedFetch)("/alerts/v2/alerts","get",{teamId:n,projectId:o?.id,types:e},{throwOnHTTPError:!0});return{alerts:t}})},"useAlertsFlags",0,function(){let e=(0,s.useTeamSlug)(),a=(0,t.default)(()=>e?`/alerts/v2/flags?teamId=${e}`:null,async t=>{if(e)return await (0,n.fetchApi)(t)}),r=e=>!!e&&(a?.data?.[e]??!1);return{isAlertTypeEnabled:r,isWebhookEnabled:e=>{let t=l(e);return"all"===t||r(t)},isNotificationEnabled:e=>r(function(e){switch(e){case"alerts-usage-anomaly":return"usage_anomaly";case"alerts-error-anomaly":return"error_anomaly";case"alerts-botid-anomaly":return"botId_anomaly";case"alerts-firewall-system-rule-anomaly":return"firewallSystemRule_anomaly";case"alerts-firewall-custom-rule-anomaly":return"firewallCustomRule_anomaly";default:throw Error(`Unknown value: ${e}`)}}(e)),...a}}],8646915)},5760285,e=>{"use strict";var t=e.i(1233856),a=e.i(7239573),r=e.i(1246255);e.s(["formatRelativeTime",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),a=t-e,r=Math.floor(a/6e4),i=Math.floor(a/36e5),n=Math.floor(a/864e5);return r<1?"now":r<60?`${r}m`:i<24?`${i}h`:`${n}d`},"getChartInterval",0,function(e){let i=new Date,{sonarQuery:n,resolvedAt:s,startedAt:l}=e,o=n.granularity.minutes,u=(0,r.subMinutes)(l,o),c=s||(0,t.startOfDuration)(i,n.granularity),d=(0,r.subMinutes)(u,7*o),m=s?new Date(Math.min((0,a.addMinutes)(c,3*o).getTime(),i.getTime())):i;return{marks:[{id:e.id,type:"area",color:"usage_anomaly"===e.type?"var(--ds-amber-800)":"var(--ds-red-600)",startTime:u,endTime:c,label:"Anomaly Period"}],chartStartTime:d,chartEndTime:m}}])},5067517,e=>{"use strict";var t=e.i(7185353),a=e.i(8646915),r=e.i(6060673),i=e.i(3804618),n=e.i(5760285),s=e.i(8238875),l=e.i(8631221),o=e.i(3196486),u=e.i(8042625),c=e.i(7114658),d=e.i(6092370);e.s(["buildAlertSearchParams",0,function(e){let t=new URLSearchParams,{marks:a,chartStartTime:r,chartEndTime:s}=(0,n.getChartInterval)(e),l=e.sonarQuery,o=(0,i.granularityToQueryParam)(l.granularity);o&&t.set("granularity",o),t.set("metric",`${l.event}.${l.rollups.count.measure}`),t.set("builder","true"),t.set("time",`${r}/${s}`);let u=(0,d.andFilterStrings)(l.filter,`projectId eq '${e.projectId}'`);return u&&t.set("filter",u),t.set("by",""),t.set("marks",JSON.stringify(a)),t},"useAlertViewedTracking",0,function(e){let a=(0,s.useSearchParams)(),r=(0,s.useRouter)(),i=(0,s.usePathname)(),n="utm_source";(0,t.useEffect)(()=>{e&&a?.get(n)&&i&&((0,o.sendToSnowflake)(l.Topic.VercelObservabilityV0AlertNotificationViewed,{alert_id:e.id,project_id:e.projectId,team_id:e.teamId,utm_source:a.get("utm_source"),event_time:Date.now(),type:e.type,group_id:e.groupId},"vercel-app"),r.replace(`${i}${(0,u.encode)({...(0,u.decode)(a.toString()),[n]:void 0})}`))},[e,a,i,r])},"useAlertsData",0,function(){let{alertTypes:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isLoading:i,hasObservabilityPlus:n,isCurrentProjectExcluded:s}=(0,c.useObservabilityPlusForProjects)(),{data:l,error:o,mutate:u}=(0,a.useAlerts)({alertTypes:e}),{data:d}=(0,r.useProjects)([...new Set(l?.alerts.map(e=>e.projectId)||[])]);return{alerts:(0,t.useMemo)(()=>{if(l)return l.alerts.map(e=>({...e,projectName:d?.find(t=>t.id===e.projectId)?.name}))},[l,d]),error:o,isLoading:i||!l&&!o,hasObservabilityPlus:n,isCurrentProjectExcluded:s,refetch:()=>u(),shouldShowAlerts:n&&!s}}])},1294989,4143439,6893194,e=>{"use strict";var t=e.i(847684),a=e.i(3804618),r=e.i(6143247),i=e.i(9386557),n=e.i(5761705);function s(e){let{isActive:a,className:s}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex items-center justify-center",s),children:a?(0,t.jsx)(i.WarningFill,{className:"size-4",color:"red-700"}):(0,t.jsx)(n.CheckCircle,{className:"size-4",color:"gray-700"})})}var l=e.i(5760285),o=e.i(526657),u=e.i(85019);function c(e){let{alert:a,side:r,withDuration:i=!1}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.RelativeTimeCard,{date:a.resolvedAt??a.startedAt,side:r,children:(0,t.jsx)("p",{className:a.resolvedAt?"text-gray-800 text-nowrap":"text-red-800 text-nowrap",children:a.resolvedAt?`${(0,l.formatRelativeTime)(a.resolvedAt)} ago`:`Since ${(0,l.formatRelativeTime)(a.startedAt)}`})}),i&&"resolved"===a.status&&a.resolvedAt?(0,t.jsxs)(t.Fragment,{children:[" ","(for"," ",(0,t.jsx)(o.RelativeTimeCard,{date:a.resolvedAt,side:"bottom",children:(0,t.jsx)("p",{className:"text-gray-800 text-nowrap",children:(0,u.age)(a.resolvedAt-a.startedAt)})}),")"]}):null]})}e.s(["AlertTimeCard",0,c],4143439);var d=e.i(9997017),m=e.i(8896705),g=e.i(1542949),h=e.i(5255926),f=e.i(57106);function p(e){let{alert:a,asLink:r=!0}=e,i=(0,g.useO11yNavigation)();if(!a?.projectId&&!a?.projectName)return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Skeleton,{width:16,height:16}),(0,t.jsx)(h.Skeleton,{width:80,height:14})]});let n=(0,t.jsxs)(t.Fragment,{children:[a.projectId&&(0,t.jsx)(m.FaviconOrFramework,{project:{id:a.projectId},size:16,style:{flexShrink:0}}),(0,t.jsx)("span",{className:"group-hover:underline no-underline text-gray-1000 truncate min-w-0 text-ellipsis",children:a.projectName??(0,t.jsx)(h.Skeleton,{width:90,height:14})})]});return r?(0,t.jsx)(f.Link,{href:i("/alerts",{projectSlug:a.projectName}),className:"flex items-center gap-2 group no-underline truncate text-ellipsis",onClick:e=>e.stopPropagation(),children:n}):(0,t.jsx)("div",{className:"flex items-center gap-2 group no-underline truncate text-ellipsis",children:n})}e.s(["ProjectAlertListLink",0,p],6893194);var y=e.i(3306538),S=e.i(199192);e.s(["AlertRowItem",0,function(e){let{alert:i,showProject:n=!0}=e,l=(0,g.useO11yNavigation)(),o=i?(0,a.getAlertInfo)(i):null,u=i?.status==="active",m=(0,r.cn)("p-4 py-3 relative","flex flex-col-reverse gap-2 lg:space-y-0","lg:grid lg:gap-3 lg:items-center",n?"lg:grid-cols-[24px_minmax(0,3fr)_2fr_100px]":"lg:grid-cols-[24px_minmax(0,1fr)_0px_100px]"),v=i?(0,t.jsxs)(t.Fragment,{children:[u&&(0,t.jsx)(y.Badge,{variant:"red-subtle",size:"sm",children:"Active"}),i.isInternal&&(0,t.jsx)(y.Badge,{variant:"gray-subtle",size:"sm",children:"Internal"}),(0,t.jsx)(c,{alert:i,side:"left"})]}):(0,t.jsx)(h.Skeleton,{height:16,width:44}),x=n?i?(0,t.jsx)(p,{alert:i,asLink:!1}):(0,t.jsx)(h.Skeleton,{height:16,width:80}):null,T=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 lg:justify-center",children:[i?(0,t.jsx)("div",{className:(0,r.cn)(u&&"hidden lg:block"),children:(0,t.jsx)(s,{isActive:u})}):(0,t.jsx)(h.Skeleton,{height:16,width:16}),(0,t.jsxs)("div",{className:"lg:hidden flex items-center gap-2 text-sm truncate min-w-0 text-ellipsis",children:[v,null!==x&&(0,t.jsx)("span",{className:"text-gray-400",children:"â€¢"}),x]})]}),(0,t.jsx)("div",{className:"flex flex-col pr-4 lg:pr-0",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.AlertTitle,{alert:i,className:"text-sm font-medium"}),(0,t.jsx)("p",{className:"text-gray-800 text-sm",children:o?.changeDescription})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Skeleton,{className:"mb-1",height:20,width:200}),(0,t.jsx)(h.Skeleton,{height:18,width:140})]})}),(0,t.jsx)("div",{className:"hidden lg:flex lg:items-center truncate min-w-0 text-ellipsis",children:x}),(0,t.jsxs)("div",{className:"hidden lg:flex justify-end lg:items-center lg:gap-2 text-sm",children:[v,(0,t.jsx)(S.ChevronRightSmall,{className:"text-gray-400 size-4"})]}),(0,t.jsx)(S.ChevronRightSmall,{className:"lg:hidden absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 size-4 mt-0"})]});return i?(0,t.jsx)(f.Link,{className:(0,r.cn)(m,"cursor-pointer hover:bg-gray-100"),href:l(`alerts/${i.id}`),prefetch:!1,children:T},i.id):(0,t.jsx)("div",{className:m,children:T})}],1294989)},2492883,e=>{"use strict";var t=e.i(847684),a=e.i(7185353),r=e.i(5441366),i=e.i(2936702),n=e.i(3646124),s=e.i(3351543),l=e.i(7797615),o=e.i(5481907),u=e.i(1542949),c=e.i(9179929),d=e.i(5575368),m=e.i(9031477);function g(e){let{customLinkPath:s}=e,d=(0,u.useO11yNavigation)(),{data:g,isLoading:h}=(0,o.useSonarQuery)({event:"incomingRequest",rollups:{requests:{measure:"count",aggregation:"sum"}},groupBy:["projectId","projectName"],limit:100,tailRollup:"truncate",summaryOnly:!0}),f=(0,c.useTableData)(g),p=(0,a.useMemo)(()=>[{Header:"Project",accessor:"projectName",columnClassName:"pr-0",disableGlobalFilter:!1,sortDescFirst:!1,Cell:n.ProjectCell},{Header:"Requests",accessor:"requests",Cell:n.BarCell,cellFormatter:l.formatNumberCompact}],[]);return(0,t.jsx)(m.ShareDomCopy,{title:"Top Edge Requests - Edge Requests",children:(0,t.jsx)(i.SonarTable,{columns:p,data:f??[],defaultSort:[{id:"requests",desc:!0}],getHref:e=>d(s??"/edge-requests",{projectSlug:e.projectName}),isLoading:h,getHoveredValue:e=>e?.projectName,plugins:[r.useGlobalFilter,r.useSortBy,r.usePagination]})})}e.s(["EdgeNetworkTab",0,function(){return(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsx)(m.ShareDomCopy,{title:"Edge Requests Invocations",children:(0,t.jsx)(s.ChartCard,{children:(0,t.jsx)(d.InvocationByProject,{title:"Edge Requests",type:"incomingRequest"})})}),(0,t.jsx)(g,{})]})},"RequestsTable",0,g])},3847934,e=>{"use strict";var t=e.i(847684),a=e.i(7047540),r=e.i(7185353),i=e.i(5067517),n=e.i(6143247),s=e.i(4989119),l=e.i(1294989);e.s(["AnimatedAlertContainer",0,function(e){let{projectId:o}=e,{alerts:u,isLoading:c,shouldShowAlerts:d}=(0,i.useAlertsData)({alertTypes:s.OBSERVABILITY_ALERT_TYPES}),m=(0,r.useRef)(!1),g=(u??[]).filter(e=>!o||e.projectId===o).filter(e=>"active"===e.status),h=g.length>0;c&&!m.current&&(m.current=!0);let f=h&&m.current;return d&&(c||h)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{"--alert-count":g.length},className:"jsx-d1ea1e2b5f0932e3 "+((0,n.cn)("alerts-container transition-all duration-300 ease-in-out opacity-100 space-y-3","[--alert-height:94px] lg:[--alert-height:66px]",h?"mb-6":"opacity-0")||""),children:g.map((e,a)=>(0,t.jsx)("div",{style:{animationDelay:f?`${150+60*a}ms`:void 0,opacity:+!f},className:"jsx-d1ea1e2b5f0932e3 "+((0,n.cn)("alert-item relative bg-background-100 rounded-lg shadow-sm overflow-hidden",f&&"animate-[alertSlideIn_0.3s_ease-out_forwards]")||""),children:(0,t.jsx)(l.AlertRowItem,{alert:e})},e.id))}),(0,t.jsx)(a.default,{id:"d1ea1e2b5f0932e3",children:".alerts-container.jsx-d1ea1e2b5f0932e3{--alert-gap:12px;height:calc(var(--alert-count)*var(--alert-height) + max(0,(var(--alert-count) - 1))*var(--alert-gap))}.alert-item.jsx-d1ea1e2b5f0932e3{height:var(--alert-height)}@keyframes alertSlideIn{0%{opacity:0;filter:blur(3px);transform:scale(.985)translateY(-12px)}to{opacity:1;filter:blur();transform:scale(1)translateY(0)}}"})]}):null}])},8255564,e=>{"use strict";var t=e.i(847684),a=e.i(3351543),r=e.i(1542949),i=e.i(9031477),n=e.i(5575368),s=e.i(991605),l=e.i(5182595),o=e.i(5481907),u=e.i(9179929),c=e.i(7797615);let d="projectName";function m(){let{data:e,isLoading:r,isRelativeTime:i,builderQuery:n}=(0,o.useSonarQuery)({event:"incomingRequest",rollups:{totalDataTransfer:{measure:"fdtTotalBytes",aggregation:"sum"}},groupBy:["projectId",d],limitRanking:"top_by_summary",orderBy:"totalDataTransfer",limit:6,tailRollup:"others",summaryOnly:!1}),m=(0,u.useTimeseriesData)(e,{category:d,value:"totalDataTransfer"}),g=(0,u.useSum)(e,{value:"totalDataTransfer"});return(0,t.jsx)(l.LineChart,{builderQuery:n?.totalDataTransfer,data:m??[],getColor:d,sonarQueryResults:e,disableLegend:!0,formatValue:e=>(0,s.default)(e,{maximumFractionDigits:0,space:!1}),isLoading:r,isRelativeTime:i,lineType:"linear",renderCustomLegend:()=>(0,t.jsx)(a.LargeLegendValue,{isLoading:r,title:"Total",valueString:(0,c.formatBytes)(g??0)}),title:" "})}var g=e.i(2492883),h=e.i(3847934);e.s(["default",0,function(){let e=(0,r.useO11yNavigation)();return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(h.AnimatedAlertContainer,{}),(0,t.jsxs)("div",{className:"flex flex-col gap-y-4 mb-6",children:[(0,t.jsxs)(a.CardsWrapper,{children:[(0,t.jsx)(i.ShareDomCopy,{title:"Edge Requests Invocations",children:(0,t.jsx)(a.ChartCard,{className:"shadow-sm",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.CardHeader,{href:e("edge-requests"),title:"Edge Requests"}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(n.InvocationByProject,{title:null,type:"incomingRequest"})})]})})}),(0,t.jsx)(i.ShareDomCopy,{title:"Fast Data Transfer",children:(0,t.jsx)(a.ChartCard,{className:"shadow-sm",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.CardHeader,{href:e("fast-data-transfer"),title:"Fast Data Transfer"}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(m,{})})]})})})]}),(0,t.jsxs)(a.CardsWrapper,{children:[(0,t.jsx)(i.ShareDomCopy,{title:"Vercel Functions Invocations",children:(0,t.jsx)(a.ChartCard,{className:"shadow-sm",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.CardHeader,{href:e("vercel-functions"),title:"Vercel Functions"}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(n.InvocationByProject,{title:null,type:"serverlessFunctionInvocation"})})]})})}),(0,t.jsx)(i.ShareDomCopy,{title:"Middleware Invocations",children:(0,t.jsx)(a.ChartCard,{className:"shadow-sm",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.CardHeader,{href:e("middleware"),title:"Middleware Invocations"}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(n.InvocationByProject,{title:null,type:"middlewareInvocation"})})]})})})]})]}),(0,t.jsx)(g.RequestsTable,{customLinkPath:"/"})]})}],8255564)}]);

//# debugId=2b5a51ca-b7fa-7892-a4bd-e04b0323b364
//# sourceMappingURL=a2e04b9d45bc8f79.js.map