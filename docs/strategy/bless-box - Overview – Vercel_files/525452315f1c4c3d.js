;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a9e61d74-f18d-a25e-168d-022c27878029")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3496900,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M11.75 0.189331L12.2803 0.719661L15.2803 3.71966L15.8107 4.24999L15.2803 4.78032L5.15901 14.9016C4.45575 15.6049 3.50192 16 2.50736 16H0.75H0V15.25V13.4926C0 12.4981 0.395088 11.5442 1.09835 10.841L11.2197 0.719661L11.75 0.189331ZM11.75 2.31065L9.81066 4.24999L11.75 6.18933L13.6893 4.24999L11.75 2.31065ZM2.15901 11.9016L8.75 5.31065L10.6893 7.24999L4.09835 13.841C3.67639 14.2629 3.1041 14.5 2.50736 14.5H1.5V13.4926C1.5 12.8959 1.73705 12.3236 2.15901 11.9016ZM9 16H16V14.5H9V16Z" fill="currentColor"/>');e.s(["PencilEdit",0,t])},3748432,e=>{"use strict";e.i(2598434);var t=e.i(847684),r=e.i(7185353),i=e.i(8238875),a=e.i(8612999),n=e.i(5773208);let s={hard:{skeleton:"primary-light",content:"primary-dark"},soft:{skeleton:"secondary-light",content:"secondary-dark"}};function o(e,t){let r=e?"hard":"soft";return{track:"Navigation Phases ▲",color:s[r][t.phase],properties:[["Navigation Type",r]].concat(Object.entries(t).map(e=>{let[t,r]=e;return[t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),String(r)]}))}}function l(e){let{children:i,...a}=e;return(0,t.jsxs)(t.Fragment,{children:[i,(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{hidden:!0,"data-navigation-marker":`${a.phase}-${a.label}`}),children:(0,t.jsx)(u,{...a})})]})}function u(e){let s,l,{phase:u,label:c,routeOverride:m}=e,g=(s=(0,i.usePathname)(),l=(0,i.useParams)(),(0,r.useMemo)(()=>{if(!l)return(0,a.computeRoute)(s,{});let{catchAll:e,...t}=l;return(0,a.computeRoute)(s,t)},[s,l])),f=m??g??"unknown",p=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(!p.current&&(p.current=!0,!d(u,"interactive",c)))return requestAnimationFrame(()=>{requestAnimationFrame(()=>{var e=u,t=f,r=c;let i=performance.now(),a={phase:e,route:t,target_env:"production",label:r,state:"interactive"};try{performance.measure(`${e} interactive`,{start:n.routerState.lastRouterTransition.startMsSinceOrigin,end:i,detail:{vercelNavigation:{isHardNavigation:n.routerState.isHardNavigation,attrs:a},devtools:o(n.routerState.isHardNavigation,a)}})}catch{}})}),()=>{"skeleton"===u||d(u,"unmounted",c)||0===n.routerState.lastRouterTransition.startMsSinceOrigin||requestAnimationFrame(()=>{let e={phase:u,route:f,label:c,target_env:"production",state:"unmounted"};performance.measure(`${u} unmount`,{start:n.routerState.lastRouterTransition.startMsSinceOrigin,end:performance.now(),detail:{vercelNavigation:{isHardNavigation:!1,attrs:e},devtools:o(n.routerState.isHardNavigation,e)}})})}},[u,f,c]);let h={phase:u,label:c,route:f,target_env:"production",state:"visible"};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("script",{dangerouslySetInnerHTML:{__html:`
        requestAnimationFrame(() => {
          globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES = globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES || new Map();
          if (globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES.has("${u} visible")) {
            
            return;
          }
          globalThis.__VERCEL_NAVIGATION_METRICS_RECORDED_MEASURES.set("${u} visible", "${c}");

          try {
            performance.measure("${u} visible", {
              end: performance.now(),
              detail: {
                vercelNavigation: {
                  isHardNavigation: true,
                  attrs: JSON.parse(${JSON.stringify(JSON.stringify(h))}),
                },
                devtools: JSON.parse(${JSON.stringify(JSON.stringify(o(!0,h)))})
              }
            });
          } catch {}
        });
      `}})})}function d(e,t,r){let i=(0,n.getRecordedMeasures)();return!!i.has(`${e} ${t}`)||(i.set(`${e} ${t}`,r||"unknown"),!1)}e.s(["ConditionalNavigationMarker",0,function(e){let{children:r,enabled:i,phase:a,label:n,routeOverride:s}=e;return(0,t.jsxs)(t.Fragment,{children:[r,i&&(0,t.jsx)(l,{phase:a,label:n,routeOverride:s})]})},"NavigationMarker",0,l],3748432)},1246255,7239573,e=>{"use strict";var t=e.i(1511518),r=e.i(516467);function i(e,i,a){let n=(0,r.toDate)(e,a?.in);return n.setTime(n.getTime()+i*t.millisecondsInMinute),n}e.s(["addMinutes",0,i],7239573),e.s(["subMinutes",0,function(e,t,r){return i(e,-t,r)}],1246255)},5481907,e=>{"use strict";var t=e.i(7185353),r=e.i(7909933),i=e.i(277234),a=e.i(4244280),n=e.i(1233856),s=e.i(3737038),o=e.i(1511518),l=e.i(1667062),u=e.i(7239573),d=e.i(6092370),c=e.i(268049),m=e.i(1246255),g=e.i(818351),f=e.i(9667097),p=e.i(2749380),h=e.i(5297450),v=e.i(8151845),y=e.i(4337458),x=e.i(8238875),C=e.i(9486194),b=e.i(8690335),S=e.i(1813317),j=e.i(5269510);let M=e=>(r,i,a)=>{let n=(0,t.useRef)(void 0),s=e(r,i,a);(0,t.useEffect)(()=>{void 0!==s.data&&Array.isArray(r)&&r[1]&&(n.current=s.data)},[s.data,r]);let o=(0,t.useCallback)(()=>{n.current=void 0},[]);Array.isArray(r)&&!r[1]&&(n.current=void 0);let l=void 0===s.data?n.current:s.data,u=void 0===s.data&&void 0!==n.current;return Object.assign(s,{currentData:l,isLagging:u,resetLaggy:o})};e.s(["useBuildDiagnostics",0,function(){let e=(0,v.useRangeFromQueryState)(),t=(0,y.useSonarQueryScope)(),[{environment:s}]=(0,v.useSonarQueryState)(),o={minutes:15},l={from:(0,n.startOfDuration)(e.start,o),to:(0,n.endOfDuration)(e.end,o),scope:t,environment:s};return{isRelativeTime:e.isRelativeTime,...(0,r.default)(l,async e=>{if(e.scope)return await (0,i.fetchAPI)(`${a.API_OBSERVABILITY_BUILD_DIAGNOSTICS}?${(0,j.stringify)((0,f.getSonarTeamParam)(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0})},{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1})}},"useSonarLiveQuery",0,function(e,i){let a=(0,y.useSonarQueryScope)(),s=(0,t.useMemo)(()=>{if(!e)return null;let t={...e};return t.scope||(t.scope=a),JSON.stringify(t)+(i?"-live":"-static")},[e,a,i]);return(0,r.default)(s,async()=>{if(!e)return;let t={...e};if(t.scope||(t.scope=a),i){let e=new Date,r=(0,n.endOfDuration)((0,m.subMinutes)(e,1),{seconds:10});t.startTime=(0,n.startOfDuration)(new Date(e.getTime()-6e5),{seconds:10}),t.endTime=r}if(t.scope)return(0,f.getSonarData)(t)},{refreshInterval:e?.granularity&&i?(0,c.milliseconds)({seconds:8}):0,revalidateOnFocus:!1,revalidateOnReconnect:!1,use:[M],onErrorRetry:(e,t,r,i,a)=>{let{retryCount:n}=a;401===e.status||403===e.status||n>=3||setTimeout(()=>void i({retryCount:n}),2500)}})},"useSonarQuery",0,function(e,r){let i,a=(0,t.useMemo)(()=>{if(e)return{...e}},[e]),m=(i=(0,x.useSearchParams)(),(0,t.useCallback)(e=>{let{rollups:t,by:r,event:a,filter:n}=e;if(!t||!a||!C.queryBuilderEvents.includes(a))return;let s=(0,S.getGroupableDimensions)(a);if(n&&(0,b.parseFilters)(n).some(e=>!s.includes(e.dimension)))return;r=r?.filter(e=>s.includes(e));let o=i?.get("period"),l=i?.get("from"),u=i?.get("to"),d=l&&u?{from:new Date(1e3*Number(l)),to:new Date(1e3*Number(u))}:o;return Object.entries(t).reduce((e,t)=>{let[i,s]=t,{measure:o,aggregation:l}=s;return e[i]={metric:`${a}.${o}`,by:r||[],filter:n||"",aggregation:l,time:d||""},e},{})},[i])),{start:j,end:M,isRelativeTime:T}=(0,v.useRangeFromQueryState)(),[{environment:w}]=(0,v.useSonarQueryState)(),k=(0,y.useSonarQueryScopeWithSlug)(),L=(0,y.useSonarQueryScope)(),_=(0,h.useShouldShowDemoData)();if(a&&!a.scope&&(a.scope=k),a){let e=a.startTime||j,t=a.endTime||M;a.granularity=a.granularity||(0,p.getGranularityFromDuration)(Math.round(t.getTime()-e.getTime()),a.lowGranularity),a.startTime=(0,n.startOfDuration)(e,a.granularity),a.endTime=(0,n.endOfDuration)(t,a.granularity)}a&&!a.reason&&(a.reason="observability_chart");let D=r?.noEnvironmentFilter===!0,N=r?.builderQueryFilter||a?.filter;if(a&&"all"!==w&&!D&&(a.filter=(0,d.andFilterStrings)(`environment eq '${w}'`,a.filter),N=(0,d.andFilterStrings)(`environment eq '${w}'`,N)),a&&(a.filter=(0,d.andFilterStrings)(a.filter,(0,d.serializeObjectFilter)(a.contextFilter)),N=(0,d.andFilterStrings)(N,(0,d.serializeObjectFilter)(a.contextFilter)),L?.type==="project"&&(N=(0,d.andFilterStrings)(`projectId eq '${L.projectIds[0]}'`,N)),r?.useQueryCache))try{{let e=new URLSearchParams(window.location.search).get("queryId");e&&(a.queryId=e)}}catch{}let O=m({event:a?.event,rollups:a?.rollups,by:a?.groupBy?.filter(e=>"projectName"!==e),filter:N}),I=a?.granularity&&T?(0,c.milliseconds)(a.granularity):0,R=!!((r?.showDemoData||_)&&r?.demoConfig),A=(0,t.useMemo)(()=>!a||R?null:JSON.stringify(a),[a,R]),{isLoading:P,...F}=(0,g.useIsomorphicSWR)(A,async()=>{if(a?.scope)return(0,f.getSonarData)(a)},{refreshInterval:r?.disableRefetch===!0?0:I,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,keepPreviousData:!1,errorRetryCount:0,ssr:{timeout:4e3}}),E=(r?.showDemoData||_)&&r?.demoConfig&&a?JSON.stringify({event:a.event,by:a.groupBy,rollups:a.rollups,durationMs:a.endTime&&a.startTime?a.endTime.getTime()-a.startTime.getTime():0,granularity:a.granularity}):null,V=(0,t.useMemo)(()=>{if(E&&r?.demoConfig)return function(e,t){let r,{startTime:i,endTime:a,granularity:n,groupBy:d=[]}=e,c=(r=(0,l.differenceInMilliseconds)(a,i)/o.millisecondsInMinute,(0,s.getRoundingMethod)(void 0)(r)),m=n.minutes||15,g=Math.ceil(c/m/("lowGranularity"in e?4:1)),f=[],p=[],h=Object.keys(t.rollups),v=0,y=e=>!!e&&"object"==typeof e&&"base"in e&&"variation"in e&&"number"==typeof e.base&&"number"==typeof e.variation,x=(e=>{if(0===e.length)return[{}];let r=[{}];for(let i of e){let e=[];if(t.groupValues?.[i])e=t.groupValues[i];else{let r=new Set;for(let e of Object.values(t.rollups))if(!y(e)&&e.groupConfigs){let t=e.groupConfigs;t[i]&&Object.keys(t[i]).forEach(e=>{r.add(e)})}e=Array.from(r)}if(0===e.length)throw Error(`No values found for group field "${i}". Please provide groupValues or groupConfigs for this field.`);let a=[];for(let t of r)for(let r of e)a.push({...t,[i]:r});r=a}return r})(d),C=e.rollups;for(let e of x){let r={...e},a={};for(let r=0;r<g;r++){let n=(0,u.addMinutes)(i,r*m),s={timestamp:n,...e};for(let r of h){let i,o=t.rollups[r],l=C[r];if(void 0===o)continue;if(y(o))i=o;else for(let[t,r]of(i=o.defaultConfig,Object.entries(e)))if(o.groupConfigs?.[t]?.[r]){i=o.groupConfigs[t][r];break}let{base:u=0,variation:d=0,diurnalPattern:c=!1}=i,m=u+(Math.random()-.5)*d;c&&(m*=1+.3*Math.sin(n.getHours()/24*Math.PI*2)),i.allowNegative||(m=Math.max(0,m));let g=l?.aggregation;"sum"===g?m=Math.round(m):"avg"===g||("p75"===g?m+=Math.random()*d*.5:m=Math.round(m)),s[r]=m,a[r]||(a[r]=[]),a[r].push(m),v+=m}f.push(s)}for(let e of h){let t=a[e],i=C[e],n=i?.aggregation,s=null;if(t&&0!==t.length)switch(n){case"avg":s=t.reduce((e,t)=>e+t,0)/t.length;break;case"p75":{t.sort((e,t)=>e-t);let e=Math.floor(.75*(t.length-1));s=t[e]||0;break}default:s=t.reduce((e,t)=>e+t,0)}else s=null;r[e]=s||0}p.push(r)}return{data:e.summaryOnly?void 0:f,query:e,summary:p,statistics:{rowsRead:v,bytesRead:46*v,dbTimeSeconds:.1+.1*Math.random(),engineTimeSeconds:.1+.1*Math.random(),queryTable:"demo"}}}(a,r.demoConfig)},[E]);return V?{...F,isRelativeTime:!0,data:V,isLoading:!1}:{...F,builderQuery:O,isRelativeTime:T,isLoading:P||F.isValidating||!a?.scope}}],5481907)},1528642,e=>{"use strict";let t=e.i(3823450).SWRConfig;e.s(["S",0,t])},4075507,e=>{e.v({border:"card-module__OLxv4G__border",borderBetweenHorizontal:"card-module__OLxv4G__borderBetweenHorizontal",borderBetweenVertical:"card-module__OLxv4G__borderBetweenVertical",card:"card-module__OLxv4G__card",hoverable:"card-module__OLxv4G__hoverable",rounded:"card-module__OLxv4G__rounded",secondary:"card-module__OLxv4G__secondary",shadow:"card-module__OLxv4G__shadow"})},4138437,e=>{"use strict";var t=e.i(847684),r=e.i(9722978),i=e.i(9508212),a=e.i(4075507);e.s(["Card",0,function(e){let{children:n,direction:s="column",className:o,border:l,borderBetween:u,secondary:d,hoverable:c,shadow:m,rounded:g=!0,...f}=e;return(0,t.jsx)(i.Stack,{...f,className:(0,r.clsx)(a.default.card,{[a.default.border||""]:l,[a.default.borderBetweenHorizontal||""]:u&&"row"===s,[a.default.borderBetweenVertical||""]:u&&"column"===s,[a.default.secondary||""]:d,[a.default.hoverable||""]:c,[a.default.shadow||""]:m,[a.default.rounded||""]:g},o),direction:s,children:n})}])},1000921,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.25 7.25H4.5V8.75H5.25H9.43934L7.96967 10.2197L7.43934 10.75L8.5 11.8107L9.03033 11.2803L11.7803 8.53033C12.0732 8.23744 12.0732 7.76256 11.7803 7.46967L9.03033 4.71967L8.5 4.18934L7.43934 5.25L7.96967 5.78033L9.43934 7.25H5.25ZM8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8C14.5 11.5899 11.5899 14.5 8 14.5ZM0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8Z" fill="currentColor"/>');e.s(["ArrowCircleRight",0,t])},7622186,e=>{"use strict";var t=e.i(7432042),r=e.i(1509029);e.s(["getMaximumLookback",0,function(e){let i,a,{team:n,hasObservabilityPlusAccess:s,observabilityMaximumLookbackFlag:o}=e;if(i=s?r.PlusRetention:n.billing?.plan==="pro"?r.FreeProRetention:n.billing?.plan==="enterprise"?r.FreeEntRetention:r.FreeHobbyRetention,"inherit"===o)return i;try{a=(0,t.default)(o)}catch(e){console.error("Failed to parse observability-maximum-lookback flag. Defaulting to plan settings"),a=i}return a>(0,t.default)("90d")&&(a=(0,t.default)("90d")),a}])},4460254,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.75 0.189331L9.28033 0.719661L15.2803 6.71966L15.8107 7.24999L15.2803 7.78032L13.7374 9.32322C13.1911 9.8696 12.3733 9.97916 11.718 9.65188L9.54863 13.5568C8.71088 15.0648 7.12143 16 5.39639 16H0.75H0V15.25V10.6036C0 8.87856 0.935237 7.28911 2.4432 6.45136L6.34811 4.28196C6.02084 3.62674 6.13039 2.80894 6.67678 2.26255L8.21967 0.719661L8.75 0.189331ZM7.3697 5.43035L10.5696 8.63029L8.2374 12.8283C7.6642 13.8601 6.57668 14.5 5.39639 14.5H2.56066L5.53033 11.5303L4.46967 10.4697L1.5 13.4393V10.6036C1.5 9.42331 2.1399 8.33579 3.17166 7.76259L7.3697 5.43035ZM12.6768 8.26256C12.5791 8.36019 12.4209 8.36019 12.3232 8.26255L12.0303 7.96966L8.03033 3.96966L7.73744 3.67677C7.63981 3.57914 7.63981 3.42085 7.73744 3.32321L8.75 2.31065L13.6893 7.24999L12.6768 8.26256Z" fill="currentColor"/>');e.s(["Pen",0,t])},9208930,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M13.2642 3.5H2.73578L8 8.01219L13.2642 3.5ZM1.5 4.41638V11.5C1.5 12.0523 1.94772 12.5 2.5 12.5H13.5C14.0523 12.5 14.5 12.0523 14.5 11.5V4.41638L8.48809 9.56944L8 9.98781L7.51191 9.56944L1.5 4.41638ZM0 2H1.5H14.5H16V3.5V11.5C16 12.8807 14.8807 14 13.5 14H2.5C1.11929 14 0 12.8807 0 11.5V3.5V2Z" fill="currentColor"/>');e.s(["Envelope",0,t])},9243747,e=>{"use strict";e.s(["getIntegrationOps",0,function(e){return{isSingleProductLayout:()=>"single-product"===e.integration.layout}}])},5478246,e=>{"use strict";e.s(["validateUrlForVercel",0,e=>((e,t)=>{try{if(!t||0===t.length)return null;let r=new URL(e);if(["http:","https:","mailto:","tel:"].includes(r.protocol)){if("http:"===r.protocol||"https:"===r.protocol){let e=r.hostname;if(e.startsWith("."))return null;if(t.some(t=>{if(e===t)return!0;if(e.endsWith(`.${t}`)){let r=e.length-t.length-1;return"."===e[r]}return!1}))return r.href;return null}return r.href}return null}catch(e){return null}})(e,["vercel.com"])])},1909206,9906065,e=>{"use strict";var t=e.i(847684),r=e.i(7185353),i=e.i(6352514),a=e.i(4759942),n=e.i(5328446),s=e.i(1017032),o=e.i(8711152),l=e.i(6891161),u=e.i(8238875),d=e.i(4011256);e.i(5463680);var c=e.i(6356390),m=e.i(6864621),g=e.i(9588822);e.i(553769);var f=e.i(3758860);e.i(3182268);var p=e.i(7849855);e.i(7037808);var h=e.i(7137779),v=e.i(2483928),y=e.i(5561425),x=e.i(8525850),C=e.i(9243747),b=e.i(6835270),S=e.i(7527320),j=e.i(7012263),M=e.i(4714999),T=e.i(7811023),w=e.i(4217693),k=e.i(5478246);let L=(0,g.withStripe)(function(e){let{integration:i,preselectedProduct:a,teamSlugOrPublic:n,onAnimationDone:o,initialConfigurationStatus:L,protocolType:_,cancelUrlForInlineMode:D,projectSlug:N,team:O,onStepChange:I}=e,[R,A]=(0,r.useState)(!!i),{hasProject:P,projectSlug:F}=(0,p.useProjectSlug)({projectSlug:N}),[E,V]=(0,r.useState)(a??null),[$,H]=(0,r.useState)((0,d.isPublicMarketplacePage)(n)?null:n.teamSlug),B=(0,s.useMutateConfigurations)({type:"provisioning",skipBillingData:!0}),[q,G]=(0,r.useState)(),{reset:U}=(0,g.useBillingForm)(),Q=(0,u.useRouter)(),{setShowCreateDatabaseModal:Z}=(0,m.useCreateDatabaseModal)(),z=L??q,[K,J]=(0,r.useState)(null),[W,Y]=(0,r.useState)(!1),X=(0,b.useInstallMarketplaceProductDisplayMode)(),ee=i.products.filter(e=>!_||(0,f.getSupportedProtocols)(e).includes(_)),et=()=>{B(),"modal"===X?A(!1):(o(),U())},er=(e,t)=>{if($)if(Z(!1),(0,C.getIntegrationOps)({integration:i}).isSingleProductLayout()){let t=(0,d.getInstallationDetailsLink)({teamSlug:$,integrationSlug:i.slug,configurationId:e.product.integrationConfigurationId,isMarketplace:!0});Q.push(t)}else{let r=(0,x.getResourceDetailsPath)(e,$,void 0,t);Q.push(r)}},ei=(0,t.jsxs)(t.Fragment,{children:[$?null:(0,t.jsx)(y.MarketplaceTeamSelectModalStep,{integration:i,onBack:()=>{et()},onTeamSelected:(e,t)=>{e&&(H(e.slug),G(t))},product:E}),E&&$&&z?(0,t.jsx)(c.CreateResourceModal,{cancelLabel:n.isPublic||!a?"Back":"Cancel",team:O,onStepChange:I,initialConfigurationStatus:z,integration:i,onBack:()=>{if("inline"===X){let e=(0,k.validateUrlForVercel)(D||"https://vercel.com");Q.replace(e||"https://vercel.com")}else setTimeout(()=>V(null),150*!!a),a&&et()},onIntegrationResourceCreate:e=>{B();let t=(0,f.supportsAnyDrainProtocol)(e.product);P||!t&&(0,f.showProjectConnectionAfterResourceCreation)(e)?(J(e),Y(!0)):er(e)},product:(0,f.getProductWithSupportedProtocols)(E),teamSlug:$}):null,!E&&$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.CheckoutBody,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)(S.CheckoutTitle,{children:["Install ",i.name]}),(0,t.jsx)(j.CheckoutSubtitle,{children:`To add ${i.name} to your Vercel account you need to install one of this provider's products.`}),(0,t.jsx)(T.CheckoutContent,{variant:"default",children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:ee.map(e=>(0,t.jsx)(v.MarketplaceProductDetailsCard,{hasAvatar:!0,integration:i,onAddAction:()=>V(e),product:e,teamSlugOrPublic:n,enableMarketplaceNewCheckout:void 0},e.id))})})]})}),(0,t.jsx)(w.CheckoutActions,{children:n.isPublic?(0,t.jsx)(l.Modal.Action,{onClick:()=>H(null),type:"secondary",children:"Back"}):(0,t.jsx)(l.Modal.Action,{onClick:()=>{et()},type:"secondary",children:"Cancel"})})]}):null]});return(0,t.jsxs)(t.Fragment,{children:["inline"===X?(0,t.jsx)("div",{children:ei}):(0,t.jsx)(l.Modal.Modal,{active:!!(R||W),onAnimationDone:()=>{o(),U()},onClickOutside:()=>{B(),A(!1);let e=new URL(window.location.href);e.searchParams.delete("teamSlug"),window.history.pushState(null,"",e.toString())},children:ei}),K&&$?(0,t.jsx)(h.CreateResourceConnectionModal,{active:W,initialProjectSlug:F,onAnimationDone:()=>J(null),onClickOutside:()=>{Y(!1),er(K,"projects")},onConnectionCreated:()=>{"modal"===X?A(!1):(o(),U()),Y(!1);let e=(0,x.getResourceDetailsPath)(K,$,F);Q.push(e)},resourceId:K.id,store:K}):null]})});e.s(["InstallMarketplaceIntegrationModal",0,L],9906065);var _=e.i(8794163);function D(e){let{children:l,teamSlugOrPublic:u,integration:d,product:c,protocolType:m,modal:g,displayModalsInline:f,configuration:p}=e,[h,v]=(0,r.useState)(d?{integration:d,product:c}:null),{data:y}=(0,s.useConfigurations)({type:"provisioning",skipBillingData:!0}),{connectProjectAndReturnToV0:x}=(0,_.useV0Marketplace)()||{},C=(0,r.useMemo)(()=>({integrationAndProduct:h,setIntegrationAndProduct:e=>{if(v(e),e){let t=x?"v0":"marketplace";a.analytics.track(i.AnalyticsEvent.MARKETPLACE_PRODUCT_INSTALL_CLICKED,{source:t,integration:{id:e.integration.id,slug:e.integration.slug},productSlug:e.product?.slug??""})}},displayMode:f?"inline":"modal"}),[h,x,f]),S=(0,r.useMemo)(()=>p?{isLoading:!1,isInstalled:!0,configuration:p}:C.integrationAndProduct?.integration.id?(0,o.getConfigurationStatusByIntegrationId)(y,C.integrationAndProduct.integration.id):void 0,[p,y,C.integrationAndProduct?.integration.id]),j=S?.isLoading===!1&&S.isInstalled?S.configuration:void 0,{data:M}=(0,n.default)(j?.id),T=(0,r.useMemo)(()=>S&&(!j||M)?{...S,configuration:M??j}:void 0,[S,j,M]);return(0,t.jsxs)(b.InstallMarketplaceProductContext.Provider,{value:C,children:[g??(C.integrationAndProduct?(0,t.jsx)(L,{initialConfigurationStatus:T??(0,o.getConfigurationStatusByIntegrationId)(y,C.integrationAndProduct.integration.id),integration:C.integrationAndProduct.integration,onAnimationDone:()=>v(null),preselectedProduct:C.integrationAndProduct.product,protocolType:m,teamSlugOrPublic:u}):null),l]})}e.s(["InstallMarketplaceProductProvider",0,function(e){let{children:i,...a}=e;return(0,r.useContext)(b.InstallMarketplaceProductContext)?i:(0,t.jsx)(D,{...a,children:i})}],1909206)},1647234,e=>{"use strict";var t=e.i(847684),r=e.i(3306538),i=e.i(5468328),a=e.i(5169576);e.s(["BadgeOrIcon",0,function(e){let{dataTestId:n,Icon:s,label:o,tooltip:l,variant:u,href:d,showInfoIcon:c=!0}=e,m=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Badge,{className:"geist-hide-on-tablet z-10","data-testid":n,size:"sm",variant:u,icon:l&&c?(0,t.jsx)(a.Information,{size:12}):void 0,children:o}),(0,t.jsx)(r.Badge,{className:"geist-hide-on-desktop z-10 p-0","data-testid":n,size:"sm",variant:u,children:s})]});return(0,t.jsx)("div",{className:"relative overflow-visible",children:(0,t.jsx)(i.Tooltip,{center:!1,maxWidth:"170px",position:"right",text:l??o,children:d?(0,t.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:m}):m})})}])},5340114,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path d="M14.9449 6.54871C15.3128 5.45919 15.1861 4.26567 14.5978 3.27464C13.7131 1.75461 11.9345 0.972595 10.1974 1.3406C9.42464 0.481584 8.3144 -0.00692594 7.15045 7.42132e-05C5.37487 -0.00392587 3.79946 1.1241 3.2532 2.79113C2.11256 3.02164 1.12799 3.72615 0.551837 4.72468C-0.339497 6.24071 -0.1363 8.15175 1.05451 9.45178C0.686626 10.5413 0.813308 11.7348 1.40162 12.7258C2.28637 14.2459 4.06498 15.0279 5.80204 14.6599C6.5743 15.5189 7.68504 16.0074 8.849 15.9999C10.6256 16.0044 12.2015 14.8754 12.7478 13.2069C13.8884 12.9764 14.873 12.2718 15.4491 11.2733C16.3394 9.75728 16.1357 7.84774 14.9454 6.54771L14.9449 6.54871ZM8.85001 14.9544C8.13907 14.9554 7.45043 14.7099 6.90468 14.2604C6.92951 14.2474 6.97259 14.2239 7.00046 14.2069L10.2293 12.3668C10.3945 12.2743 10.4959 12.1008 10.4949 11.9133V7.42173L11.8595 8.19925C11.8742 8.20625 11.8838 8.22025 11.8858 8.23625V11.9558C11.8838 13.6099 10.5263 14.9509 8.85001 14.9544ZM2.32133 12.2028C1.9651 11.5958 1.8369 10.8843 1.95902 10.1938C1.98284 10.2078 2.02489 10.2333 2.05479 10.2503L5.28366 12.0903C5.44733 12.1848 5.65003 12.1848 5.81421 12.0903L9.75604 9.84429V11.3993C9.75705 11.4153 9.74945 11.4308 9.73678 11.4408L6.47295 13.3004C5.01915 14.1264 3.1625 13.6354 2.32184 12.2028H2.32133ZM1.47155 5.24819C1.82626 4.64017 2.38619 4.17516 3.05305 3.93366C3.05305 3.96116 3.05152 4.00966 3.05152 4.04366V7.72424C3.05051 7.91124 3.15186 8.08475 3.31654 8.17725L7.25838 10.4228L5.89376 11.2003C5.88008 11.2093 5.86285 11.2108 5.84765 11.2043L2.58331 9.34327C1.13255 8.51426 0.63494 6.68272 1.47104 5.24869L1.47155 5.24819ZM12.6834 7.82274L8.74157 5.57669L10.1062 4.79968C10.1199 4.79068 10.1371 4.78918 10.1523 4.79568L13.4166 6.65522C14.8699 7.48373 15.3681 9.31827 14.5284 10.7523C14.1732 11.3593 13.6138 11.8243 12.9474 12.0663V8.27575C12.9489 8.08875 12.8481 7.91574 12.6839 7.82274H12.6834ZM14.0414 5.8057C14.0176 5.7912 13.9756 5.7662 13.9457 5.7492L10.7168 3.90916C10.5531 3.81466 10.3504 3.81466 10.1863 3.90916L6.24442 6.15521V4.60017C6.2434 4.58417 6.251 4.56867 6.26367 4.55867L9.52751 2.70063C10.9813 1.87311 12.84 2.36563 13.6781 3.80066C14.0323 4.40667 14.1605 5.11618 14.0404 5.8057H14.0414ZM5.50257 8.57726L4.13744 7.79974C4.12275 7.79274 4.11312 7.77874 4.11109 7.76274V4.04316C4.11211 2.38713 5.47368 1.0451 7.15197 1.0461C7.86189 1.0461 8.54902 1.2921 9.09476 1.74011C9.06993 1.75311 9.02737 1.77661 8.99899 1.79361L5.77012 3.63365C5.60493 3.72615 5.50358 3.89916 5.50459 4.08666L5.50257 8.57626V8.57726ZM6.24391 7.00022L7.99972 5.9997L9.75553 6.99972V9.00027L7.99972 10.0003L6.24391 9.00027V7.00022Z" fill="currentColor"/>');e.s(["LogoOpenAi",0,t])},6529479,e=>{e.v({error:"error-card-module__52Cxeq__error",errorMessage:"error-card-module__52Cxeq__errorMessage",errorMessageText:"error-card-module__52Cxeq__errorMessageText",message:"error-card-module__52Cxeq__message"})},5758851,e=>{"use strict";var t=e.i(847684),r=e.i(9722978),i=e.i(6401841),a=e.i(2504781),n=e.i(4138437),s=e.i(9508212),o=e.i(1344973),l=e.i(6529479);e.s(["ErrorCard",0,function(e){let{title:u,error:d,reset:c,className:m}=e,g=d?.digest;return g&&console.log(`Error digest: ${g}`),d&&console.log(`Error message: ${d.message}`),(0,t.jsxs)(n.Card,{align:"center",className:(0,r.clsx)(l.default.error,m),gap:4,justify:"center",children:[(0,t.jsxs)(s.Stack,{align:"center",gap:2,children:[(0,t.jsx)(i.Stop,{}),(0,t.jsx)(o.Text,{align:"center",as:"h3",color:"inherit",size:16,children:u}),null]}),c?(0,t.jsx)(a.Button,{onClick:c,variant:"unstyled",children:(0,t.jsx)(o.Text,{as:"span",color:"red-900",size:16,weight:500,children:"Retry"})}):null]})}])},7231787,e=>{e.v("/_next/static/media/image-desktop.32d13ace.svg")},5988448,e=>{e.v("/_next/static/media/image-desktop-dark.27e33bc9.svg")},9185550,e=>{e.v("/_next/static/media/image-mobile.cfa00228.svg")},8448868,e=>{e.v("/_next/static/media/image-mobile-dark.524af24b.svg")},8013276,e=>{e.v("/_next/static/media/chatbot-desktop.d02d9c94.svg")},8570052,e=>{e.v("/_next/static/media/chatbot-desktop-dark.97638069.svg")},4273711,e=>{e.v("/_next/static/media/chatbot-mobile.77e8e26e.svg")},3905296,e=>{e.v("/_next/static/media/chatbot-mobile-dark.80cae054.svg")},9175625,e=>{e.v("/_next/static/media/speech-desktop.9cece11d.svg")},7946527,e=>{e.v("/_next/static/media/speech-desktop-dark.3ee1cba5.svg")},8671752,e=>{e.v("/_next/static/media/speech-mobile.4b9a1b75.svg")},3202286,e=>{e.v("/_next/static/media/speech-mobile-dark.c0a5f7bc.svg")},7516116,e=>{"use strict";var t=e.i(847684),r=e.i(6891161),i=e.i(2504781),a=e.i(4030453),n=e.i(109803),s=e.i(7185353),o=e.i(57106),l=e.i(2512825),u=e.i(1017032);function d(e){let{name:i,configurationUrl:a,onBack:s}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Modal.Body,{style:{overflow:"visible"},children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)(r.Modal.Title,{children:"Update Linked Projects"}),(0,t.jsx)("p",{className:"text-copy-14",children:`Visit ${i}'s configuration page to
            update your linked projects.`})]})}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{onClick:s,type:"secondary",children:"Close"}),(0,t.jsx)(o.ButtonLink,{href:a,suffix:(0,t.jsx)(n.External,{}),tab:!0,children:"Go to Configuration"})]})]})}e.s(["ManageProjectConnectionModalClient",0,function(e){let{configuration:n,configurationUrl:o,projects:c,size:m,teamId:g,updateAccess:f}=e,[p,h]=(0,s.useState)(!1),v=(0,u.useMutateConfigurations)({skipBillingData:!0,type:"external"}),[y,x]=(0,s.useState)((0,l.getInitialSelection)(n.projects)),[C,b]=(0,s.useState)(c),[S,j]=(0,s.useState)(!1),[M,T]=(0,s.useState)(!1),[w,k]=(0,s.useState)(null),[L,_]=(0,s.useState)(!1);return n.integration?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Button,{className:"flex-1 md:flex-none",onClick:()=>h(!0),size:m,type:"secondary",children:"Manage Access"}),(0,t.jsx)(r.Modal.Modal,{active:p,allowOverflow:!0,onAnimationDone:()=>{p||(x((0,l.getInitialSelection)(n.projects)),b(c),j(!1),T(!1),k(null),_(!1))},onClickOutside:()=>h(!1),children:L?(0,t.jsx)(d,{configurationUrl:o,name:n.integration.name,onBack:()=>h(!1)}):(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),"selected"===y&&0===C.length)return void j(!0);let t=new FormData(e.currentTarget);T(!0),f(t).then(e=>{T(!1),v(),e?.error?k(e.error):_(!0)})},style:{overflow:"visible"},children:[(0,t.jsx)("input",{name:"projects",readOnly:!0,type:"hidden",value:JSON.stringify(C.map(e=>e.id))}),(0,t.jsx)("input",{name:"selection",readOnly:!0,type:"hidden",value:y}),(0,t.jsx)("input",{name:"teamId",readOnly:!0,type:"hidden",value:g}),(0,t.jsx)("input",{name:"configurationId",readOnly:!0,type:"hidden",value:n.id}),(0,t.jsx)(r.Modal.Body,{style:{overflow:"visible"},children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)(r.Modal.Title,{children:"Manage Project Access"}),(0,t.jsx)(r.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)(l.ProjectSelectionStep,{disabled:!1,projects:C,selection:y,setProjects:b,setSelection:x,showProjectsAreRequiredError:S,teamId:g}),!!w&&(0,t.jsx)(a.Error,{error:"Something went wrong"})]})})]})}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{onClick:()=>h(!1),type:"secondary",children:"Close"}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",loading:M,children:"Update Project Access"})]})]})})]}):null}])},9570220,e=>{e.v({content:"add-domain-in-use-modal-module__nMVKqG__content",favicon:"add-domain-in-use-modal-module__nMVKqG__favicon",inset:"add-domain-in-use-modal-module__nMVKqG__inset",loadingItem:"add-domain-in-use-modal-module__nMVKqG__loadingItem",noteCenterText:"add-domain-in-use-modal-module__nMVKqG__noteCenterText",outset:"add-domain-in-use-modal-module__nMVKqG__outset",subitem:"add-domain-in-use-modal-module__nMVKqG__subitem"})},640716,e=>{"use strict";var t=e.i(847684),r=e.i(9722978),i=e.i(4585051),a=e.i(5255926),n=e.i(1138941),s=e.i(7898658),o=e.i(9570220);e.s(["FaviconOrFramework",0,function(e){let{project:l,hideSkeleton:u=!1,size:d=32,style:c}=e,m=(0,n.getProductionDeployment)(l),{data:g}=(0,s.default)({project:l}),f=(0,n.useFramework)(l);return(f||m&&g)&&u?(0,t.jsx)(i.Avatar,{className:(0,r.clsx)({[o.default.favicon]:!g?.isSquare,"bg-white/75 rounded-full shadow-border shadow-background-100 dark:bg-foreground dark:shadow-foreground":!!(!g&&f)}),size:d,src:g?.src||f?.logo,style:c,title:l?l.name:void 0}):(0,t.jsx)(a.Skeleton,{height:d,rounded:!0,style:{flexShrink:0},width:d})}])},7274338,e=>{"use strict";var t=e.i(847684),r=e.i(8367120),i=e.i(57106),a=e.i(7749291),n=e.i(1886724);e.s(["TemplateList",0,function(e){let{templates:s}=e;return(0,t.jsxs)("section",{className:"space-y-6",children:[(0,t.jsx)(n.SectionHeadline,{title:"Templates",subhead:" Jumpstart your app development process with pre-built solutions from Vercel."}),(0,t.jsx)("div",{className:"grid grid-flow-row auto-rows-auto grid-cols-1 gap-4 lg:grid-cols-2",children:s.map(e=>{let n,s;return e?(0,t.jsx)("div",{className:"material-base text-clip sm:transition-all sm:duration-100 sm:hover:drop-shadow",children:(0,t.jsxs)(i.Link,{className:"flex h-full flex-col overflow-hidden rounded",href:(n=e.slug,s=e.framework?.[0],`/templates/${(s||"next.js").toLowerCase()}/${n}`),rel:"noopener noreferrer",target:"_blank",children:[(0,t.jsx)("div",{className:"relative min-h-[200px]",children:(0,t.jsx)(r.default,{alt:"Template thumbnail",layout:"fill",objectFit:"cover",priority:!0,src:`https:${e.thumbnail.file.url}`})}),(0,t.jsxs)("div",{className:"flex h-full flex-col gap-y-2 p-4",children:[(0,t.jsx)("h3",{className:"text-heading-16",children:e.name}),(0,t.jsx)("p",{className:"text-copy-14 mb-4 line-clamp-3 text-pretty text-gray-900",children:e.description}),(0,t.jsxs)("div",{className:"text-copy-12 mt-auto flex w-full items-center justify-between text-gray-900",children:[(0,t.jsxs)("span",{children:["By ",e.publisher]}),(0,t.jsxs)("button",{"aria-label":"View demo",className:"flex cursor-pointer gap-x-0.5 border-none bg-[unset] p-0 text-gray-900 transition hover:text-gray-1000",onClick:t=>{t.preventDefault(),window.open(e.demoUrl,"_blank","noopener")},role:"link",type:"button",children:[(0,t.jsx)("span",{className:"text-copy-12",children:"Demo"}),(0,t.jsx)(a.ExternalSmall,{})]})]})]})]})},e.slug):null})})]})}])},5463009,e=>{"use strict";var t=e.i(847684),r=e.i(7185353),i=e.i(8238875),a=e.i(2504781),n=e.i(5468328),s=e.i(6352514),o=e.i(4759942),l=e.i(5338940),u=e.i(2704354),d=e.i(4065455),c=e.i(1909206),m=e.i(6835270);e.i(6887680);var g=e.i(1414602),f=e.i(5074599);function p(e){let{integration:r,product:i,size:s}=e,{permissions:o,isLoading:l}=(0,g.useResourcePermissions)(),u=(0,m.useOpenInstallMarketplaceProductModal)();return(0,t.jsx)(n.Tooltip,{disableTriggers:o.create||l,text:(0,f.missingPermissionLabel)("create","ai"),children:(0,t.jsx)(a.Button,{disabled:!o.create||l,onClick:()=>u({integration:r,product:i}),size:s,type:"secondary",children:"Install"})})}e.s(["AddProviderButton",0,function(e){let{canInstallIntegration:m,integration:g,provider:h,handleSuccess:v,onClick:y,children:x="Connect",size:C="small",type:b="secondary",product:S}=e,{team:j}=(0,l.useTeam)(),M=(0,i.useParams)(),[T,w]=(0,r.useState)(!1);return(0,u.isMarketplaceIntegration)(g)?(0,t.jsx)(c.InstallMarketplaceProductProvider,{protocolType:"ai",teamSlugOrPublic:{teamSlug:M?.teamSlug??""},displayModalsInline:!1,children:(0,t.jsx)(p,{integration:g,product:S,size:C})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Tooltip,{disableTriggers:m,text:(0,f.missingPermissionLabel)("create","ai"),children:(0,t.jsx)(a.Button,{disabled:!m,onClick:e=>{o.analytics.track(s.AnalyticsEvent.AI_MARKETPLACE_PROVIDER_MODAL_OPENED,{providerSlug:h?.slug??g.slug,teamSlug:M?.teamSlug}),w(!0),y?.(e)},size:C,type:b,children:x})}),T&&j?(0,t.jsx)(d.InstallExternalIntegrationModal,{account:j,integration:g,onAnimationDone:()=>{w(!1)},onSuccessfulInstall:v,teamSlugOrPublic:{teamSlug:j.slug}}):null]})}])},313754,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.67705 7.5L3.92705 3H12.0729L14.3229 7.5H10H9.25V8.25C9.25 8.94036 8.69036 9.5 8 9.5C7.30964 9.5 6.75 8.94036 6.75 8.25V7.5H6H1.67705ZM1.5 9V12C1.5 12.5523 1.94772 13 2.5 13H13.5C14.0523 13 14.5 12.5523 14.5 12V9H10.6465C10.32 10.1543 9.25878 11 8 11C6.74122 11 5.67998 10.1543 5.35352 9H1.5ZM3 1.5H13L15.8944 7.28885C15.9639 7.42771 16 7.58082 16 7.73607V12C16 13.3807 14.8807 14.5 13.5 14.5H2.5C1.11929 14.5 0 13.3807 0 12V7.73607C0 7.58082 0.0361451 7.42771 0.105573 7.28885L3 1.5Z" fill="currentColor"/>');e.s(["Inbox",0,t])},1555869,e=>{"use strict";var t=e.i(847684),r=e.i(9179929),i=e.i(5481907),a=e.i(8151845),n=e.i(5338940),s=e.i(5182595),o=e.i(3351543);function l(e){let{title:r,href:i,data:a}=e;return(0,t.jsxs)(o.ChartCard,{children:[(0,t.jsx)(o.CardHeader,{href:i,title:r}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(s.LineChart,{...a})})]})}var u=e.i(2749380);function d(e,t){let r=(0,u.getTimeRangePresets)(!1),i=c(e),a=c(t);for(let e of Object.values(r)){let t=e.end??new Date;if(c(e.start)===i&&c(t)===a)return!0}return!1}function c(e){return Math.floor(e.getTime()/6e4)}function m(){let{team:e}=(0,n.useTeam)(),{start:s,end:o}=(0,a.useRangeFromQueryState)(),{data:u,isLoading:c,builderQuery:m}=(0,i.useSonarQuery)({event:"aiGatewayRequest",rollups:{value:{measure:"cost",aggregation:"sum"}},tailRollup:"others",summaryOnly:!1}),g=(0,r.useTimeseriesData)(u,{singleCategoryName:"Spend",rollupName:"value"});return(0,t.jsx)(l,{title:"Spend",href:`/${e?.slug}/~/observability/ai`,data:{builderQuery:m?.value,sonarQueryResults:u,getColor:()=>"var(--ds-green-700)",data:g??[],disableLegend:!0,isLoading:c,isRelativeTime:d(s,o),lineType:"linear",formatValue:e=>`$${e.toFixed(2)}`,yAxisWidth:50,marginLeft:7}})}function g(){let{team:e}=(0,n.useTeam)(),{start:s,end:o}=(0,a.useRangeFromQueryState)(),{data:u,isLoading:c,builderQuery:m}=(0,i.useSonarQuery)({event:"aiGatewayRequest",rollups:{value:{measure:"count",aggregation:"sum"}},groupBy:["aiModel","costCurrency"],limitRanking:"top_by_summary",limit:5,tailRollup:"others",summaryOnly:!1}),g=(0,r.useTimeseriesData)(u,{category:"aiModel"});return(0,t.jsx)(l,{title:"Requests",href:`/${e?.slug}/~/observability/ai`,data:{builderQuery:m?.value,sonarQueryResults:u,data:g??[],disableLegend:!0,isLoading:c,isRelativeTime:d(s,o),lineType:"linear"}})}function f(){let{team:e}=(0,n.useTeam)(),{start:s,end:o}=(0,a.useRangeFromQueryState)(),{data:u,isLoading:c,builderQuery:m}=(0,i.useSonarQuery)({event:"aiGatewayRequest",rollups:{inputTokens:{measure:"inputTokens",aggregation:"sum"},outputTokens:{measure:"outputTokens",aggregation:"sum"},cachedInputTokens:{measure:"cachedInputTokens",aggregation:"sum"},reasoningTokens:{measure:"reasoningTokens",aggregation:"sum"}},summaryOnly:!1}),g=(0,r.useTimeseriesData)(u,{rollupCategories:{inputTokens:"Input Tokens",outputTokens:"Output Tokens",reasoningTokens:"Output Tokens",cachedInputTokens:"Cached Input Tokens"}})??[];return(0,t.jsx)(l,{title:"Tokens",href:`/${e?.slug}/~/observability/ai`,data:{builderQuery:m?.value,sonarQueryResults:u,data:g,lineType:"step",isLoading:c,isRelativeTime:d(s,o),rollupConfig:{method:"sum",showTrend:!1},showRollup:!0,yAxisDomain:[0,500]}})}function p(){let{team:e}=(0,n.useTeam)(),{start:s,end:o}=(0,a.useRangeFromQueryState)(),{data:u,isLoading:c,builderQuery:m}=(0,i.useSonarQuery)({event:"aiGatewayRequest",rollups:{value:{measure:"timeToFirstTokenMs",aggregation:"avg"}},tailRollup:"others",summaryOnly:!1}),g=(0,r.useTimeseriesData)(u,{singleCategoryName:"Average TTFT",rollupName:"value"});return(0,t.jsx)(l,{title:"Average TTFT",href:`/${e?.slug}/~/observability/ai`,data:{builderQuery:m?.value,sonarQueryResults:u,data:g??[],formatValue:e=>`${(e/1e3).toFixed(2)}s`,disableLegend:!0,isLoading:c,isRelativeTime:d(s,o),lineType:"linear"}})}e.s(["ActivityGrid",0,function(){return(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsx)(m,{}),(0,t.jsx)(p,{}),(0,t.jsx)(g,{}),(0,t.jsx)(f,{})]})}],1555869)},2734076,e=>{"use strict";var t=e.i(847684),r=e.i(1794286),i=e.i(1174741),a=e.i(3738416),n=e.i(8119470),s=e.i(8151845),o=e.i(7185353),l=e.i(2749380),u=e.i(1683927),d=e.i(7917902),c=e.i(5338940),m=e.i(4597921),g=e.i(854682),f=e.i(7622186);e.s(["AIGatewayCalendar",0,function(){let[e,p]=(0,s.useSonarQueryState)(),{start:h,end:v,isRelativeTime:y}=(0,s.useRangeFromQueryState)(),{data:x}=(0,u.useBillingCycles)(),{team:C,user:b}=(0,d.useAccount)(),S=!!(C||b)?.billing?.period,{team:j}=(0,c.useTeam)(),{hasObservabilityPlusAccessOnCurrentProject:M}=(0,g.useHasObservabilityPlus)(),T=(0,m.useServerFlag)("observability-maximum-lookback","inherit"),w=(0,o.useMemo)(()=>{if(!j)return(0,n.subDays)(new Date,1);let e=(0,f.getMaximumLookback)({team:j,hasObservabilityPlusAccess:M,observabilityMaximumLookbackFlag:T});return new Date(Date.now()-e)},[j,M,T]),k=(0,o.useMemo)(()=>y?void 0:{start:h,end:v},[y,h,v]),L=(0,o.useMemo)(()=>{let e=(0,l.getTimeRangePresets)(!1),t={};if(S&&x?.current?.start){let e=(0,a.startOfDay)(new Date(x.current.start)),r=(0,i.endOfDay)(new Date(x.current.end)),n=(0,i.endOfDay)(new Date),s=r.getTime()>n.getTime()?n:r;e.getTime()>=w.getTime()&&(t["current-billing-cycle"]={text:"Current Billing Cycle",start:e,end:s})}for(let r of["1h","6h","12h","1d","3d","7d","14d","30d"]){let i=e[r];i&&(i.start<w||(t[String(r)]={text:i.text,start:i.start,end:i.end??new Date}))}return t},[x,S,w]),_=(0,o.useMemo)(()=>[{presets:Object.entries(L).map(e=>{let[t,r]=e;return{key:t,...r}})}],[L]),D=(0,o.useMemo)(()=>{if(!e.from&&!e.to&&e.period&&L[e.period])return e.period;if(S&&x?.current?.start&&e.from&&e.to){let t=(0,a.startOfDay)(new Date(x.current.start)),r=(0,i.endOfDay)(new Date(x.current.end)),n=(0,i.endOfDay)(new Date),s=r.getTime()>n.getTime()?n:r;if((0,a.startOfDay)(e.from).getTime()===t.getTime()&&(0,a.startOfDay)(e.to).getTime()===(0,a.startOfDay)(s).getTime())return"current-billing-cycle"}},[x,S,e.from,e.to,e.period,L]);return(0,o.useEffect)(()=>{if(j&&h<w){let e=Object.entries(L).map(e=>{let[t,r]=e;return{key:t,start:r.start}}).filter(e=>{let{start:t}=e;return t.getTime()>=w.getTime()}).sort((e,t)=>e.start.getTime()-t.start.getTime());p({period:e[0]?.key??"1d"})}},[j,h,w,L,p]),(0,t.jsx)("div",{className:"w-[210px]",children:(0,t.jsx)(r.Calendar,{maxDuration:{months:3},minValue:w,maxValue:(0,i.endOfDay)(new Date),onChange:(e,t)=>{if(t&&t in L){if("current-billing-cycle"===t){let e=L[t];p({from:(0,a.startOfDay)(new Date(e.start)),to:(0,i.endOfDay)(new Date(e.end??new Date))});return}p({period:t});return}p({from:new Date(e.start),to:new Date(e.end)})},presets:_,presetKey:D,value:k,width:"210px"})})}])},9381025,e=>{"use strict";var t=e.i(847684),r=e.i(7909933),i=e.i(7185353),a=e.i(8161149),n=e.i(5758851),s=e.i(313754);e.i(9623499);var o=e.i(5576066),l=e.i(5338940),u=e.i(8151845),d=e.i(1233856),c=e.i(1230902),m=e.i(7467654),g=e.i(2936702),f=e.i(3646124),p=e.i(7797615),h=e.i(5441366),v=e.i(2504781),y=e.i(3993360);function x(e){var r;let{cell:i}=e,a=i.value,n=new Date(a.endsWith("Z")?a:`${a}Z`);return Number.isNaN(n.getTime())?(0,t.jsx)("div",{className:"py-2 text-gray-900 whitespace-nowrap",children:"-"}):(0,t.jsx)("div",{className:"py-2 text-gray-900 whitespace-nowrap",children:(r=n,(0,c.format)(r,"MMM dd HH:mm:ss").toUpperCase())})}function C(e){let{cell:r}=e,i=(0,m.getOrganizationDisplayName)(r.value);return(0,t.jsx)("div",{className:"overflow-hidden text-ellipsis text-nowrap py-2 text-gray-900",children:i})}function b(e){let{data:r,customPagination:a,defaultPageSize:n,onSearchChange:s,exportBaseUrl:o,onSortChange:l,externalPageIndex:u}=e,d=void 0===r,[c,b]=(0,i.useState)(!1),j=(0,i.useMemo)(()=>d?Array(10).fill(null):Array.isArray(r)?r:[],[d,r]),M=(0,i.useMemo)(()=>[{Header:"Time",accessor:"timestamp",Cell:x,disableGlobalFilter:!0,columnClassName:"w-[160px] min-w-[120px] max-w-[180px]"},{Header:"Model",accessor:"aiModel",columnClassName:"pr-5",sortDescFirst:!1,Cell:f.ColoredDotCell,disableGlobalFilter:!1},{Header:"Provider",accessor:"aiProvider",Cell:C,disableGlobalFilter:!1},{Header:"Cost",accessor:"cost",columnAlignment:"right",columnClassName:"w-28 max-w-32 min-w-28",Cell:f.NumericCell,cellFormatter:p.formatNumberUsdPrecise},{Header:"Input tokens",accessor:"inputTokens",columnAlignment:"right",columnClassName:"w-28 max-w-32 min-w-28",Cell:f.NumericCell,cellFormatter:p.formatNumberCompact},{Header:"Output tokens",accessor:"outputTokens",columnAlignment:"right",columnClassName:"w-28 max-w-32 min-w-28",Cell:f.NumericCell,cellFormatter:p.formatNumberCompact},{Header:"Duration",accessor:"aiRequestDurationMs",columnAlignment:"right",Cell:f.NumericCell,cellFormatter:S}],[]),T=(0,i.useCallback)((e,t,r)=>{let i=(r||"").toLowerCase().trim();return i?e.filter(e=>{let t=String(e.original.aiModel??"").toLowerCase(),r=(0,m.getOrganizationDisplayName)(String(e.original.aiProvider??"")).toLowerCase();return t.includes(i)||r.includes(i)}):e},[]),w=(0,i.useCallback)(async()=>{try{b(!0),await new Promise(e=>setTimeout(e,0));let e=[];if(o){let t=0;for(;;){let r=`${o}&limit=1000&offset=${t}`,i=await fetch(r,{cache:"no-store"});if(!i.ok)break;let a=await i.json(),n=Array.isArray(a.data)?a.data:[];if(e=e.concat(n),(a.pageInfo?.returned??n.length)<1e3||e.length>=1e6)break;t+=1e3}}else e=Array.isArray(r)?r:[];let t=e.map(e=>[String(e.timestamp??""),String(e.aiModel??""),String(e.aiProvider??""),Number.isFinite(e.cost)?String(e.cost):"",Number.isFinite(e.inputTokens)?String(e.inputTokens):"",Number.isFinite(e.outputTokens)?String(e.outputTokens):"",Number.isFinite(e.aiRequestDurationMs)?String(e.aiRequestDurationMs):""]),i=["Time,Model/creator,Provider,Cost,Input tokens,Output tokens,Duration (ms)",...t.map(e=>e.map((e,t)=>{let r,i;return t<=2?(r=/[",\n\r]/.test(e),i=e.replace(/"/g,'""'),r?`"${i}"`:i):e}).join(","))].join("\r\n"),a=new Blob([`\uFEFF${i}`],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),s=document.createElement("a");s.href=n,s.download="gateway-inference-requests.csv",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}finally{b(!1)}},[r,o]);return(0,t.jsx)(g.SonarTable,{columns:M,data:j,isLoading:d,defaultPageSize:n,defaultSort:[{id:"timestamp",desc:!0}],plugins:[h.useGlobalFilter,h.useSortBy,h.usePagination],globalFilter:T,onGlobalFilterChange:s,customPagination:a,externalPageIndex:u,manualSortBy:!0,onSortChange:l,renderCustomActions:()=>(0,t.jsx)(v.Button,{prefix:(0,t.jsx)(y.Download,{}),type:"secondary",loading:c,disabled:d||c||!r||0===r.length,onClick:w,children:c?"Exporting…":"Export CSV"})})}function S(e){if(!Number.isFinite(e))return"-";let t=e/1e3;if(t<60){let e=t.toFixed(2).replace(/\.?0+$/,"");return`${e}s`}if(t<3600){let e=Math.floor(t/60),r=Math.floor(t%60);return 0===r?`${e}m`:`${e}m${r}s`}let r=Math.floor(t/3600),i=Math.floor(t%3600/60);return 0===i?`${r}h`:`${r}h${i}m`}function j(e){let t=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0"),i=String(e.getUTCDate()).padStart(2,"0"),a=String(e.getUTCHours()).padStart(2,"0"),n=String(e.getUTCMinutes()).padStart(2,"0"),s=String(e.getUTCSeconds()).padStart(2,"0");return`${t}-${r}-${i} ${a}:${n}:${s}`}e.s(["InferenceRequestsData",0,function(){let{team:e}=(0,l.useTeam)(),{start:c,end:m,isRelativeTime:g}=(0,u.useRangeFromQueryState)(),f=g?(0,d.startOfDuration)(c,{minutes:1}):c,p=g?(0,d.endOfDuration)(m,{minutes:1}):m,[h,v]=(0,i.useState)(10),[y,x]=(0,i.useState)(0),[C,S]=(0,i.useState)(void 0),[M,T]=(0,i.useState)("timestamp"),[w,k]=(0,i.useState)(!0),[L,_]=(0,i.useState)(!0),D=(0,i.useRef)(Date.now()),N=(0,i.useRef)(null),O=(0,i.useMemo)(()=>{if(!e)return null;let t=j(f),r=j(p),i=new URLSearchParams({ownerId:e.id,startTime:t,endTime:r});return C&&C.trim().length>0&&i.set("q",C.trim()),`/api/ai/gateway-inference-requests?${i.toString()}`},[e,f,p,C]),I=(0,i.useMemo)(()=>{if(!O)return null;let e=Math.max(100,Math.min(500,5*h)),t=Math.floor(y*h/e)*e,r=w?"DESC":"ASC";return`${O}&limit=${e}&offset=${t}&sortBy=${encodeURIComponent(M)}&sortDir=${r}`},[O,y,h,M,w]),{data:R,isValidating:A,error:P,mutate:F}=(0,r.default)(I,async e=>{let t=new AbortController,r=await fetch(e,{cache:"no-store",signal:t.signal});if(!r.ok){let e=Error(`Failed to fetch inference requests: ${r.status} ${r.statusText}`);e.status=r.status;try{e.info=await r.json()}catch{}throw e}let i=await r.json();return i&&Array.isArray(i.data)?i:{data:[]}},{revalidateIfStale:!1,refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1,keepPreviousData:!0,dedupingInterval:6e4,errorRetryCount:1,errorRetryInterval:1e4});(0,i.useEffect)(()=>{D.current=Date.now(),N.current&&(clearTimeout(N.current),N.current=null);let e=setTimeout(()=>{_(!0)},0),t=setTimeout(()=>{_(!1)},2e3);return()=>{clearTimeout(e),clearTimeout(t),N.current&&clearTimeout(N.current)}},[I]),(0,i.useEffect)(()=>{if(!A&&R){let e=Date.now()-D.current;if(R.data&&R.data.length>0){let e=setTimeout(()=>{_(!1)},0);return N.current&&(clearTimeout(N.current),N.current=null),()=>clearTimeout(e)}if(e<500)N.current=setTimeout(()=>{_(!1)},500-e);else{let e=setTimeout(()=>{_(!1)},0);return()=>clearTimeout(e)}}return()=>{N.current&&(clearTimeout(N.current),N.current=null)}},[A,R]);let E=(0,i.useMemo)(()=>{if(L||A)return;let e=R?.data??[],t=Math.max(100,Math.min(500,5*h)),r=y*h,i=Math.floor(r/t)*t,a=r-i;return e.slice(a,a+h)},[R?.data,A,L,y,h]),V=(0,i.useMemo)(()=>{let e=R?.pageInfo?.total;if("number"==typeof e&&Number.isFinite(e))return y+1<Math.max(1,Math.ceil(e/h));let t=R?.pageInfo?.returned??0,r=Math.max(100,Math.min(500,5*h)),i=y*h,a=Math.floor(i/r)*r;return t>i-a+h||t===r},[R?.pageInfo?.total,R?.pageInfo?.returned,y,h]),$=(0,i.useCallback)(()=>{V&&x(e=>e+1)},[V]),H=(0,i.useCallback)(()=>{x(e=>Math.max(0,e-1))},[]),B=(0,i.useCallback)(e=>{v(e),x(0)},[]),q=(0,i.useMemo)(()=>{let e=R?.pageInfo?.total;return"number"==typeof e&&Number.isFinite(e)?Math.max(1,Math.ceil(e/h)):y+(V?2:1)},[R?.pageInfo?.total,h,y,V]),G=(0,i.useMemo)(()=>({onNextPage:$,onPrevPage:H,onSetPageSize:B,pageCount:q}),[$,H,B,q]),U=(0,i.useMemo)(()=>{if(!O)return;let e=w?"DESC":"ASC";return`${O}&sortBy=${encodeURIComponent(M)}&sortDir=${e}`},[O,M,w]);if(P&&!R){let e=401===P.status||403===P.status?"You do not have permission to view inference requests":"Failed to load inference requests";return(0,t.jsx)("div",{className:"rounded-md border border-red-200 bg-red-50 p-4",children:(0,t.jsx)(n.ErrorCard,{title:e,error:P,reset:()=>void F()})})}return void 0!==E&&Array.isArray(E)&&0===E.length?(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsx)("div",{className:"flex min-h-80 items-center justify-center bg-background-100",children:(0,t.jsx)(a.EmptyState.Root,{border:!1,description:"Once you route traffic through AI Gateway, you'll see model usage, costs, and latency here.",icon:(0,t.jsx)(a.EmptyState.Icon,{icon:(0,t.jsx)(s.Inbox,{size:16}),size:24}),title:"No requests yet",secondary:!0,className:"bg-background-100",children:(0,t.jsx)(o.Link,{"data-zone":"dashboard",href:"../quick-start",type:"secondary",children:"View Quick Start"})})})}):(0,t.jsx)(b,{data:E,customPagination:G,defaultPageSize:h,exportBaseUrl:U,externalPageIndex:y,onSortChange:e=>{e?(T(e.id),k(e.desc)):(T("timestamp"),k(!0)),x(0)},onSearchChange:e=>{S(e?.trim()?e:void 0),x(0)}})}],9381025)},9494594,e=>{"use strict";var t=e.i(847684);e.i(5335102);var r=e.i(6764151),i=e.i(2831393),a=e.i(2504781),n=e.i(8522580),s=e.i(7185353),o=e.i(3089600);e.s(["AddPaymentMethodModal",0,function(){let{hasVerifiedPaymentMethod:e,loading:l,mutate:u}=(0,i.useAiCreditsBalance)(),[d,c]=(0,s.useState)(!1);return(0,o.default)("modal",e=>{"add-credit-card"===e&&c(!0)}),l||e?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Note,{fill:!0,action:(0,t.jsx)(a.Button,{size:"small",onClick:()=>{c(!0)},children:"Add a Card"}),children:"Verify your identity by adding a credit card and unlock $5 in free credits."}),(0,t.jsx)(r.CreditCardModal,{isActive:d,paying:!1,onAbort:()=>{c(!1)},onContinue:()=>{u(),c(!1)}})]})}])},1167392,e=>{"use strict";var t=e.i(847684),r=e.i(4375105),i=e.i(6050744),a=e.i(57106);e.s(["OverviewHeader",0,function(){return(0,t.jsx)("div",{className:"w-full max-w-[var(--geist-page-width)] mx-auto mb-4",children:(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center gap-9",children:[(0,t.jsxs)("div",{className:"mb-2 space-y-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"AI Gateway Overview"}),(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Seamlessly integrate AI models into your Vercel project."," ",(0,t.jsx)(a.Link,{className:"text-blue-900",external:!0,href:"/docs/ai-gateway",children:"Learn more"})]})]}),(0,t.jsxs)("nav",{className:"flex flex-row gap-2.5 shrink-0",children:[(0,t.jsx)(r.ViewBalanceAndPurchaseCreditsModal,{}),(0,t.jsx)(i.OptionsMenu,{})]})]})})}])}]);

//# debugId=a9e61d74-f18d-a25e-168d-022c27878029
//# sourceMappingURL=e3fb911f1cd8110b.js.map