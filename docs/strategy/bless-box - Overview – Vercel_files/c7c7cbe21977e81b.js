;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9836e93f-f4e2-115f-435d-8a8e20d72687")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9431287,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8C14.5 11.5899 11.5899 14.5 8 14.5ZM0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8ZM7.53033 11.2803L10.1106 8.70004C10.4972 8.31342 10.4972 7.68658 10.1106 7.29996L7.53033 4.71967L7 4.18934L5.93934 5.25L6.46967 5.78033L8.68934 8L6.46967 10.2197L5.93934 10.75L7 11.8107L7.53033 11.2803Z" fill="currentColor"/>');e.s(["ChevronCircleRight",0,t])},2787515,e=>{e.v({container:"styles-module__XcXmqW__container",dot:"styles-module__XcXmqW__dot",pulse:"styles-module__XcXmqW__pulse"})},7691654,e=>{e.v({container:"index-module__VSH8Za__container",empty:"index-module__VSH8Za__empty",emptyMessage:"index-module__VSH8Za__emptyMessage",events:"index-module__VSH8Za__events",filterHeader:"index-module__VSH8Za__filterHeader",filters:"index-module__VSH8Za__filters",header:"index-module__VSH8Za__header",month:"index-module__VSH8Za__month",option:"index-module__VSH8Za__option",optionsContainer:"index-module__VSH8Za__optionsContainer",searchInput:"index-module__VSH8Za__searchInput",selectAll:"index-module__VSH8Za__selectAll",skeletonRow:"index-module__VSH8Za__skeletonRow",title:"index-module__VSH8Za__title",toggle:"index-module__VSH8Za__toggle"})},6362115,e=>{"use strict";var t=e.i(847684),a=e.i(7185353),s=e.i(2504781),i=e.i(3869281),n=e.i(6870754),r=e.i(5255926),l=e.i(6226725),d=e.i(7580732),c=e.i(5140444),o=e.i(5338940),x=e.i(7917902),p=e.i(6774523),m=e.i(8484559),g=e.i(8835183),u=e.i(7047540),h=e.i(526657),f=a,j=e.i(5802506),b=e.i(7712782);let y=new Set(["scale","scale-auto","cert-autorenew","custom-suffix-clear","custom-suffix-pending","custom-suffix-ready","alias-system","domain-transfer-in-canceled","domain-transfer-in-completed"]);var v=e.i(57106),_=e.i(9375869);function w(e){let{name:a,section:s}=e,{team:i,isTeam:n,isReady:r}=(0,o.useTeam)(),{data:l}=(0,c.useUser)();return r?(0,t.jsx)(v.Link,{as:`/${n?i?.slug:l?.user?.username}/${a}${s?`/${s}`:""}`,href:`/[teamSlug]/[project]${s?`/${s}`:""}`,children:(0,t.jsx)("b",{children:a})}):(0,t.jsx)("b",{children:a})}e.i(2598434);var k=e.i(1637579);function N(e){let a=k.default[e.region];if(!a&&"all"!==e.region)return null;let{flagURL:s,name:i}=a;return(0,t.jsxs)("span",{className:"jsx-dd69a5918c0e42fd region-wrapper",children:["all"===e.region?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{alt:"World",src:"https://assets.vercel.com/image/upload/front/about/world.svg",className:"jsx-dd69a5918c0e42fd"}),(0,t.jsx)("span",{className:"jsx-dd69a5918c0e42fd region",children:"All Regions"})]}):(0,t.jsxs)("span",{className:"jsx-dd69a5918c0e42fd",children:[(0,t.jsx)("img",{alt:i,src:s,className:"jsx-dd69a5918c0e42fd"}),e.short?null:(0,t.jsxs)("span",{className:"jsx-dd69a5918c0e42fd region",children:[a,", "]}),(0,t.jsx)("span",{className:"jsx-dd69a5918c0e42fd label",children:i})]}),(0,t.jsx)(u.default,{id:"dd69a5918c0e42fd",children:".region-wrapper.jsx-dd69a5918c0e42fd{white-space:pre;cursor:default;display:inline-block}img.jsx-dd69a5918c0e42fd{border:1px solid var(--accents-2);vertical-align:-3px;border-radius:8px;width:16px;height:16px;margin-right:5px;display:inline-block}"})]})}function D(e){let{name:a,slug:s}=e;return s?(0,t.jsx)(v.Link,{href:`/integrations/${s}`,children:(0,t.jsx)("b",{children:a})}):(0,t.jsx)("b",{children:a})}let C=(0,a.memo)(function(e){let{team:s,text:i,entities:n}=e,r=[],l=0,d=n.reduce((e,t)=>{switch(t.type){case"github_login":e.github_login=t.login;break;case"gitlab_login":e.gitlab_login=t.login;break;case"bitbucket_login":t.profileLink&&(e.bitbucket_profile=t.profileLink);break;case"region":e.region=t.region;break;case"flag":e.flags_url=s?`/${s.slug}/${t.projectId}/flag/${t.slug}?flagId=${t.id}`:void 0;break;case"flags-segment":e.flags_url=s?`/${s.slug}/${t.projectId}/flags/segments/${t.slug}?segmentId=${t.id}`:void 0;break;case"flags-settings":e.flags_url=s?`/${s.slug}/${t.projectId}/flags/entities`:void 0}return e},{});return n.forEach(e=>{if(-1===e.start||-1===e.end)return;l<e.start&&r.push(i.substring(l,e.start));let n=((e,s,i,n)=>{let r=JSON.stringify(s),l=e.substring(s.start,s.end);switch(s.type){case"git_link":return(0,t.jsx)(v.Link,{className:"git",href:s.url,children:l},r);case"link":return(0,t.jsx)(v.Link,{href:s.url||(l.startsWith("https")?l:`https://${l}`),tab:!0,variant:"highlight",children:(0,t.jsx)("b",{children:l})},r);case"deployment_host":return(0,t.jsx)(_.default,{host:s.host||l,children:l},r);case"target":return(0,t.jsx)(_.default,{host:s.host,children:s.target},r);case"project_name":return(0,t.jsx)(w,{name:l},r);case"integration":return(0,t.jsx)(D,{name:l,slug:s.integrationSlug},r);case"app":if(n&&s.appId)return(0,t.jsx)(v.Link,{className:"git",href:`/${n.slug}/~/settings/apps/${s.appId}`,children:l},r);return(0,t.jsx)("b",{children:l},r);case"dns_record":return(0,t.jsxs)("div",{className:"jsx-c4904f131a86a254 record",children:[l.slice(0,80)+(l.slice(0,80).length<l.length?"…":""),(0,t.jsx)(u.default,{id:"c4904f131a86a254",children:".record.jsx-c4904f131a86a254{background:var(--geist-background);border:1px solid var(--accents-2);color:var(--geist-foreground);font-family:var(--font-sans);border-radius:5px;margin-top:10px;margin-bottom:10px;padding:5px 10px;font-size:13px}"})]},r);case"scaling_rules":let d;return(0,t.jsxs)(a.Fragment,{children:[" ","in regions: ",(d=Object.entries(s).flatMap(e=>{let[t,a]=e;if(!a||"object"!=typeof a)return[];let s="min"in a&&"number"==typeof a.min?a.min:null,i="max"in a&&"number"==typeof a.max?a.max:null;return null==s||null==i?[]:[[t,{min:s,max:i}]]})).map((e,s)=>{let[i,{min:n,max:r}]=e;return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsx)(N,{region:i})," (min:"," ",(0,t.jsx)("span",{className:"parameter",children:n}),", max:"," ",(0,t.jsx)("span",{className:"parameter",children:r})," )",s===d.length-1?"":", "]},`${i}-${s}`)})]},r);case"author":if(i.github_login)return(0,t.jsx)(v.Link,{className:"git",href:`https://github.com/${i.github_login}`,tab:!0,children:l},r);if(i.gitlab_login)return(0,t.jsx)(v.Link,{className:"git",href:`https://gitlab.com/${i.gitlab_login}`,tab:!0,children:l},r);if(i.bitbucket_profile)return(0,t.jsx)(v.Link,{className:"git",href:i.bitbucket_profile,tab:!0,children:l},r);return(0,t.jsx)("b",{children:l},r);case"env_var_name":return(0,t.jsx)("b",{title:l,children:l.length>32?`${l.substring(0,32)}...`:l},r);case"flag":case"flags-segment":case"flags-settings":if(i.flags_url)return(0,t.jsx)(v.Link,{className:"flags",href:i.flags_url,children:l},r);return(0,t.jsx)("b",{children:l},r);default:return(0,t.jsx)("b",{children:l.length>1e3?`${l.substring(0,1e3)}...`:l},r)}})(i,e,d,s);r.push(n),l=e.end}),l<i.length-1&&r.push(i.substring(l,i.length)),(0,t.jsxs)("span",{className:"jsx-81d04860dac187d1 message",children:[r,(0,t.jsx)(u.default,{id:"81d04860dac187d1",children:".message.jsx-81d04860dac187d1{word-break:break-word;color:var(--accents-6);flex:1;margin-top:2.5px;margin-bottom:2.5px}.message.jsx-81d04860dac187d1 span.jsx-81d04860dac187d1{color:var(--geist-foreground)}.grouped.jsx-81d04860dac187d1 .message.jsx-81d04860dac187d1:first-letter{text-transform:capitalize}.message.jsx-81d04860dac187d1 a{display:inline}.message.jsx-81d04860dac187d1 .git,.message.jsx-81d04860dac187d1 .flags{color:var(--geist-foreground);text-decoration:none}.message.jsx-81d04860dac187d1 .git:hover,.message.jsx-81d04860dac187d1 .flags:hover{text-decoration:underline}.message.jsx-81d04860dac187d1 .external{margin-top:2px;margin-left:5px}.message.jsx-81d04860dac187d1 .external svg{margin-bottom:-1px}.message.jsx-81d04860dac187d1 b{color:var(--geist-foreground);font-weight:400}"})]})});var S=a,L=e.i(9431287),$=e.i(4450569),I=e.i(415061),O=e.i(3959677),M=e.i(5371931),A=e.i(9222994),V=e.i(8651268);let T=(0,S.createContext)(!1);T.displayName="GroupedContext";class H extends S.PureComponent{getUserInfo(){let{principalId:e,principal:a,viaIds:s,via:i,isSystem:n,viewer:r,githubLogin:l,gitlabLogin:d,bitbucketLogin:c}=this.props;if(n)return(0,t.jsx)(I.default,{height:30,style:{marginRight:"8px"},width:30});if(l||d||c)return(0,t.jsxs)("span",{className:"jsx-9ca68f56f7c4edc8 icon",children:[l?(0,t.jsx)(O.default,{background:!0,height:30,width:30}):d?(0,t.jsx)(M.default,{background:!0,height:30,width:30}):c?(0,t.jsx)(A.default,{background:!0,height:30,width:30}):null,(0,t.jsx)(u.default,{id:"9ca68f56f7c4edc8",children:".icon.jsx-9ca68f56f7c4edc8{border:1px solid var(--accents-2);vertical-align:middle;border-radius:100%;flex-direction:column;justify-content:center;align-items:center;width:30px;min-width:30px;height:30px;min-height:30px;margin-right:8px;line-height:0;display:flex;position:relative;-webkit-mask-image:-webkit-radial-gradient(circle,#fff,#000)}"})]});let o=(0,V.getPrincipalName)({...this.props,viewerId:r?.uid}),x=(0,V.getViaName)({...this.props,viewerId:r?.uid}),p=null;return o&&x?p=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"inline-block pr-[10px]",children:o})," via"," ",(0,t.jsx)("span",{className:"inline-block pr-[10px]",children:x})]}):o&&(p=(0,t.jsx)("span",{className:"inline-block pr-[10px]",children:o})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"jsx-8d6ea54ceff4a1d6 avatar",children:(0,t.jsx)(V.PrincipalAvatar,{size:30,principalId:e,principal:a,viaIds:s,via:i})}),p,(0,t.jsx)(u.default,{id:"8d6ea54ceff4a1d6",children:".avatar.jsx-8d6ea54ceff4a1d6{padding-right:10px;line-height:0;display:inline-block}"})]})}render(){let{project:e,children:a}=this.props;return(0,t.jsx)(T.Provider,{value:!0,children:(0,t.jsxs)("div",{className:"jsx-56f5be349e53db74 event-group mt-2",children:[(0,t.jsx)("div",{className:"jsx-56f5be349e53db74 header",children:(0,t.jsxs)($.default,{flex:"none",full:!0,row:!0,vcenter:!0,children:[this.getUserInfo(),(0,t.jsx)(L.ChevronCircleRight,{color:"gray-500"}),(0,t.jsx)("span",{className:"jsx-56f5be349e53db74 appname",children:e})]})}),(0,t.jsx)("div",{className:"jsx-56f5be349e53db74 events",children:a}),(0,t.jsx)(u.default,{id:"56f5be349e53db74",children:".event-group.jsx-56f5be349e53db74{background:var(--ds-background-100);border:1px solid var(--ds-gray-alpha-400);border-radius:8px;padding:10px 0 10px 10px}.header.jsx-56f5be349e53db74{align-items:center;display:flex}.appname.jsx-56f5be349e53db74{white-space:nowrap;margin:0 10px;display:inline-block}.region.jsx-56f5be349e53db74{margin:0 10px}.events.jsx-56f5be349e53db74{margin-left:28px}@media (max-width:1048px){.event-group.jsx-56f5be349e53db74{padding:10px}.header.jsx-56f5be349e53db74{align-items:center;display:flex}.avatar.jsx-56f5be349e53db74{padding-right:10px;line-height:0;display:inline-block}.name.jsx-56f5be349e53db74{padding-right:10px;display:inline-block}.appname.jsx-56f5be349e53db74{margin:0 10px;display:inline-block}.region.jsx-56f5be349e53db74{margin:0 10px}.region.jsx-56f5be349e53db74 b.jsx-56f5be349e53db74{width:10px;display:inline-block}.events.jsx-56f5be349e53db74{margin-left:28px}@media (max-width:950px){.event-group.jsx-56f5be349e53db74{padding:10px 10px 4px}}@media (max-width:600px){.header.jsx-56f5be349e53db74{flex-direction:column;align-items:flex-start}}}"})]})})}}var Z=a;class U extends Z.default.PureComponent{render(){let{size:e=80}=this.props;return(0,t.jsxs)("span",{style:{width:e,height:e},className:"jsx-2e368e43512b866c",children:[(0,t.jsx)("img",{alt:"geist",src:"https://assets.vercel.com/image/upload/front/zeit/geist-v2.png",title:"geist",className:"jsx-2e368e43512b866c"}),(0,t.jsx)(u.default,{id:"2e368e43512b866c",children:"span.jsx-2e368e43512b866c{border:1px solid var(--accents-2);border-radius:100%;line-height:0;display:inline-block;overflow:hidden}img.jsx-2e368e43512b866c{width:100%;height:100%}"})]})}}class R extends f.PureComponent{constructor(e){super(e),this.state={createdAgoTitle:new Date(e.event.createdAt).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"})}}render(){let{event:e,team:a,now:s,lite:i}=this.props,n=y.has(e.type);return(0,t.jsx)(T.Consumer,{children:r=>(0,t.jsxs)("div",{"aria-label":"Event",role:"listitem",className:u.default.dynamic([["da81e9410b0ab73",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" "+("event"+(r?" grouped":"")+(a?" team":"")||""),children:[(0,t.jsx)("div",{className:u.default.dynamic([["da81e9410b0ab73",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" event-inner",children:(0,t.jsxs)("div",{className:u.default.dynamic([["da81e9410b0ab73",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" main row",children:[(0,t.jsx)("span",{className:u.default.dynamic([["da81e9410b0ab73",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" avatar",children:n?(0,t.jsx)(U,{size:r?16:30}):(0,t.jsx)(V.PrincipalAvatar,{principalId:e.principalId,principal:e.principal,viaIds:e.viaIds,via:e.via,size:r?16:32,iconSize:r?12:14,entities:e.entities,viewerId:this.props.viewer?.uid})}),(0,t.jsxs)("div",{className:u.default.dynamic([["da81e9410b0ab73",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" main-body row",children:[(0,t.jsx)(F,{event:e,children:(0,t.jsx)(C,{team:a,...e})}),(0,t.jsx)(h.RelativeTimeCard,{date:e.createdAt,children:(0,t.jsx)("div",{className:u.default.dynamic([["da81e9410b0ab73",[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""]]])+" created",children:(0,b.ago)(s-e.createdAt,{suffix:""})})})]})]})}),(0,t.jsx)(u.default,{id:"da81e9410b0ab73",dynamic:[i?0:"10px",i?0:"10px",r?"initial":"30px",i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""],children:`.event-inner.__jsx-style-dynamic-selector{padding:14px ${i?0:"10px"}}.grouped.__jsx-style-dynamic-selector .event-inner.__jsx-style-dynamic-selector{padding:5px ${i?0:"10px"}}hr.__jsx-style-dynamic-selector{border:none;border-top:1px solid var(--accents-2);margin:0}.grouped.__jsx-style-dynamic-selector hr.__jsx-style-dynamic-selector{border-top:none}.row.__jsx-style-dynamic-selector{gap:14px;display:flex}.main.__jsx-style-dynamic-selector{align-items:flex-start}.main-body.__jsx-style-dynamic-selector{line-height:${r?"initial":"30px"};${i?`
            line-height: 20px;
            margin-top: 4px;
            margin-left: 5px;
            `:""};flex:1;align-items:center}.avatar.__jsx-style-dynamic-selector{width:auto;height:auto;margin-top:2px;margin-right:10px;display:flex}.created.__jsx-style-dynamic-selector{color:var(--ds-gray-900);text-align:right;white-space:nowrap;margin-left:10px;transition:all .2s}@media (max-width:600px){.main-body.__jsx-style-dynamic-selector{line-height:24px}.main-body.__jsx-style-dynamic-selector .message{margin-top:4px;margin-bottom:4px}.avatar.__jsx-style-dynamic-selector{margin-top:0}}@media (max-width:1048px){.event.__jsx-style-dynamic-selector:hover{background:0 0}.event-inner.__jsx-style-dynamic-selector{padding:10px 0}.grouped.__jsx-style-dynamic-selector .event-inner.__jsx-style-dynamic-selector{padding:10px 0 10px 10px}.grouped.__jsx-style-dynamic-selector hr.__jsx-style-dynamic-selector{border-top:1px solid var(--accents-2);margin-left:10px}.grouped.__jsx-style-dynamic-selector .avatar.__jsx-style-dynamic-selector{display:none}.message.__jsx-style-dynamic-selector{width:calc(100vw - 200px)}}`})]})})}}class F extends f.Component{state={err:null};async componentDidCatch(e){this.setState({err:e}),await (0,j.captureError)(e)}render(){let{event:e,children:a}=this.props;return this.state.err?(0,t.jsxs)("div",{className:"jsx-cb738b8b8acd188c",children:["An error occurred rendering this event:"," ",(0,t.jsx)("pre",{className:"jsx-cb738b8b8acd188c",children:JSON.stringify(e,null,2)}),(0,t.jsx)(u.default,{id:"cb738b8b8acd188c",children:"pre.jsx-cb738b8b8acd188c{font-family:var(--font-mono);background:#fafbfc;border:1px solid #999;width:300px;max-width:100%;height:100px;padding:10px;overflow:auto}"})]}):a}}var P=e.i(6742994),E=e.i(4340764),z=e.i(1174741),B=e.i(1794286),K=e.i(2787515),W=e.i(409142),X=e.i(3738416),J=e.i(8119470),q=e.i(2812875),Y=e.i(8462558),G=e.i(1683927);let Q={"all-time":{text:"All Time",start:(0,X.startOfDay)((0,Y.subYears)(new Date,3)),end:(0,z.endOfDay)(new Date)},"last-1-day":{text:"Last Day",start:(0,X.startOfDay)((0,J.subDays)(new Date,1)),end:(0,z.endOfDay)(new Date)},"last-3-days":{text:"Last 3 Days",start:(0,X.startOfDay)((0,J.subDays)(new Date,3)),end:(0,z.endOfDay)(new Date)},"last-7-days":{text:"Last 7 Days",start:(0,X.startOfDay)((0,J.subDays)(new Date,7)),end:(0,z.endOfDay)(new Date)},"last-14-days":{text:"Last 14 Days",start:(0,X.startOfDay)((0,J.subDays)(new Date,14)),end:(0,z.endOfDay)(new Date)},"last-30-days":{text:"Last 30 Days",start:(0,X.startOfDay)((0,J.subDays)(new Date,30)),end:(0,z.endOfDay)(new Date)},"last-3-months":{text:"Last 3 Months",start:(0,X.startOfDay)((0,q.subMonths)(new Date,3)),end:(0,z.endOfDay)(new Date)},"last-12-months":{text:"Last 12 Months",start:(0,X.startOfDay)((0,q.subMonths)(new Date,12)),end:(0,z.endOfDay)(new Date)}},ee={range:{defaultValue:"all-time",onChangeRemoveKeys:["from","to"]},from:{defaultValue:void 0,formatToUrl:e=>Math.floor(e.getTime()/1e3).toString(),parseFromUrl:e=>new Date(1e3*Number(e)),onChangeRemoveKeys:["range"]},to:{defaultValue:void 0,formatToUrl:e=>Math.floor(e.getTime()/1e3).toString(),parseFromUrl:e=>new Date(1e3*Number(e)),onChangeRemoveKeys:["range"]}};function et(){var e;let t,a,{data:s}=(0,G.useBillingCycles)(),{team:i,user:n}=(0,x.useAccount)(),r=i||n,l=(0,W.useSearchParamsState)(ee),d=!!r?.billing?.period,c=i?.createdAt,o=(t=c?(0,X.startOfDay)(new Date(c)):Q["all-time"].start,a={...Q,"all-time":{...Q["all-time"],start:t}},d&&s?.current.start?{"current-billing-cycle":{text:"Current Billing Cycle",start:new Date(s.current.start),end:new Date(s.current.end)},"previous-billing-cycle":{text:"Previous Billing Cycle",start:new Date(s.previous.start),end:new Date(s.previous.end)},...a}:a),p=(e=l.state.range,e&&e in o?o[e]:o["all-time"]),m=l.state.from&&l.state.to?{start:l.state.from,end:l.state.to}:{start:p.start,end:p.end};return{presets:o,defaultRange:p,range:m,setRange:(e,t)=>{l.set(t?{range:t}:{from:new Date(e.start),to:new Date(e.end)})}}}function ea(e){let{enabled:a}=e,{presets:s,defaultRange:i,range:n,setRange:r}=et(),l=(0,z.endOfDay)(new Date);return(0,t.jsx)("div",{className:K.default.container,children:(0,t.jsx)(B.Calendar,{allowClear:!1,disabled:!a,hideDateButton:!1,maxValue:l,onChange:r,presetIndex:Object.values(s).findIndex(e=>e.text===i.text),presets:s,value:n,width:"100%",stacked:!0})})}var es=e.i(7691654),ei=e.i(6143247),en=e.i(3748432),er=e.i(1991452),el=e.i(8238875);let ed=["January","February","March","April","May","June","July","August","September","October","November","December"],ec=new Map,eo=(0,a.memo)(e=>{let{groupedEvents:a,userData:s,team:i}=e;return 0===a.size?(0,t.jsx)(ex,{}):[...a.values()].map(e=>{let{createdAt:a}=e[0].events[0],n=new Date(a);return[(0,t.jsxs)("div",{className:(0,ei.cn)(es.default.month,"mt-1 -mb-1.5"),children:[ed[n.getMonth()]," ",n.getFullYear()]},"month"),e.map((e,a)=>{if(1===e.events.length){let a=e.events[0];return(0,t.jsx)("div",{ref:e=>{ec.set(a.id,e)},children:(0,t.jsx)(R,{event:a,now:Date.now(),team:i,viewer:s.user})},a.id)}{let{events:n}=e;return(0,t.jsx)(H,{bitbucketLogin:e.bitbucketLogin,githubLogin:e.githubLogin,gitlabLogin:e.gitlabLogin,isSystem:e.isSystem,project:e.project,principalId:e.principalId,principal:e.auto?void 0:e.principal,viaIds:e.viaIds,via:e.via,viewer:s.user,children:n.map(e=>(0,t.jsx)("div",{ref:t=>{ec.set(e.id,t)},children:(0,t.jsx)(R,{event:e,now:Date.now(),team:i,viewer:s.user})},e.id))},`group${a}`)}})]})});function ex(){return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(r.Skeleton,{height:22,style:{marginBottom:"32px"},width:120}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-7 flex-initial",children:[420,260,320,480,300,270,490,290,370,500,310,430,360,470,510,330,380,390,350,460].map(e=>(0,t.jsxs)("div",{className:`flex flex-row items-center justify-start gap-3 flex-initial ${es.default.skeletonRow}`,style:{height:"35px"},children:[(0,t.jsx)(r.Skeleton,{height:30,rounded:!0,style:{flexShrink:"0"},width:30}),(0,t.jsx)(r.Skeleton,{height:18,width:e})]},e))})]})}function ep(){let[e,n]=(0,a.useState)(""),{team:c,user:o}=(0,x.useAccount)(),u=(0,er.useRouter)(),h=(0,el.useSearchParams)(),f=u.pathname.split("/"),j=c||o,b=!1;3===f.length&&"account"===f[1]?(j=o,b=!0):f.length>3&&"account"===f[3]&&(j=o,b=!0);let y=(0,E.useUserEvents)(),[v,_]=(0,a.useState)(()=>{let e=h?.getAll("type");if(e&&e.length>0){let t=new Set(e);return y.reduce((e,a)=>(e[a.name]=t.has(a.name),e),{})}return y.reduce((e,t)=>(e[t.name]=!0,e),{})}),w=Object.entries(v).reduce((e,t)=>{let[a,s]=t;return s&&e.push(a),e},[]),k=(0,a.useMemo)(()=>Object.values(v).every(e=>e),[v]),N=(0,a.useMemo)(()=>""===e?y:y.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())),[e,y]),D=RegExp(`(${e})`,"gi"),C=(0,a.useMemo)(()=>!k||""!==e,[k,e]);return(0,t.jsxs)("div",{className:es.default.container,children:[(0,t.jsx)("div",{className:es.default.filters,children:(0,t.jsxs)("div",{className:`flex flex-col items-stretch justify-start gap-4 flex-initial ${es.default.filterHeader}`,children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial",children:[(0,t.jsx)("p",{className:`text-heading-14 ${es.default.title}`,children:"Filters"}),C?(0,t.jsx)(s.Button,{onClick:()=>{n(""),_(e=>{let t={};return Object.keys(e).forEach(e=>{t[e]=!k}),t})},prefix:(0,t.jsx)(l.CrossCircle,{}),size:"small",type:"secondary",children:"Reset"}):null]}),null===j?(0,t.jsx)(r.Skeleton,{height:80,width:280}):(0,t.jsx)(ea,{enabled:!0}),null===j?null:(0,t.jsxs)(d.Disclosure,{title:"Type",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("div",{className:es.default.searchInput,children:(0,t.jsx)(g.SearchInput,{onChange:e=>{n(e.target.value)},placeholder:"Search types…",value:e,width:"100%"})}),(0,t.jsx)(i.Checkbox,{checked:k,className:es.default.selectAll,onChange:()=>{_(e=>{let t={};return Object.keys(e).forEach(e=>{t[e]=!k}),t})},style:{flex:"0 0 33.3%"},children:"Select all"})]}),(0,t.jsxs)("div",{className:`flex flex-col items-stretch justify-start flex-initial ${es.default.optionsContainer}`,children:[0===N.length&&(0,t.jsxs)("div",{className:es.default.emptyMessage,children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"No matching events"}),(0,t.jsx)(s.Button,{onClick:()=>{n("")},size:"small",type:"secondary",children:"Clear Search"})]}),N.map(a=>{let s=a.name.split(D),n=a.description.split(D);return(0,t.jsx)(i.Checkbox,{checked:v[a.name],className:es.default.option,onChange:e=>{_(t=>({...t,[a.name]:e.target.checked}))},style:{flex:"0 0 33.3%"},children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[""!==e?(0,t.jsx)("span",{className:"text-copy-14",children:s.filter(String).map((e,a)=>D.test(e)?(0,t.jsx)(m.Mark,{children:e},(0,p.getUnsafeKey)(a,e)):(0,t.jsx)("span",{children:e},(0,p.getUnsafeKey)(a,e)))}):(0,t.jsx)("span",{className:"text-copy-14",children:a.name}),""!==e?(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:n.filter(String).map((e,a)=>D.test(e)?(0,t.jsx)(m.Mark,{children:e},(0,p.getUnsafeKey)(a,e)):(0,t.jsx)("span",{children:e},(0,p.getUnsafeKey)(a,e)))}):(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:a.description})]})},a.name)})]})]})]})}),(0,t.jsx)(em,{selectedTypes:w,forceUserContext:b})]})}function em(e){let{team:s,isReady:i}=(0,o.useTeam)(),{data:r}=(0,c.useUser)(),{range:l}=et(),[,{events:d,initialDataLoaded:x,isEmpty:p,loadMore:m,isLoadingMore:g,isReachingEnd:u}]=(0,P.useEventsInfinite)({limit:20,fromDateTime:l.start,toDateTime:l.end,types:e.selectedTypes.join(","),forceUserContext:e.forceUserContext}),h=(0,a.useMemo)(()=>(function(e){let t=new Map;for(let i of e){var a,s;let{createdAt:e}=i,n=new Date(e),r=n.getFullYear()+"-"+n.getMonth(),l=t.get(r)||[],d=l[l.length-1],c=i.entities.some(e=>"github_login"===e.type&&e.login),o=i.entities.some(e=>"gitlab_login"===e.type&&e.login),x=i.entities.some(e=>"bitbucket_login"===e.type&&e.login),p="system"===i.principalId||i.principal?.type==="system"||!!i.entities.find(e=>{let{type:t}=e;return"system"===t}),m=i.payload&&"deployment"in i.payload&&i.payload.deployment&&"object"==typeof i.payload.deployment?i.payload.deployment:void 0,g=i.principal,u={principalId:i.principalId,principal:g,viaIds:i.viaIds,via:i.via,isSystem:p,deployment:m,project:function(e){let{text:t,entities:a}=e,s=a.find(e=>"project_name"===e.type);return s?t.slice(s.start,s.end):null}(i)??(m&&"name"in m&&"string"==typeof m.name?m.name:null),githubLogin:c,gitlabLogin:o,bitbucketLogin:x,scale:i.payload&&"scale"in i.payload&&"string"==typeof i.payload.scale?i.payload.scale:void 0,auto:y.has(i.type),type:i.type,events:[i]};(a=d,s=u,a?.project&&s.project&&a?.project===s.project)?(d.events.push(i),d.isSystem=d.isSystem||p):l.push(u),t.set(r,l)}return t})(d),[d]);return(0,t.jsx)(t.Fragment,{children:i&&r?(0,t.jsxs)("main",{className:es.default.events,children:[p?(0,t.jsx)("div",{className:es.default.empty,children:"NO EVENTS TO SHOW"}):(0,t.jsx)(en.NavigationMarker,{phase:"content",label:"ActivityList",children:(0,t.jsx)(eo,{groupedEvents:h,team:s,userData:r})}),u||!x?null:(0,t.jsx)(n.LoadMoreButton,{loading:g,onClick:m})]}):(0,t.jsx)(ex,{})})}e.s(["default",0,function(){return(0,t.jsx)(a.Suspense,{fallback:null,children:(0,t.jsx)(ep,{})})}],6362115)}]);

//# debugId=9836e93f-f4e2-115f-435d-8a8e20d72687
//# sourceMappingURL=5a453e1c086b458f.js.map