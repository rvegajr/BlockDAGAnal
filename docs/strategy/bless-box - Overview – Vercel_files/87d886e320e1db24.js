;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="773da745-cbaf-d8c4-df8f-bbacf2438ba4")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2107254,e=>{"use strict";var t=e.i(7185353),i=e.i(7909933),l=e.i(3924999),n=e.i(6555778),r=e.i(8042625),a=e.i(277234),s=e.i(4244280),d=e.i(9668517),o=e.i(5140444);function u(e){let{version:t,until:i,limit:l,latestDeployments:n,search:a,slug:d,excludeRepos:o,edgeConfigId:u,edgeConfigTokenId:c,connectConfigurationId:h,from:m,sortByElasticConcurrency:g,buildMachineTypes:f,includePermissions:_}=e;return`${(0,s.API_PROJECTS_VERSION)(t)}${(0,r.encode)({until:i,limit:l,latestDeployments:n,search:a,slug:d,excludeRepos:o,edgeConfigId:u,edgeConfigTokenId:c,connectConfigurationId:h,from:m,sortByElasticConcurrency:g,buildMachineTypes:f,includePermissions:_})}`}let c=null;function h(e,t){let i,l,{sortByElasticConcurrency:n}=t;return n&&"string"==typeof e?i=e:"number"==typeof e&&(l=e),{from:i,until:l}}e.s(["default",0,function(){let{fetchEnabled:e=!0,limit:l,from:u,linked:c,search:h,hasProductionDomains:m,domain:g,latestDeployments:f=3,deploymentInfo:_,includePermissions:v=!1,edgeConfigId:R,edgeConfigTokenId:S,connectConfigurationId:p,excludeConnectConfigurationId:x,staticIpsEnabled:b,teamId:E}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=arguments.length>2?arguments[2]:void 0,T=arguments.length>3?arguments[3]:void 0,A=(0,d.useTeamSlug)(),M=(0,n.useRouter)(),{user:j,isNorthstar:y}=(0,o.useUser)(),[I,O]=(0,t.useState)(h);return(0,t.useEffect)(()=>{O(e=>e===h?e:h)},[h]),{...(0,i.default)(()=>e&&(!M||M.isReady)&&j&&(!y||j.defaultTeamId||E)?`${(0,s.API_PROJECTS_VERSION)("v8")}${(0,r.encode)({from:u||null,limit:l,linked:!!c||null,search:I,hasProductionDomains:m?"1":null,domain:g,latestDeployments:void 0===f?null:f,deploymentInfo:_||null,slug:P||A,includePermissions:v,edgeConfigId:R,edgeConfigTokenId:S,connectConfigurationId:p,excludeConnectConfigurationId:x,staticIpsEnabled:void 0===b?null:Number(b).toString(),teamId:E||null})}`:null,e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:T?.throwOnScopeAuthError}),w),updateSearch:O,search:I}},"preloadProjectListInfinite",0,function(e,t){let{limit:i=8,latestDeployments:l=3,excludeReposRef:n}=e,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",o=`${(0,s.API_PROJECTS_VERSION)(d)}${(0,r.encode)({limit:i,latestDeployments:l,slug:t,excludeRepos:n?.current[0]??null})}`;c=[o,(0,a.fetchAPI)(o)]},"useProjectListInfinite",0,function(){let{fetchEnabled:e=!0,limit:r=8,latestDeployments:s=3,search:o,excludeReposRef:m,revalidateFirstPage:g=!0,edgeConfigId:f,edgeConfigTokenId:_,connectConfigurationId:v,version:R="v9",slug:S,sortByElasticConcurrency:p,buildMachineTypes:x,includePermissions:b}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],P=arguments.length>3&&void 0!==arguments[3]&&arguments[3],T=(0,n.useRouter)(),A=(0,d.useTeamSlug)(),M=S||A,j=(0,l.default)((t,i)=>{if(!e||T&&!T.isReady)return null;if(!t)return u({version:R,limit:r,latestDeployments:s,search:o,slug:M,excludeRepos:m?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:_,connectConfigurationId:v,sortByElasticConcurrency:p,buildMachineTypes:x,includePermissions:b});let{until:l,from:n}=h(i?.pagination.next,{sortByElasticConcurrency:p});return l||n?u({version:R,until:l,limit:r,latestDeployments:s,search:o,slug:M,excludeRepos:m?.current[t]??null,edgeConfigId:f,edgeConfigTokenId:_,connectConfigurationId:v,from:n,sortByElasticConcurrency:p,buildMachineTypes:x,includePermissions:b}):null},async e=>{if(c&&c[0]===e){let e=await c[1];return c=null,e}return(0,a.fetchAPI)(e,{throwOnHTTPError:!0})},{...E,keepPreviousData:P,revalidateFirstPage:g,persistSize:!0}),y=!!j.data,I=!!((j.data?.[j.data.length-1]?.projects.length??0)<r||j.data?.[j.data.length-1]?.pagination.next===null),O=(0,t.useMemo)(()=>j.data?j.data.flatMap(e=>e.projects):[],[j.data]),$=y&&0===O.length,k=!!(j.data&&j.size>j.data.length);return(0,i.default)(()=>{if(w||!j.data||I)return null;let e=j.data[j.data.length-1],{from:t,until:i}=h(e?.pagination.next,{sortByElasticConcurrency:p});return u({version:R,until:i,limit:r,latestDeployments:s,search:o,slug:M,excludeRepos:m?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:_,connectConfigurationId:v,from:t,sortByElasticConcurrency:p,buildMachineTypes:x,includePermissions:b})},e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0})),[j,{projects:O,initialDataLoaded:y,isEmpty:$,loadMore:()=>j.setSize(e=>e+1),isLoadingMore:k,isReachingEnd:I,isValidating:j.isValidating}]}],2107254)},2112997,e=>{e.v({checked:"switch-control-module__WvDOda__checked",container:"switch-control-module__WvDOda__container",control:"switch-control-module__WvDOda__control",disabled:"switch-control-module__WvDOda__disabled",icon:"switch-control-module__WvDOda__icon",large:"switch-control-module__WvDOda__large",small:"switch-control-module__WvDOda__small",text:"switch-control-module__WvDOda__text"})},1328457,e=>{e.v({hideBorder:"switch-module__idkRsq__hideBorder",large:"switch-module__idkRsq__large",small:"switch-module__idkRsq__small",switch:"switch-module__idkRsq__switch"})},8923565,e=>{"use strict";var t=e.i(847684),i=e.i(7185353),l=e.i(9722978),n=e.i(9508212),r=e.i(9349701),a=e.i(1344973),s=e.i(2112997),d=e.i(1328457);let o=Object.assign((0,i.forwardRef)(function(e,r){let{className:a,size:s,name:o,children:u,hideBorder:c,checkedColor:h,...m}=e;return(0,t.jsx)(n.Stack,{className:(0,l.clsx)(a,d.default.switch,{[String(d.default.large)]:"large"===s,[String(d.default.small)]:"small"===s,[String(d.default.hideBorder)]:c}),direction:"row",...m,ref:r,children:i.Children.map(u,e=>(0,i.cloneElement)(e,{name:o,size:s,checkedColor:h}))})}),{Control:function(e){let{className:n,icon:d,label:o,size:u,checked:c,disabled:h,checkedColor:m="var(--ds-gray-100)",innerDivClassName:g,...f}=e,_=void 0!==d,v=(0,l.clsx)(s.default.control,{[String(s.default.disabled)]:h,[String(s.default.checked)]:c,[String(s.default.large)]:"large"===u,[String(s.default.small)]:"small"===u,[String(s.default.text)]:!_,[String(s.default.icon)]:_}),R=d?(0,t.jsxs)(t.Fragment,{children:[(0,i.cloneElement)(d,{size:"large"===u?20:16}),(0,t.jsx)("span",{className:"geist-sr-only",children:o})]}):o;return"href"in f&&void 0!==f.href?h?(0,t.jsx)(a.Text,{as:"span",className:v,style:{"--switch-checked-color":m},children:R}):(0,t.jsx)(r.default,{className:v,href:f.href,onClick:f.onClick,prefetch:f.prefetch,scroll:!1,style:{"--switch-checked-color":m},children:R}):(0,t.jsxs)("label",{className:(0,l.clsx)(s.default.container,n),"data-disabled":h?"true":"false",children:[(0,t.jsx)("input",{...f,checked:c,className:"geist-sr-only",disabled:h,type:"radio"}),(0,t.jsx)("div",{className:(0,l.clsx)(v,g),style:{"--switch-checked-color":m},children:R})]})}});e.s(["Switch",0,o],8923565)},7882093,e=>{"use strict";var t=e.i(847684),i=e.i(7909933);e.i(5757634),e.i(8361413),e.i(2725743),e.i(8238875),e.i(2814021),e.s(["SWRAuthenticatedDeployment",0,function(e){let{children:l}=e;return(0,t.jsx)(i.SWRConfig,{children:l})},"SWRAuthenticatedOwner",0,function(e){let{children:l}=e;return(0,t.jsx)(i.SWRConfig,{children:l})},"SWRAuthenticatedOwnerForDomains",0,function(e){let{children:l}=e;return(0,t.jsx)(i.SWRConfig,{children:l})},"SWRAuthenticatedProject",0,function(e){let{children:l}=e;return(0,t.jsx)(i.SWRConfig,{children:l})},"SWRAuthenticatedUser",0,function(e){let{children:l}=e;return(0,t.jsx)(i.SWRConfig,{children:l})}],7882093)},4305687,e=>{"use strict";var t=e.i(2814021),i=e.i(8238875);e.s(["ClientAuthRedirect",0,function(e){let{scope:l,isLimitedByMfa:n}=e,r=(0,i.usePathname)();return(0,t.redirectToAuth)({redirect:i.redirect,next:r,isLimitedByMfa:n,scope:l}),null}])},8587921,7873387,e=>{"use strict";var t=e.i(7185353),i=e.i(7909933),l=e.i(3924999),n=e.i(8042625),r=e.i(277234),a=e.i(4244280),s=e.i(9668517),d=e.i(5338940),o=e.i(1717203),u=e.i(7557283);let c=e=>(i,l,n)=>{let r=(0,t.useRef)(void 0),a=e(i,l,n);(0,t.useEffect)(()=>{void 0!==a.data&&(r.current=a.data)},[a.data]);let s=(0,t.useCallback)(()=>{r.current=void 0},[]);return{...a,data:void 0===a.data?r.current:a.data,isLagging:void 0===a.data&&void 0!==r.current,resetLaggy:s}};e.s(["default",0,c],7873387),e.s(["MEMBERS_LIMIT",0,20,"default",0,function(){let{sort:e="date_desc",limit:t=20,filterByUserIds:l,until:s,role:c,includeEntitlements:h,includePermissionRequests:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:f,team:_}=(0,d.useTeam)(),{isLoading:v,can:R}=(0,o.default)(),S=!v&&R(u.Action.List,u.Resource.TeamFellowMembership);return(0,i.default)(()=>f&&_&&S?`${a.API_TEAMS_MEMBERS_V3}/${_.id}/members${(0,n.encode)({sort:e,until:s,limit:t,role:c,filterByUserIds:l,includeEntitlements:h,includePermissionRequests:m})}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),g)},"useMembersForTeam",0,function(e){let{limit:t=20,until:l,role:s,sort:d="date_desc"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.default)(()=>e?`${a.API_TEAMS_MEMBERS_V3}/${e.id}/members${(0,n.encode)({until:l,limit:t,role:s,sort:d})}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),o)},"useMembersInfinite",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:h,limit:m,role:g,eligibleMembersForProjectId:f,sort:_="date_desc",filterByUserIds:v,includeEntitlements:R,mfaStateFilter:S,includePermissionRequests:p}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:E,team:w}=(0,d.useTeam)(),{isLoading:P,can:T}=(0,o.default)(),A=!P&&T(u.Action.List,u.Resource.TeamFellowMembership),M=(0,s.useTeamSlug)(),j=m||20,y=(0,l.default)((e,t)=>{if(!E||!w||!A)return null;if(0===e)return`${a.API_TEAMS_MEMBERS_V3}/${w.id}/members${(0,n.encode)({sort:_,limit:j,search:h,role:g,eligibleMembersForProjectId:f,filterByUserIds:v,includeEntitlements:!!R||void 0,filterByMfaState:"all"!==S?S:void 0,includePermissionRequests:p})}`;let i=t?.pagination.nextPageCursor;return i?`${a.API_TEAMS_MEMBERS_V3}/${w.id}/members${(0,n.encode)({sort:_,limit:j,nextPageCursor:i,search:h,role:g,eligibleMembersForProjectId:f,includeEntitlements:!!R||void 0,filterByMfaState:"all"!==S?S:void 0,includePermissionRequests:p})}`:null},e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,use:x?[c]:[]});(0,t.useEffect)(()=>{x&&y.resetLaggy()},[M,x]);let I=(0,t.useMemo)(()=>y.data?.flatMap(e=>e.members.slice(0,j))||[],[y.data,j]),O=(0,t.useMemo)(()=>y.data?.flatMap(e=>e.permissionRequests||[])||[],[y.data]),$=!!y.data,k=$&&0===I.length,L=!!($&&y.data&&y.size>y.data.length),C=!!($&&y.data&&!y.data[y.data.length-1]?.pagination?.nextPageCursor);return(0,i.default)(()=>{if(!b||!y.data||C||!E||!w)return null;let e=y.data[y.data.length-1].pagination.nextPageCursor;return`${a.API_TEAMS_MEMBERS_V3}/${w.id}/members${(0,n.encode)({sort:_,limit:j,nextPageCursor:e,search:h,role:g,eligibleMembersForProjectId:f,includeEntitlements:R,filterByMfaState:"all"!==S?S:void 0,includePermissionRequests:p})}`},e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0})),[y,{members:I,permissionRequests:O.filter(e=>null!=e),initialDataLoaded:$,isEmpty:k,loadMore:()=>y.setSize(y.size+1),isLoadingMore:L,isReachingEnd:C,isLagging:y.isLagging}]},"useSuggestedMembersInfinite",0,function(){let{limit:e=25,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{can:a,isLoading:c}=(0,o.default)(),h=!c&&a(u.Action.Create,u.Resource.TeamFellowMembership),{isReady:m,team:g}=(0,d.useTeam)(),f=(0,s.useTeamSlug)(),_=(0,l.default)((t,i)=>{if(!m||!g||!h)return null;if(!t)return`/api/teams/${f}/members/suggested${(0,n.encode)({limit:e})}`;let l=i?.members,r=l?.length===e?l[l.length-1].email:null;return r?`/api/teams/${f}/members/suggested${(0,n.encode)({limit:e,from:r})}`:null},e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),i),v=(0,t.useMemo)(()=>_.data?.flatMap(t=>t.members.slice(0,e))||[],[_.data,e]),R=!!_.data,S=R&&0===v.length,p=!!(R&&_.data&&_.size>_.data.length),x=!!(R&&_.data&&_.data[_.data.length-1]?.members.length<e);return[_,{members:v,initialDataLoaded:R,isEmpty:S,loadMore:()=>_.setSize(_.size+1),isLoadingMore:p,isReachingEnd:x}]}],8587921)},4723202,e=>{"use strict";var t=e.i(847684),i=e.i(7185353),l=e.i(2504781),n=e.i(5255926),r=e.i(455575),a=e.i(5468328),s=e.i(277234),d=e.i(5338940),o=e.i(8587921),u=e.i(5140444),c=e.i(8248823),h=e.i(57106);async function m(e,t){await (0,s.fetchAPI)(`/api/teams/${e}/role-requests?teamId=${e}`,{method:"POST",body:JSON.stringify({teamRoles:[t]}),throwOnHTTPError:!0})}e.s(["RequestRoleButton",0,function(e){let{teamRole:s,variant:g="card"}=e,{team:f,isLoading:_}=(0,d.useTeam)(),{hasRequestedRole:v,mutate:R,isLoading:S}=function(e){let{user:t,isLoading:i}=(0,u.useUser)(),{data:l,mutate:n,isLoading:r}=(0,o.default)({includePermissionRequests:!0}),a=l?.permissionRequests;return{hasRequestedRole:a?.some(i=>i.uid===t?.uid&&i.requestedTeamRole.includes(e))??!1,mutate:n,isLoading:i||r}}(s),[p,x]=(0,i.useState)(!1),[b,E]=(0,i.useState)(!1);if(f?.membership?.role!=="VIEWER_FOR_PLUS")return null;let w=v||b;return(0,t.jsx)(n.Skeleton,{show:S||_,children:(0,t.jsx)(a.Tooltip,{disableTriggers:!w,text:(0,t.jsxs)(t.Fragment,{children:["An Owner of the team can accept your request. Requests are managed in the"," ",(0,t.jsx)(h.Link,{href:`/${f?.slug}/~/settings/members`,type:"highlight",children:"team members page"}),"."]}),children:(0,t.jsx)(l.Button,{disabled:w,loading:p,className:"card"===g?"text-label-14 font-medium":void 0,onClick:async()=>{if(f?.id){x(!0);try{await m(f.id,s),R(),E(!0),r.toasts.success("Request for the Member role has been sent")}catch(e){r.toasts.error((0,c.errorToString)(e,"Failed to send request"))}finally{x(!1)}}},size:"card"===g?"small":void 0,type:"card"===g?"tertiary":void 0,children:w?"Access Requested":"Request Access"})})})}])},8556491,e=>{"use strict";var t=e.i(847684),i=e.i(4723202),l=e.i(57106),n=e.i(1235157),r=e.i(6352514),a=e.i(4759942);e.s(["AdditionalPermissionsRequiredModal",0,function(e){let{role:s,team:d,actionLabel:o,dataTestId:u}=e;return(0,t.jsx)("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-[rgba(255,255,255,0.5)] dark:bg-[rgba(0,0,0,0.5)]",children:(0,t.jsx)("div",{className:"absolute top-0 md:top-[80px] left-1/2 -translate-x-1/2 z-[101] w-full max-w-[560px] animate-[fadeIn_300ms_ease-in-out_forwards] pointer-events-auto","data-testid":u,children:(0,t.jsxs)("div",{className:"shadow-lg md:rounded-lg max-w-full bg-white overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,t.jsx)("span",{className:"text-heading-24",children:"Additional Permissions Required"}),(0,t.jsxs)("div",{children:["As a ",(0,t.jsx)("strong",{children:s?(0,n.getRoleName)(s):"Viewer"})," user on the ",(0,t.jsx)("strong",{children:d?.name})," team, you do not have permission to ",o,"."]}),(0,t.jsxs)("div",{className:"text-center break-words pt-2 text-gray-900",children:["Learn more about"," ",(0,t.jsx)(l.Link,{external:!0,href:"/docs/rbac/access-roles",onClick:()=>{a.analytics.track(r.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},type:"highlight",children:"Roles and Permissions"})]})]}),"VIEWER_FOR_PLUS"===s?(0,t.jsx)("div",{className:"flex justify-end items-center bg-background-200 p-4 border-t mt-2",children:(0,t.jsx)(i.RequestRoleButton,{teamRole:"MEMBER",variant:"modal"})}):null]})})})}])},1068837,e=>{"use strict";var t=e.i(847684),i=e.i(1717203),l=e.i(8556491);e.s(["AdditionalPermissionsRequiredModalClient",0,function(e){let{actionLabel:n,permissionChecks:r}=e,{can:a,isLoading:s,accessInfo:d}=(0,i.default)(),o=r.every(e=>{let[t,i]=e;return a(t,i)});return s||o?null:(0,t.jsx)(l.AdditionalPermissionsRequiredModal,{role:d?.role,team:d?.team??void 0,actionLabel:n})}])}]);

//# debugId=773da745-cbaf-d8c4-df8f-bbacf2438ba4
//# sourceMappingURL=122d8e092200049f.js.map