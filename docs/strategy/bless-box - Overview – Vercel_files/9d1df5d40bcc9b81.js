;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="1b2e3be6-92d9-bc4a-8630-34deafcd7489")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8191730,e=>{"use strict";var i=e.i(847684),n=e.i(7185353),t=e.i(8238875),l=e.i(854682);e.i(6728635);var r=e.i(2630141);e.i(3182268);var s=e.i(7849855),o=e.i(7114658),u=e.i(1717203),a=e.i(7557283),c=e.i(2760613),d=e.i(1295503),b=e.i(60582),j=e.i(2807115);function P(){return b.IS_DASH?(0,i.jsx)(m,{}):(0,i.jsx)(j.OptionsMenu,{})}function m(){let e=(0,t.useParams)(),{hasObservabilityPlusAccess:s,impersonating:o,hasObservabilityPlusSubscribed:u}=(0,l.useHasObservabilityPlus)(),a=(0,r.useOpenEnableModal)(),[c,b]=(0,n.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.ActionMenuLink,{href:`/${e?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,i.jsx)(f,{onOpenExcludeModal:()=>b(!0)})]}):null,s&&(!o||u)?null:(0,i.jsx)(d.ActionMenuItem,{onClick:()=>a({via:"header-menu"}),children:"Upgrade to Observability Plus"}),(0,i.jsx)(x,{active:c,onClose:()=>b(!1)})]})}function f(e){let{onOpenExcludeModal:n}=e,{can:t,isLoading:l}=(0,u.default)(),{isObservabilityPlusForProjectsFlagEnabled:r,toggleObservabilityPlusForProject:c,isCurrentProjectExcluded:b,isValidating:j}=(0,o.useObservabilityPlusForProjects)(),{projectSlug:P}=(0,s.useProjectSlug)();if(!r||!P)return null;let m=!l&&t(a.Action.Update,a.Resource.ObservabilityConfiguration);return b?(0,i.jsx)(d.ActionMenuItem,{disabled:!m||j||l,onClick:()=>{P&&c({projectName:P,disabled:!1})},children:"Include Project in Plus"}):(0,i.jsx)(d.ActionMenuItem,{disabled:!m||j||l,onClick:n,type:"error",children:"Exclude Project from Plus"})}function x(e){let{active:n,onClose:t}=e,{toggleObservabilityPlusForProject:l}=(0,o.useObservabilityPlusForProjects)(),{projectSlug:r}=(0,s.useProjectSlug)();return r?(0,i.jsx)(c.ExcludeProjectConfirmationModal,{active:n,projectName:r,onClose:t,onConfirm:async()=>{r&&await l({projectName:r,disabled:!0})}}):null}e.s(["default",0,function(){return(0,i.jsx)(P,{})}],8191730)}]);

//# debugId=1b2e3be6-92d9-bc4a-8630-34deafcd7489
//# sourceMappingURL=6b32119b7e197f7f.js.map