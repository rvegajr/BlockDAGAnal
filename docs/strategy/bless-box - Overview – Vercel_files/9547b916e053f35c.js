;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3d343f90-c22c-5475-df9e-97152cf8e41b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2107254,e=>{"use strict";var t=e.i(7185353),r=e.i(7909933),a=e.i(3924999),i=e.i(6555778),n=e.i(8042625),s=e.i(277234),l=e.i(4244280),o=e.i(9668517),c=e.i(5140444);function u(e){let{version:t,until:r,limit:a,latestDeployments:i,search:s,slug:o,excludeRepos:c,edgeConfigId:u,edgeConfigTokenId:d,connectConfigurationId:m,from:p,sortByElasticConcurrency:h,buildMachineTypes:f,includePermissions:x}=e;return`${(0,l.API_PROJECTS_VERSION)(t)}${(0,n.encode)({until:r,limit:a,latestDeployments:i,search:s,slug:o,excludeRepos:c,edgeConfigId:u,edgeConfigTokenId:d,connectConfigurationId:m,from:p,sortByElasticConcurrency:h,buildMachineTypes:f,includePermissions:x})}`}let d=null;function m(e,t){let r,a,{sortByElasticConcurrency:i}=t;return i&&"string"==typeof e?r=e:"number"==typeof e&&(a=e),{from:r,until:a}}e.s(["default",0,function(){let{fetchEnabled:e=!0,limit:a,from:u,linked:d,search:m,hasProductionDomains:p,domain:h,latestDeployments:f=3,deploymentInfo:x,includePermissions:g=!1,edgeConfigId:j,edgeConfigTokenId:v,connectConfigurationId:y,excludeConnectConfigurationId:w,staticIpsEnabled:_,teamId:S}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,I=(0,o.useTeamSlug)(),L=(0,i.useRouter)(),{user:N,isNorthstar:P}=(0,c.useUser)(),[T,k]=(0,t.useState)(m);return(0,t.useEffect)(()=>{k(e=>e===m?e:m)},[m]),{...(0,r.default)(()=>e&&(!L||L.isReady)&&N&&(!P||N.defaultTeamId||S)?`${(0,l.API_PROJECTS_VERSION)("v8")}${(0,n.encode)({from:u||null,limit:a,linked:!!d||null,search:T,hasProductionDomains:p?"1":null,domain:h,latestDeployments:void 0===f?null:f,deploymentInfo:x||null,slug:b||I,includePermissions:g,edgeConfigId:j,edgeConfigTokenId:v,connectConfigurationId:y,excludeConnectConfigurationId:w,staticIpsEnabled:void 0===_?null:Number(_).toString(),teamId:S||null})}`:null,e=>(0,s.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:A?.throwOnScopeAuthError}),C),updateSearch:k,search:T}},"preloadProjectListInfinite",0,function(e,t){let{limit:r=8,latestDeployments:a=3,excludeReposRef:i}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",c=`${(0,l.API_PROJECTS_VERSION)(o)}${(0,n.encode)({limit:r,latestDeployments:a,slug:t,excludeRepos:i?.current[0]??null})}`;d=[c,(0,s.fetchAPI)(c)]},"useProjectListInfinite",0,function(){let{fetchEnabled:e=!0,limit:n=8,latestDeployments:l=3,search:c,excludeReposRef:p,revalidateFirstPage:h=!0,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,version:j="v9",slug:v,sortByElasticConcurrency:y,buildMachineTypes:w,includePermissions:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=(0,i.useRouter)(),I=(0,o.useTeamSlug)(),L=v||I,N=(0,a.default)((t,r)=>{if(!e||A&&!A.isReady)return null;if(!t)return u({version:j,limit:n,latestDeployments:l,search:c,slug:L,excludeRepos:p?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,sortByElasticConcurrency:y,buildMachineTypes:w,includePermissions:_});let{until:a,from:i}=m(r?.pagination.next,{sortByElasticConcurrency:y});return a||i?u({version:j,until:a,limit:n,latestDeployments:l,search:c,slug:L,excludeRepos:p?.current[t]??null,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,from:i,sortByElasticConcurrency:y,buildMachineTypes:w,includePermissions:_}):null},async e=>{if(d&&d[0]===e){let e=await d[1];return d=null,e}return(0,s.fetchAPI)(e,{throwOnHTTPError:!0})},{...S,keepPreviousData:b,revalidateFirstPage:h,persistSize:!0}),P=!!N.data,T=!!((N.data?.[N.data.length-1]?.projects.length??0)<n||N.data?.[N.data.length-1]?.pagination.next===null),k=(0,t.useMemo)(()=>N.data?N.data.flatMap(e=>e.projects):[],[N.data]),E=P&&0===k.length,$=!!(N.data&&N.size>N.data.length);return(0,r.default)(()=>{if(C||!N.data||T)return null;let e=N.data[N.data.length-1],{from:t,until:r}=m(e?.pagination.next,{sortByElasticConcurrency:y});return u({version:j,until:r,limit:n,latestDeployments:l,search:c,slug:L,excludeRepos:p?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,from:t,sortByElasticConcurrency:y,buildMachineTypes:w,includePermissions:_})},e=>(0,s.fetchAPI)(e,{throwOnHTTPError:!0})),[N,{projects:k,initialDataLoaded:P,isEmpty:E,loadMore:()=>N.setSize(e=>e+1),isLoadingMore:$,isReachingEnd:T,isValidating:N.isValidating}]}],2107254)},6226725,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM5.5 11.5607L6.03033 11.0303L8 9.06066L9.96967 11.0303L10.5 11.5607L11.5607 10.5L11.0303 9.96967L9.06066 8L11.0303 6.03033L11.5607 5.5L10.5 4.43934L9.96967 4.96967L8 6.93934L6.03033 4.96967L5.5 4.43934L4.43934 5.5L4.96967 6.03033L6.93934 8L4.96967 9.96967L4.43934 10.5L5.5 11.5607Z" fill="currentColor"/>');e.s(["CrossCircle",0,t])},935882,e=>{"use strict";let t=e.i(7185353).useLayoutEffect;e.s(["default",0,t])},5136192,e=>{"use strict";var t=e.i(4377874),r=e.i(6228447);let a=(e,t)=>{let{pathname:r,page:a,teamSlug:s}=e,l=function(e){let{pathname:t,page:r,fromSettings:a}=e;return a&&r&&"settings"!==r?i.exec(t)?"/invoices":n.exec(t)?"/connectivity":t.endsWith("/microfrontends/new")?"/microfrontends/new":`/${r}`:""}({pathname:r,page:a,fromSettings:t});return`/${String(s)}/~/settings${l}`},i=/\/settings\/invoices\//,n=/\/settings\/connectivity\//;function s(e){return(0,t.format)(e)}e.s(["getScopeHref",0,e=>{let{pathname:t,pathParams:i,searchParams:n,team:l,user:o,project:c}=e,u=l?.slug||o?.username,d=function(e){let{pathname:t,pathParams:r,searchParams:i,team:n,user:l,project:o}=e;if(!t)return"/";if(l&&!n){let e;return e="/account",t.endsWith("/~/domains")?`${e}/domains`:t.endsWith("/~/activity")?`${e}/activity`:t.endsWith("/~/settings")?`${e}/settings`:e}let c=n?.slug,u=n?.slug||l?.username,d=o?.name,m=r?.teamSlug??i.get("teamSlug"),p=r?.project??i.get("project"),h=function(e){let t={};for(let[r,a]of e)t[r]=a;return t}(i),f=t.split("/").filter(Boolean),x=f.filter(e=>!/\[.*\]/.test(e)),g=x[0],j=x[x.length-1],v=x[2],y={pathname:t,page:j,query:h,teamSlug:n?.slug};if(m&&p&&d&&u&&t.includes(p))return t.replace(m,u).replace(p,d);if("/dashboard"===t||"/"===t)return`/${u}`;if("help"===g)return c?`/help?teamSlug=${c}`:"/help/";if("new"===g){if("import"===j)return(delete h["create-team-collapsed"],c)?s({pathname:`/new/${c&&c!==l?.username?`${c}/`:""}import`,query:{...h}}):(delete h.teamSlug,s({pathname:"/new/import",query:{...h}}));if("repo"===j)return c?s({pathname:`/new/${c&&c!==l?.username?`${c}/`:""}import/repo`,query:{...h}}):(delete h.teamSlug,s({pathname:"/new/import/repo",query:{...h}}));if("clone"===j)return(u!==h["create-team-collapsed"]&&delete h["create-team-collapsed"],c)?s({pathname:`/new/${u}/clone`,query:{...h}}):(delete h.teamSlug,s({pathname:"/new/clone",query:{...h}}));else if("third-party"===j)return s({pathname:`/new/${u}/git/third-party`});else if(f.includes("templates")){let e=[...f];return e.splice(1,+!!(m&&t.includes(m)),u||""),s({pathname:`/${e.join("/")}`})}return s({pathname:`/new/${u}`})}if(u&&/\/settings\/apps\/([^/]+)/.test(t))return`/${u}/~/settings/apps`;if(f.includes("account"))return c?a(y):"/account";if(f.includes("settings"))return c?c!==m&&!d&&p?`/${c}`:a(y,!0):"/account";if("dashboard"===g||t.includes("/~"))return u&&"integrations"===v?`/${u}/~/integrations`:u&&"domains"===j?`/${u}/~/domains`:u&&m&&t.startsWith(`/${m}/~/repos`)?`/${u}`:u&&m&&t.startsWith(`/${m}/~/ai`)?`/${u}/~/ai`:m&&t.startsWith(`/${m}/~/stores`)||t.startsWith("/dashboard/stores")?c?`/${c}/~/stores`:"/dashboard/stores":t.endsWith("/domains/[domain]")||h.domain||m&&t.startsWith(`/${m}/~/domains`)||t.startsWith("/dashboard/domains")?c?`/${c}/~/domains`:"/dashboard/domains":t.endsWith("/monitoring/[chart]")||h.chart||m&&t.startsWith(`/${m}/~/monitoring`)||t.startsWith("/dashboard/monitoring")?c?`/${c}/~/monitoring`:"/dashboard/monitoring":m&&t.startsWith(`/${m}/~/support/cases`)?c?`/${c}/~/support/cases`:"/dashboard/support/cases":m&&u&&t.includes(`/${m}`)?t.replace(`/${m}`,`/${u}`):t.replace(j,u?`${u}/${j}`:j);if(m&&t.startsWith(`/${m}/~/support/cases`)||t.startsWith("/support/cases")){let e=t.split("/support/cases")[1]||"";return(e.startsWith("/[case-id]")&&(e=""),n)?`/${n.slug}/~/support/cases${e}`:`/support/cases${e}`}return m&&p&&t.startsWith(`/${m}/${p}`)?`/${u}`:"domains"===j?c?(e=>{let{query:t,teamSlug:r}=e;return s({pathname:"/domains",query:{...t,teamSlug:r}})})(y):(e=>{let{query:t}=e;return s({pathname:"/domains",query:{...t,teamSlug:void 0}})})(y):`/${u}`}({pathname:t,pathParams:i,searchParams:n,team:l,user:o,project:c});if((0,r.isAuthenticationRequired)(l)){let e=(0,r.getTeamLimitedBy)(l);return 1===e.length&&e.includes("mfa")?s({pathname:"/two-factor-required",query:{teamSlug:l?.slug}}):s({pathname:`/login/scope/${u}`,query:{missingScope:"1",next:d}})}return d}])},271259,e=>{"use strict";var t=e.i(7917902),r=e.i(7185353),a=e.i(588428),i=e.i(4670733);e.s(["useCanCreateTrial",0,function(){let{user:e,isLoading:n}=(0,t.useAccount)(),s=function(){let{value:e}=(0,a.useIsOemPartner)(),{value:t}=(0,i.useIsOemPartner)();return(0,r.useMemo)(()=>e||t,[e,t])}();return!e||n||null===s?{ready:!1}:s?{ready:!0,canCreateTrial:!0,isOemPartner:s}:{ready:!0,canCreateTrial:e.hasTrialAvailable??!0,isOemPartner:s}}],271259)},7056917,e=>{e.v({center:"index-module__fu5KXa__center",container:"index-module__fu5KXa__container",fadeIn:"index-module__fu5KXa__fadeIn",fieldset:"index-module__fu5KXa__fieldset",footer:"index-module__fu5KXa__footer",footerActions:"index-module__fu5KXa__footerActions",gotolink:"index-module__fu5KXa__gotolink",learn:"index-module__fu5KXa__learn"})},4839822,e=>{"use strict";var t=e.i(847684),r=e.i(5585544),a=e.i(2504781),i=e.i(7137884),n=e.i(8517043),s=e.i(1232681),l=e.i(57106),o=e.i(6352514),c=e.i(4759942),u=e.i(7056917);let d="open-scope-switcher";e.s(["OPEN_SCOPE_SWITCHER_EVENT",0,d,"default",0,function(e){let{role:m,teamName:p,action:h,actionButton:f,dataTestId:x,showTeamSwitcher:g}=e;return(0,t.jsx)("div",{className:u.default.center,"data-testid":x,children:(0,t.jsxs)(n.Fieldset,{className:u.default.fieldset,hasShadow:!0,children:[(0,t.jsx)(i.FieldsetContent,{className:u.default.container,children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("span",{className:"text-heading-24",children:"Additional Permissions Required"}),(0,t.jsx)("hr",{className:"geist-hr-reset"}),(0,t.jsxs)("p",{className:"text-copy-16",children:["As a ",(0,t.jsx)("b",{children:m.replaceAll("_"," ").toLowerCase()})," on the"," ",(0,t.jsx)("b",{children:p})," team, you do not have the required permission to"," ",h,"."]}),g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-copy-16",children:"To continue, please switch to a different Vercel account, or request additional permissions."}),(0,t.jsx)(a.Button,{align:"center",onClick:()=>{document.dispatchEvent(new Event(d))},prefix:(0,t.jsx)(r.Users,{}),width:"100%",children:"Open Account Switcher"})]}):null]})}),(0,t.jsxs)(s.FieldsetFooter,{className:u.default.footer,children:[(0,t.jsx)(s.FieldsetFooter.Status,{children:(0,t.jsxs)("span",{className:u.default.learn,children:["Learn more about"," ",(0,t.jsx)(l.Link,{external:!0,href:"/docs/rbac",onClick:()=>{c.analytics.track(o.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},tab:!0,type:"highlight",children:"Roles and Permissions"})]})}),(0,t.jsx)(s.FieldsetFooter.Actions,{className:u.default.footerActions,children:(0,t.jsx)(l.ButtonLink,{className:u.default.gotolink,href:f.link,size:"small",type:"secondary",children:f.text})})]})]})})}])},387079,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path d="M7.99999 0.489502L10.5734 5.20807L15.8562 6.19736L12.1638 10.1029L12.8554 15.4329L7.99999 13.1281L3.1446 15.4329L3.83621 10.1029L0.143799 6.19736L5.42663 5.20807L7.99999 0.489502Z" fill="currentColor"/>');e.s(["StarFill",0,t])},9543208,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.00001 0.433594L8.65845 1.64093L10.5908 5.18412L14.5577 5.92698L15.9094 6.18011L14.9646 7.17942L12.192 10.1121L12.7113 14.1144L12.8883 15.4782L11.6459 14.8884L8.00001 13.1577L4.35408 14.8884L3.11173 15.4782L3.28869 14.1144L3.80802 10.1121L1.03538 7.17942L0.0906067 6.18011L1.44233 5.92698L5.40922 5.18412L7.34156 1.64093L8.00001 0.433594ZM8.00001 3.56646L6.55565 6.21487L6.38519 6.52743L6.03525 6.59296L3.07014 7.14822L5.14259 9.34029L5.38718 9.59899L5.34137 9.95205L4.95318 12.9436L7.67838 11.65L8.00001 11.4973L8.32163 11.65L11.0468 12.9436L10.6586 9.95205L10.6128 9.59899L10.8574 9.34029L12.9299 7.14822L9.96476 6.59296L9.61482 6.52743L9.44436 6.21487L8.00001 3.56646Z" fill="currentColor"/>');e.s(["Star",0,t])},1613936,e=>{"use strict";var t=e.i(7185353),r=e.i(455575),a=e.i(277234),i=e.i(4244280),n=e.i(7917902),s=e.i(1119178);let l=(e,t)=>e.projectId===t.projectId&&e.teamId===t.teamId;e.s(["serializeFavorite",0,e=>`favorite-project:${e.projectId}`,"useFavoriteProjectsAndSpaces",0,function(){let{user:e,isLoading:o,mutate:c}=(0,n.useAccount)(),u=(0,r.useToasts)(),d=(0,t.useMemo)(()=>o||!e?[]:e.favoriteProjectsAndSpaces??[],[o,e]),m=(0,t.useCallback)(async e=>{if(d.some(t=>l(t,e)))return void console.error("Favorite already exists",e);try{let t=[...d,e];await (0,a.fetchAPI)(i.API_USER,{method:"PATCH",body:{favoriteProjectsAndSpaces:t},throwOnHTTPError:!0}),await c()}catch(e){console.error(e),u.error("Adding the project to your favorites failed.")}},[d,c,u]),p=(0,t.useCallback)(e=>{(0,s.promiseToCallback)(m)(e)},[m]),h=(0,t.useCallback)(async e=>{let t=d.filter(t=>!l(t,e));try{await (0,a.fetchAPI)(i.API_USER,{method:"PATCH",body:{favoriteProjectsAndSpaces:t},throwOnHTTPError:!0}),await c()}catch{u.error("Removing the project from your favorites failed.")}},[d,c,u]),f=(0,t.useCallback)(e=>{(0,s.promiseToCallback)(h)(e)},[h]),x=(0,t.useCallback)(e=>d.some(t=>l(t,e)),[d]);return{addFavorite:p,favorites:d,removeFavorite:f,isFavorite:x,addFavoriteAsync:m,removeFavoriteAsync:h}}])},7173923,e=>{"use strict";var t=e.i(847684),r=e.i(3007284);e.s(["TruncateMiddle",0,e=>{let{children:a,className:i}=e,{prefix:n,middle:s,suffix:l}=(e=>{if(!e)return{prefix:"",middle:"",suffix:""};let t=0,r=e.match(/^([^\/]+\/)/);if(r?.[1])t=r[1].length;else{let r=e.match(/^([a-zA-Z]+-\d+)/);t=r?.[1]?r[1].length:6}if(e.length<=2*t)return{prefix:e,middle:"",suffix:""};let a=e.slice(0,t),i=e.slice(-t);return{prefix:a,middle:e.slice(t,-t),suffix:i}})(a);return s||l?(0,t.jsxs)("span",{className:(0,r.clsx)("inline-flex min-w-0 max-w-full",i),children:[(0,t.jsx)("span",{className:"shrink-0",children:n}),(0,t.jsx)("span",{className:"truncate min-w-0",children:s}),(0,t.jsx)("span",{className:"shrink-0 whitespace-nowrap",children:l})]}):(0,t.jsx)("span",{className:i,children:n})}])},8391381,e=>{e.v({button:"command-module__eP91eq__button",disabled:"command-module__eP91eq__disabled",hidebutton:"command-module__eP91eq__hidebutton",listWrapper:"command-module__eP91eq__listWrapper"})},1236612,9261674,e=>{"use strict";var t=e.i(847684),r=e.i(692265),a=e.i(7185353),i=e.i(6470727);let n=a.createContext({listId:"",inputId:"",inputValue:"",selectedIndex:0,inputRef:{current:null},filterList:null,listRef:{current:null},list:{current:[]},map:{current:{}},setInputValue:()=>void 0,setSelectedIndex:()=>void 0,force:()=>void 0});n.displayName="CommandContext";let s=(0,i.createDescendants)();var l=e.i(6143247),o=e.i(57106),c=e.i(935882),u=e.i(6226725),d=e.i(8391381),m=e.i(9338892);function p(e){let{children:a,inputValue:i,setInputValue:s,selectedIndex:l,setSelectedIndex:o,contentRef:c,inputRef:u,...d}=e,m=(0,r.useId)(),p=(0,r.useId)();return(0,t.jsx)(n.Provider,{value:{listId:m,inputId:p,inputValue:i,setInputValue:s,selectedIndex:l,setSelectedIndex:o,inputRef:u,filterList:[],listRef:{current:null},list:{current:[]},map:{current:{}},force:()=>void 0,...d},children:a})}p.Item=function(e){let{className:r,children:c,callback:u,hideOnFilter:d,isStatic:m=!1,value:p,href:h,...f}=e,[x,g]=(0,a.useState)(""),j=!!f.isDocs;(0,a.useEffect)(()=>{let e=b.current;e&&g((e.textContent??"").trim())},[c]);let{selectedIndex:v,setSelectedIndex:y,filterList:w,list:_,map:S}=a.useContext(n),{index:C,ref:b,id:A}=(0,i.useDescendant)(s,{value:d?null:p||x,callback:u,...f}),I=!!S.current[A],L=_.current[v]?._internalId===A,N=Array.isArray(w)&&I?w.findIndex(e=>{let{_internalId:t}=e;return t===A}):void 0;return((0,a.useEffect)(()=>{if(L&&b.current){let e=b.current,t=e.parentElement;if(t?.hasAttribute("data-command-group")&&t.firstChild===e){let r=e.closest("[data-command-list-wrapper]");t.parentElement&&r?.scrollTop&&r.scrollTop>t.parentElement.offsetTop&&(r.scrollTop=t.parentElement.offsetTop)}e.scrollIntoView({block:"nearest"})}},[L]),j||-1!==N||m)?(0,t.jsx)("li",{...f,"aria-selected":L||void 0,"data-command-item":"","data-order":N,onClick:e=>{u?.(e)},onPointerMove:()=>{y(C)},ref:b,role:"option",className:(0,l.cn)("relative",r),children:h?(0,t.jsx)(o.Link,{href:h,className:"flex size-full items-center",children:c}):(0,t.jsx)(t.Fragment,{children:c})}):null},p.Group=function(e){let{children:i,heading:n,customHeading:s,className:l}=e,o=(0,r.useId)(),u=(0,a.useRef)(null),[d,m]=(0,a.useState)(!0);return(0,c.default)(()=>{u.current&&m(0!==u.current.children.length)}),(0,t.jsxs)("li",{role:"presentation",style:d?void 0:{display:"none"},children:[s?(0,t.jsx)("div",{id:o,children:s}):(0,t.jsx)("div",{className:l,"data-command-group-heading":"",id:o,children:n}),(0,t.jsx)("ul",{"aria-labelledby":o,"data-command-group":"",ref:u,role:"group",children:i})]})},p.Input=function(e){let{onKeyDown:r,disabled:i,...s}=e,{listId:l,inputId:o,inputValue:c,setInputValue:m,inputRef:p}=a.useContext(n),h=function(){let{setSelectedIndex:e,selectedIndex:t,list:r}=a.useContext(n);function i(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Math.max(t-a,0);r.current[i]?e(i):e(0)}function s(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Math.min(t+a,r.current.length-1);r.current[i]?e(i):e(r.current.length||0)}return a=>{switch(a.key){case"Home":a.preventDefault(),e(0);break;case"End":a.preventDefault(),e(r.current.length||0);break;case"ArrowDown":a.preventDefault(),a.shiftKey?s(5):s();break;case"ArrowUp":a.preventDefault(),a.shiftKey?i(5):i();break;case"Enter":a.preventDefault(),(r.current[t]?.callback)(a)}}}(),f=!!s.showClear;return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)("input",{onChange:m,onKeyDown:e=>{h(e),r?.(e)},ref:p,value:c,...s,"aria-autocomplete":"list","aria-controls":l,"aria-expanded":!0,"aria-haspopup":"listbox","aria-owns":l,autoComplete:"off",autoFocus:s.autoFocus??!0,"data-command-input":"",disabled:i,id:o,role:"combobox",spellCheck:!1,type:"text"}),!!f&&(0,t.jsx)("button",{className:""===c?d.default.hidebutton:d.default.button,onClick:()=>{m(""),p.current?.focus()},type:"button",children:(0,t.jsx)("span",{children:(0,t.jsx)(u.CrossCircle,{size:20})})})]})},p.List=function(e){let{children:r,maxHeight:i=300,emptyMessage:l,disableDynamicHeight:o,...u}=e,m=(0,a.useRef)(null),{listId:p,listRef:h,map:f,list:x,force:g,inputValue:j}=a.useContext(n);(0,c.default)(()=>{if(!h.current)return;let e=new Map,t=Array.from(h.current.querySelectorAll("[data-descendant], [data-command-separator]"));u.applySort&&t.sort((e,t)=>Number(e.getAttribute("data-order"))-Number(t.getAttribute("data-order"))),t.forEach(t=>{if(t.parentElement){t.parentElement.appendChild(t);let r=t.closest("[data-command-list] > *");r&&r!==t&&r!==h.current&&(e.has(r)||(h.current?.appendChild(r),e.set(r,!0)))}})},[j]),(0,c.default)(()=>{if(!h.current||!m.current||o)return;let e=Math.min(h.current.offsetHeight+1,i);m.current.style.height=`${1===e?0:e}px`});let v=(0,a.useMemo)(()=>({list:x,map:f,force:g}),[x,f,g]),{applySort:y,...w}=u;return(0,t.jsx)("div",{className:d.default.listWrapper,"data-command-list-wrapper":"",ref:m,children:(0,t.jsxs)("ul",{id:p,ref:h,role:"listbox",...w,"data-command-list":"",children:[0===x.current.length&&j.length>0&&(0,t.jsx)("div",{"data-command-empty":"",children:l}),(0,t.jsx)(s.Provider,{value:v,children:r})]})})},p.Separator=function(e){let{className:r}=e,{inputValue:i}=a.useContext(n),s=(0,a.useRef)(null);return((0,c.default)(()=>{let e=s.current;if(!e)return;let t=e.nextElementSibling;t&&t.hasAttribute("data-order")&&e.setAttribute("data-order",t.getAttribute("data-order"))}),i)?null:(0,t.jsx)("li",{className:r,"data-command-separator":"",ref:s,role:"separator"})},e.s(["Command",0,p],1236612),e.s(["useCommand",0,function(){var e,t;let r,{selected:n=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[s,l]=a.useState(n),[o,c]=a.useState(""),u=a.useRef(null),d=a.useRef(null),{ref:p,...h}=(0,i.useDescendants)(),f=(e=h.map,t=o,(r=Object.values(e.current)).length?""===t?r:(0,m.matchSorter)(r,t,{keys:[e=>e.value]}):null);return{inputValue:o,setInputValue:function(e){"string"==typeof e?c(e):c(e.target.value),l(0)},selectedIndex:s,setSelectedIndex:l,filterList:f,listRef:p,contentRef:u,inputRef:d,...h}}],9261674)},84614,e=>{e.v({avatar:"multi-switcher-module__eIAjoG__avatar",close:"multi-switcher-module__eIAjoG__close",command:"multi-switcher-module__eIAjoG__command","command-overlay":"multi-switcher-module__eIAjoG__command-overlay",content:"multi-switcher-module__eIAjoG__content",crumb:"multi-switcher-module__eIAjoG__crumb","delayed-pointer-events":"multi-switcher-module__eIAjoG__delayed-pointer-events",disabled:"multi-switcher-module__eIAjoG__disabled",empty:"multi-switcher-module__eIAjoG__empty","fav-button":"multi-switcher-module__eIAjoG__fav-button",focused:"multi-switcher-module__eIAjoG__focused",hideOnMobile:"multi-switcher-module__eIAjoG__hideOnMobile",hideOutline:"multi-switcher-module__eIAjoG__hideOutline",hover:"multi-switcher-module__eIAjoG__hover","hover-content":"multi-switcher-module__eIAjoG__hover-content",infoCard:"multi-switcher-module__eIAjoG__infoCard",input:"multi-switcher-module__eIAjoG__input",itemWrapper:"multi-switcher-module__eIAjoG__itemWrapper",kbd:"multi-switcher-module__eIAjoG__kbd",list:"multi-switcher-module__eIAjoG__list",name:"multi-switcher-module__eIAjoG__name",open:"multi-switcher-module__eIAjoG__open",primary:"multi-switcher-module__eIAjoG__primary",protectedProject:"multi-switcher-module__eIAjoG__protectedProject",scopeLink:"multi-switcher-module__eIAjoG__scopeLink",scopeName:"multi-switcher-module__eIAjoG__scopeName",showAllBadges:"multi-switcher-module__eIAjoG__showAllBadges",showOnMobile:"multi-switcher-module__eIAjoG__showOnMobile",teamItem:"multi-switcher-module__eIAjoG__teamItem",trigger:"multi-switcher-module__eIAjoG__trigger"})},5811041,e=>{e.v({modalTitleBody:"multi-switcher-confirm-modal-module__X63FEa__modalTitleBody"})},6016088,e=>{"use strict";var t=e.i(847684),r=e.i(7185353),a=e.i(6891161),i=e.i(5811041);let n=(0,r.createContext)(null);function s(e){let{teamName:r}=e;return r?(0,t.jsxs)("span",{children:["the ",(0,t.jsx)("span",{className:"text-heading-14",children:r})," team"]}):(0,t.jsxs)("span",{children:["your ",(0,t.jsx)("span",{className:"text-heading-14",children:"Personal Account"})]})}n.displayName="CloneContext",e.s(["CloneContext",0,n,"MultiSwitcherConfirmModal",0,function(e){let{onClickOutside:r,onAnimationDone:n,active:l,callback:o,teamName:c}=e;return(0,t.jsxs)(a.Modal.Modal,{active:l,onAnimationDone:n,onClickOutside:r,width:500,children:[(0,t.jsx)(a.Modal.Body,{children:(0,t.jsxs)("div",{className:i.default.modalTitleBody,children:[(0,t.jsx)(a.Modal.Title,{children:"Confirm switching teams"}),(0,t.jsx)(a.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium",children:["You have already created resources for this new project in"," ",(0,t.jsx)(s,{teamName:c}),"."]}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["By switching teams, these resources will be left in"," ",(0,t.jsx)(s,{teamName:c}),", and you will have to create them again once you switch teams. Additionally, these original resources will not be deleted if you continue, and you should remove them manually."]})]})})]})}),(0,t.jsxs)(a.Modal.Actions,{children:[(0,t.jsx)(a.Modal.Action,{onClick:r,type:"secondary",children:"Cancel"}),(0,t.jsx)(a.Modal.Action,{buttonType:"submit",onClick:()=>{r(),o?.()},children:"Switch Team"})]})]})},"useMultiSwitcherState",0,function(){let[e,t]=(0,r.useState)(!1),[a,i]=(0,r.useState)(),n=(0,r.useCallback)(()=>{t(!1)},[]),s=(0,r.useCallback)(e=>{t(!0),i(e)},[]),[l,o]=(0,r.useState)(0),c=(0,r.useCallback)(()=>{o(e=>e+1)},[o]);return[s,{active:e,onClickOutside:n,key:`multi-switcher-confirm${String(l)}`,onAnimationDone:c,...a}]}])},3220378,e=>{"use strict";var t,r=e.i(847684),a=e.i(1821888),i=e.i(7185353),n=e.i(8238875),s=e.i(9722978),l=e.i(5883567),o=e.i(2331152),c=e.i(1918911),u=e.i(2504781),d=e.i(4585051),m=e.i(1492947),p=e.i(4004502),h=e.i(6352514),f=e.i(4759942),x=e.i(6685186),g=e.i(5338940),j=e.i(5140444),v=e.i(9668517),y=e.i(3322724),w=e.i(57106),_=e.i(7837522),S=e.i(7780974),C=e.i(1236612),b=e.i(9261674),A=e.i(4839822),I=e.i(475038),L=((t={}).PROJECTS="scope-search-projects",t.TEAMS="scope-search-teams",t),N=e.i(827385),P=e.i(271259),T=e.i(8172029),k=e.i(1502164),E=e.i(5756088),$=e.i(6318858),R=e.i(5255926),M=e.i(7173923),F=e.i(8977282),O=e.i(6228447),D=e.i(4670733);let G="ðŸ‘¥",W="ðŸ“",q=RegExp("/~/(deployments|observability|storage|ai|settings)(?:/|$)"),K=new Map([["/analytics",new Set(["period","from","to","environment","client_type","tab"])]]);function B(e,t){let r=e.indexOf(`/${t}`);return -1===r?e:e.substring(0,r)}var V=e.i(5136192),H=e.i(6060673),z=e.i(8896705),U=e.i(6016088),X=e.i(84614);function Y(e){let{team:t,isCurrent:a,closeSwitcher:l}=e,[o,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)({x:100,translateY:0}),p=(0,n.useRouter)(),h=function(e){let{user:t,team:r}=e;return{name:r?.name||t?.name||r?.slug||t?.username,slug:r?.slug||t?.username,avatar:r?.avatar||t?.avatar}}({team:t}),f=(0,n.usePathname)(),x=(0,n.useParams)()||{},g=(0,n.useSearchParams)()??new URLSearchParams(""),{value:j}=(0,D.useAllAccountTypeBadgesFlag)(),v=(0,i.useContext)(U.CloneContext),y=e=>{if(h.slug&&((0,F.setScope)(h.slug),f)){let r=(0,V.getScopeHref)({pathname:f,pathParams:x,searchParams:g,team:t});e?window.open(r,"_self","noopener"):p.push(r)}},w=h.slug&&f?(0,V.getScopeHref)({pathname:f,pathParams:x,searchParams:g,team:t}):void 0;return(0,r.jsx)(C.Command.Item,{href:w,callback:e=>{if(h.slug){if("key"in e&&"Enter"===e.key)return(e.preventDefault(),l(),v)?void v.openModalSwitchConfirm({callback:()=>y(!0)}):void(w&&(window.location.href=w));if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),w&&window.open(w,"_blank","noopener,noreferrer");return}if(l(),f){if(v)return void v.openModalSwitchConfirm({callback:()=>y(!0)});y(!1)}}},onKeyDown:e=>{if("Enter"===e.key){if(e.preventDefault(),l(),v)return void v.openModalSwitchConfirm({callback:()=>y(!0)});w&&(window.location.href=w)}},className:(0,s.clsx)(X.default.teamItem,{[X.default.hover]:o}),"data-current":a,onMouseMove:e=>{if(o){let{top:t,height:r,bottom:a}=e.currentTarget.getBoundingClientRect(),i=(e.clientY-t)/r*100,n=e.currentTarget.closest("[data-command-list-wrapper]");if(!n)return;let s=n.getBoundingClientRect(),l=0;s.bottom-a<250&&(l=250-(s.bottom-a+r/2)),i>=5&&i<=95?m({x:e.clientX-s.left-16,translateY:l}):(i>100||i<0)&&setTimeout(()=>{c(!1)},500)}},onMouseOut:()=>{c(!1)},onMouseOver:()=>{c(!0)},style:{"--protection-x":`${u.x+1}px`,"--protection-translate-y":`${-u.translateY}px`},value:[h.name,h.slug],children:(0,r.jsxs)(Z,{active:a,children:[(0,r.jsx)(d.Avatar,{hash:h.avatar,size:22,teamId:t?.id}),(0,r.jsx)("span",{className:(0,s.clsx)(X.default.name,"geist-ellipsis",{[X.default.showAllBadges]:j}),children:h.name}),(0,r.jsx)(k.ScopeBadge,{fallbackToPlan:!!j,team:t})]})})}function Z(e){let{children:t,active:a}=e;return(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center justify-between flex-1",X.default.itemWrapper),children:[(0,r.jsx)("div",{className:(0,s.clsx)("flex flex-row items-center justify-start gap-2 flex-1",X.default.itemWrapper),children:t}),a?(0,r.jsx)($.Check,{className:"ml-2",color:"gray-900"}):null]})}function J(e){let{projectId:t,teamSlug:a,...i}=e,{data:n,isLoading:s}=(0,H.useProject)(t,{config:{onError:()=>!0},fetchOptions:{throwOnScopeAuthError:!0}},a),{team:l}=(0,g.useTeam)(a);return s?(0,r.jsx)(et,{}):(0,O.isAuthenticationRequired)(l)?(0,r.jsx)(Q,{isCurrent:i.isCurrent,projectId:t,slug:a}):n?(0,r.jsx)(ee,{...i,project:n,scopeSlug:a}):null}function Q(e){let{isCurrent:t,projectId:a,slug:i}=e,l=(0,n.useRouter)();return(0,r.jsx)(C.Command.Item,{callback:e=>{if("key"in e&&"Enter"===e.key){e.preventDefault(),(0,O.requireAuthentication)({slug:i,push:e=>{l.push(e)}});return}(0,O.requireAuthentication)({slug:i,push:e=>{l.push(e)}})},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),(0,O.requireAuthentication)({slug:i,push:e=>{l.push(e)}}))},"data-current":t,value:["unauthed-project",a,i],children:(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center justify-between flex-1",X.default.itemWrapper),children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,r.jsx)("div",{className:X.default.protectedProject}),(0,r.jsx)("p",{className:"text-copy-14",children:"Protected Project"})]}),(0,r.jsx)(E.LockClosed,{color:"gray-700"})]})})}function ee(e){let{project:t,scopeSlug:a,isCurrent:i,contentRight:s,closeSwitcher:l}=e,o=(0,n.usePathname)(),c=(0,n.useParams)(),u=t.name&&a&&o?(e=>{let{srcPathname:t,srcPathParams:r,srcSearchParamsStr:a,destScopeSlug:i,destProjectName:n}=e,s=`/${i}/${n}`,l=r?.teamSlug,o=r?.project,c=r?.id,u=r?.flagKey,d=r?.slug,m=r?.runId,p=r?.workflowName;if(l&&o&&i&&t.includes(o))s=t.replace(l,G).replace(o,W).replace(G,i).replace(W,n);else l&&!o&&i&&q.test(t)&&(s=t.replace("/~/",`/${n}/`),i!==l&&(s=s.replace(`/${l}/`,`/${i}/`)),(s.includes("/ai/")||s.endsWith("/ai"))&&(s=s.replace(RegExp(`/${n}/ai(/|$)`),`/${n}/ai-gateway$1`)));return null!=c&&(s=B(s,c)),u&&(s=B(s,u)),d&&s.includes("/flags/segments/")&&(s=B(s,d)),(m||p)&&s.includes("/workflows/")&&(s=s.replace(/\/workflows\/(runs|flows)\/[^/]+$/,"/workflows")),a&&(s+=function(e,t){for(let[r,a]of K)if(t.endsWith(r))return function(e,t){let r=new URLSearchParams;for(let[a,i]of new URLSearchParams(e))t.has(a)&&r.set(a,i);let a=r.toString();return a?`?${a}`:""}(e,a);return e}(a,s)),s})({srcPathname:o,srcPathParams:c,srcSearchParamsStr:window.location.search,destScopeSlug:a,destProjectName:t.name}):`/team/${a}/project/${t.name||t.id}`;return(0,r.jsx)(C.Command.Item,{href:u,callback:e=>{if(t.name){if("key"in e&&"Enter"===e.key){e.preventDefault(),l(),window.location.href=u;return}if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),window.open(u,"_blank","noopener,noreferrer");return}l()}},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),l(),window.location.href=u)},"data-current":i,value:[t.name,t.id,a],children:(0,r.jsx)(er,{contentRight:s,isCurrent:i,name:t.name,children:(0,r.jsx)(z.FaviconOrFramework,{project:t,size:16,style:{position:"relative"},teamId:a})})})}function et(e){let{index:t=0}=e;return(0,r.jsx)(C.Command.Item,{style:{display:"flex",background:"transparent"},children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3",style:{flex:"0 1 100%"},children:[(0,r.jsx)(R.Skeleton,{height:16,rounded:!0,width:16}),(0,r.jsx)(R.Skeleton,{height:20,style:{margin:"2px 0",flex:.7+(t%2?.2:0)}})]})})}function er(e){let{children:t,name:a,isCurrent:i,contentRight:n}=e;return(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center justify-between flex-1",X.default.itemWrapper),children:[(0,r.jsxs)("div",{className:`flex flex-row items-center justify-start gap-3 flex-1 ${X.default.itemWrapper}`,children:[(0,r.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:t}),(0,r.jsx)(M.TruncateMiddle,{className:X.default.name,children:a})]}),(0,r.jsx)("div",{className:X.default["hover-content"],children:n}),i?(0,r.jsx)($.Check,{className:"ml-2",color:"gray-900"}):null]})}function ea(e){let{fav:t,activeSlug:r,...a}=e;return(0,i.createElement)(J,{...a,isCurrent:t.projectId===r,key:t.projectId,projectId:t.projectId})}let ei="create_team_button";var en=e.i(9543208),es=e.i(387079),el=e.i(6942035),eo=e.i(1867722),ec=e.i(1114103),eu=e.i(2107254),ed=e.i(6774523),em=e.i(1613936),ep=e.i(6161994);function eh(e){let{primary:t,activeSection:a,setActiveSection:i,commandProps:{setInputValue:s,inputValue:l,...o},selectedScope:c,closeSwitcher:u}=e,{addFavorite:d,removeFavorite:m,favorites:p,isFavorite:h}=(0,em.useFavoriteProjectsAndSpaces)(),{projects:f,microfrontendGroups:x,isLoadingTeamSpecificData:v,isLoadingMicrofrontendsContent:y,teamId:w}=(e=>{let{selectedScope:t,inputValue:r}=e,{user:a}=(0,j.useUser)(),{teams:i}=(0,g.useTeam)(),s=eI((0,n.useParams)()),l=eb(t,i,a),o=(0,O.isAuthenticationRequired)(l),c=i?.find(e=>e.slug===t)?.id,{data:u,isLoading:d}=(0,ep.useMicrofrontendsGroups)({overWriteTeamSlug:t}),m=(u??{groups:[]}).groups.filter(e=>e.projects.some(e=>e.name===s)),{data:p,isLoading:h}=(0,eu.default)({fetchEnabled:!o,limit:10,latestDeployments:0,search:r},{onError:()=>!0,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},t,{throwOnScopeAuthError:!0}),f=(p?.projects??[]).filter(e=>m.every(t=>t.projects.every(t=>t.id!==e.id)));return r||f.sort((e,t)=>e.name.localeCompare(t.name)),{projects:f,microfrontendGroups:m,isLoading:d||h,isLoadingTeamSpecificData:h,isLoadingMicrofrontendsContent:d,teamId:c??null}})({inputValue:l,selectedScope:c});return c?(0,r.jsx)(ec.AnimatePresence,{initial:!1,mode:"popLayout",presenceAffectsLayout:!0,children:(0,r.jsx)(ef,{activeSection:a,primary:t,setActiveSection:i,style:X.default,children:(0,r.jsxs)(C.Command,{"aria-label":"Projects",inputValue:l,setInputValue:s,...o,children:[(0,r.jsx)(eC,{setActiveSection:i}),(0,r.jsxs)(C.Command.List,{className:X.default.list,disableDynamicHeight:!0,maxHeight:730,emptyMessage:(0,r.jsx)(ex,{inputValue:l,isLoading:v,projects:f,setInputValue:s}),children:[(0,r.jsx)(eg,{closeSwitcher:u,favorites:p,isLoading:!1,removeFavorite:m,selectedScope:c}),(0,r.jsx)(ej,{addFavorite:d,closeSwitcher:u,isFavorite:h,isLoading:y,microfrontendGroups:x,removeFavorite:m,selectedScope:c,teamId:w}),(0,r.jsx)(ev,{addFavorite:d,closeSwitcher:u,inputValue:l,isFavorite:h,isLoading:v,projects:f,removeFavorite:m,selectedScope:c}),(0,r.jsx)(ey,{closeSwitcher:u,selectedScope:c})]})]})})}):null}function ef(e){let{activeSection:t,children:a,primary:i,setActiveSection:n,style:l}=e;return(0,r.jsx)(eo.m.div,{animate:{opacity:1},className:(0,s.clsx)(l.command,{[l.focused]:"projects"===t,[l.primary]:i}),"data-testid":(0,p.tid)("project-switcher","dropdown"),exit:{opacity:0},initial:{opacity:1},onMouseEnter:()=>n("projects"),onMouseLeave:e=>{let t=document.querySelector("[data-radix-popper-content-wrapper]");e.relatedTarget instanceof Node&&t?.contains(e.relatedTarget)&&n("teams")},children:a})}function ex(e){let{inputValue:t,isLoading:a,projects:i,setInputValue:n}=e;return a||""===t||i.length>0?null:(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-4 flex-initial",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-left",children:"No Projects Found"}),(0,r.jsxs)("p",{className:"text-copy-14 text-gray-900 text-left",children:['Your search for "',t,'" did not match any projects.']}),(0,r.jsx)(u.Button,{onClick:()=>{n("")},size:"small",type:"secondary",width:"100%",children:"Clear Search"})]},"searchNotFound")}function eg(e){let{closeSwitcher:t,favorites:a,isLoading:s,removeFavorite:l,selectedScope:o}=e,{teams:c}=(0,g.useTeam)(),u=eI((0,n.useParams)());return s||null===c||0===a.length?null:(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(C.Command.Group,{"data-order":"1",heading:"Favorites",children:a.map(e=>{let a=c.find(t=>t.id===e.teamId);return a?(0,r.jsx)(ea,{activeSlug:u,closeSwitcher:t,contentRight:(0,r.jsx)("button",{"aria-label":"Remove from favorites",className:X.default["fav-button"],onClick:t=>{t.preventDefault(),t.stopPropagation(),l(e)},type:"button",children:(0,r.jsx)(el.Cross,{})}),fav:e,isCurrent:!1,scopeSlug:o,teamId:e.teamId,teamSlug:a.slug},(0,em.serializeFavorite)(e)):null})}),(0,r.jsx)(C.Command.Separator,{})]},"favorites")}function ej(e){let{addFavorite:t,closeSwitcher:a,isFavorite:i,isLoading:s,microfrontendGroups:l,removeFavorite:o,selectedScope:c,teamId:u}=e,d=(0,n.useParams)(),{user:m,isLoading:p}=(0,j.useUser)();if(s||p)return null;let h=eI(d);return(0,r.jsx)(r.Fragment,{children:l.map(e=>{let n=e.group.name?e.group.name:e.group.slug;return(0,r.jsx)(C.Command.Group,{"data-order":"2",heading:n,children:e.projects.map(e=>(0,r.jsx)(ee,{closeSwitcher:a,contentRight:u?(0,r.jsx)(e_,{addFavorite:t,isFavorited:i({projectId:e.id,teamId:u}),project:e,removeFavorite:o,selectedScope:c,teamId:u,limited:!!m?.limited}):null,isCurrent:e.name===h,project:e,scopeSlug:c},`scope-project-${e.id}`))},n)})})}function ev(e){let{addFavorite:t,closeSwitcher:a,inputValue:i,isFavorite:s,isLoading:l,projects:o,removeFavorite:c,selectedScope:u}=e,{user:d}=(0,j.useUser)(),{teams:m}=(0,g.useTeam)(),p=eI((0,n.useParams)()),h=m?.find(e=>e.slug===u)??null,f=h?.id??null;if(!h&&eA(u,d))return null;let x={"data-order":"3",heading:"Projects"},v=!(0,O.isAuthenticationRequired)(h)&&!function(e){let{teamOrUser:t,user:r}=e;return!!(t?.mfa&&"enforced"in t.mfa&&t.mfa.enforced)&&!r?.mfa?.enabled}({teamOrUser:h,user:d});return l?(0,r.jsx)(C.Command.Group,{...x,children:[,,,,,].fill(0).map((e,t)=>(0,r.jsx)(et,{index:t},(0,ed.getUnsafeKey)(t,"scope-loader")))}):0===o.length&&""===i?(0,r.jsxs)(C.Command.Group,{...x,children:[(0,r.jsx)(eS,{closeSwitcher:a,selectedScope:u}),v?(0,r.jsx)(ew,{}):null]}):(0,r.jsxs)(C.Command.Group,{...x,children:[(0,r.jsx)(eS,{closeSwitcher:a,selectedScope:u}),v?o.map(e=>(0,r.jsx)(ee,{closeSwitcher:a,contentRight:(0,r.jsx)(e_,{addFavorite:t,isFavorited:s({teamId:e.accountId??"",projectId:e.id}),project:e,removeFavorite:c,selectedScope:u,teamId:f,limited:!!d?.limited}),isCurrent:e.name===p,project:e,scopeSlug:u},`scope-project-${e.id}`)):null]})}function ey(e){let{closeSwitcher:t,selectedScope:a}=e,{user:i}=(0,j.useUser)(),{teams:s}=(0,g.useTeam)(),o=(0,n.useRouter)(),c=eb(a,s,i);return(0,O.isAuthenticationRequired)(c)||eA(a,i)?null:(0,r.jsx)(C.Command.Item,{callback:e=>{let r=`/new/${a}`;e.ctrlKey||e.metaKey||"button"in e&&1===e.button?window.open(r,"_blank","noopener"):o.push(r),t()},"data-order":"4","data-testid":(0,p.tid)("scope-switcher","create-project"),hideOnFilter:!1,children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,r.jsx)(l.PlusCircle,{color:"blue-900",size:16}),(0,r.jsx)("p",{className:"text-copy-14",children:"Create Project"})]})})}function ew(){return(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-col items-start justify-start gap-1 flex-initial",X.default.empty),children:[(0,r.jsx)("p",{className:"text-heading-14 text-gray-1000 text-left",children:"No projects, yet!"}),(0,r.jsx)("p",{className:"text-copy-14 text-gray-900 text-left",children:"This team has no projects."})]})}function e_(e){let{isFavorited:t,addFavorite:a,removeFavorite:i,selectedScope:n,project:s,teamId:l,limited:o}=e;return n&&l&&!o?(0,r.jsx)("button",{"aria-label":`${t?"Remove from your":"Add project to your"} favorites`,className:X.default["fav-button"],onClick:e=>{e.preventDefault(),e.stopPropagation(),l&&(t?i:a)({teamId:l,projectId:s.id})},style:{background:"none",height:32,borderRadius:4},type:"button",children:t?(0,r.jsx)(es.StarFill,{size:16,style:{marginRight:-2,flexShrink:0}}):(0,r.jsx)(en.Star,{size:16,style:{marginRight:-2,flexShrink:0}})}):null}function eS(e){let{closeSwitcher:t,selectedScope:a}=e,{user:i}=(0,j.useUser)(),{teams:l}=(0,g.useTeam)(),o=(0,n.useRouter)(),c=eb(a,l,i),d=(0,O.isAuthenticationRequired)(c),m=(0,O.getTeamLimitedBy)(c);if(!d)return null;let p=!!c&&"saml"in c&&(c.saml?.enforced??!1),h="Re-Authenticate",f=p?"You must authenticate with SAML to access projects in":"You must re-authenticate to access projects in",x=p?"Continue with SAML SSO":"Continue",v=()=>{(0,O.requireAuthentication)({slug:a,next:`/${a}`,push:e=>{o.push(e)}}),t()};return 1===m.length&&m.includes("mfa")&&(h="Two-Factor Required",f="You must enable two-factor authentication to access projects in",x="Configure 2FA",v=()=>{o.push("/account/settings/authentication#two-factor-authentication"),t()}),(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-col items-center justify-center gap-3 flex-initial",X.default.empty),children:[(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-1 flex-initial",children:[(0,r.jsx)("p",{className:"text-heading-14 text-gray-1000 text-left",children:h}),(0,r.jsxs)("p",{className:"text-copy-14 text-gray-900 text-left",children:[f," ",(0,r.jsx)("span",{className:"text-heading-14",children:c?.name}),"."]})]}),(0,r.jsx)(u.Button,{onClick:v,size:"small",width:"100%",children:x})]})}function eC(e){let{setActiveSection:t}=e;return(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center justify-start flex-initial",X.default.input),children:[(0,r.jsx)(o.MagnifyingGlass,{color:"gray-500",size:20}),(0,r.jsx)(C.Command.Input,{autoFocus:!1,itemID:L.PROJECTS,onFocus:()=>t("projects"),placeholder:"Find Project..."})]})}let eb=(e,t,r)=>{let a=t?.find(t=>t.slug===e);return a||(r?.username===e?r??null:null)},eA=(e,t)=>e===t?.username,eI=e=>e?.project||e?.spaceIdOrSlug;function eL(e){let{primary:t,activeSection:a,setActiveSection:i,commandProps:n,selectedScope:s,closeSwitcher:l}=e;return(0,r.jsx)(eh,{activeSection:a,closeSwitcher:l,commandProps:n,primary:t,selectedScope:s,setActiveSection:i})}function eN(e){let{primary:t,activeSection:a,setActiveSection:i,commandProps:n,onShowCreateTeam:c,closeSwitcher:d,team:m}=e,{track:x}=(0,_.useTrackActivity)(),{canCreateTrial:j,isOemPartner:v}=(0,P.useCanCreateTrial)(),y=(0,g.useSortedTeams)(),{setInputValue:w,inputValue:b}=n;return(0,r.jsx)("div",{className:(0,s.clsx)(X.default.command,t&&X.default.primary,{[X.default.focused]:"teams"===a}),"data-testid":(0,p.tid)("scope-switcher","dropdown"),onMouseEnter:()=>i("teams"),onMouseLeave:e=>{let t=document.querySelector("[data-radix-popper-content-wrapper]");e.relatedTarget instanceof Node&&t?.contains(e.relatedTarget)&&i("projects")},children:(0,r.jsxs)(C.Command,{"aria-label":"Command menu",...n,children:[(0,r.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center justify-start flex-initial",X.default.input),children:[(0,r.jsx)(o.MagnifyingGlass,{color:"gray-900",size:20}),(0,r.jsx)(C.Command.Input,{autoFocus:!1,itemID:L.TEAMS,onFocus:()=>i("teams"),placeholder:"Find Teamâ€¦"})]}),(0,r.jsxs)(C.Command.List,{disableDynamicHeight:!0,emptyMessage:(0,r.jsxs)("div",{className:"flex flex-col items-start justify-start gap-4 flex-initial",children:[(0,r.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-left",children:"No Team Found"}),(0,r.jsxs)("p",{className:"text-copy-14 text-gray-900 text-left",children:['Your search for "',b,'" did not match any teams.']}),(0,r.jsx)(u.Button,{onClick:()=>{w("")},size:"small",type:"secondary",width:"100%",children:"Clear Search"})]}),maxHeight:730,children:[(0,r.jsx)(C.Command.Group,{heading:"Teams",children:y.map(e=>(0,r.jsx)(Y,{closeSwitcher:d,isCurrent:!!(m&&e.slug===m.slug),team:e},`scope-team-${e.slug}`))}),(0,r.jsx)(C.Command.Item,{callback:()=>{c(),f.analytics.track(h.AnalyticsEvent.SCOPE_SWITCHER_CLICKED_NEW_TEAM),x(S.VercelActivityAction.CreateTeamClick,{source:"scope-switcher",hasTrialAvailable:j??!1,isOemPartner:v??!1}),d()},"data-testid":(0,p.tid)("scope-switcher","create-team"),hideOnFilter:!0,value:[ei,ei],children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,r.jsx)(l.PlusCircle,{className:"translate-z-0 translate-x-[3px]",color:"blue-900"}),(0,r.jsx)("span",{children:"Create Team"})]})})]})]})})}(0,p.markLoadedForTest)("multi-switcher"),e.s(["MultiSwitcherPopup",0,function(e){let{side:t="bottom",children:s,setCreateModalOpen:l,primaryColumn:o,forceVisible:d=!1,...h}=e,{team:f}=(0,g.useTeam)(),{user:w}=(0,j.useUser)(),_=(0,n.useSearchParams)(),S=(0,v.useTeamSlug)(),[C,N]=(0,i.useState)("teams"),P=S||w?.username||"",T=(0,g.useSortedTeams)(),k=f?T.findIndex(e=>e.id===f.id):0,E=(0,b.useCommand)({selected:k}),$=(0,b.useCommand)({selected:0}),[R,M]=(0,i.useState)(!1),F=()=>{M(!1),E.setInputValue(""),$.setInputValue("")};$.map;let O=(0,y.useIsMobile)(),D=(0,I.useIsViewingPublicDeployment)(),G=(0,i.useRef)(0),W=(0,i.useRef)(0);(0,i.useEffect)(()=>{let e=()=>{M(!0)};return document.addEventListener(A.OPEN_SCOPE_SWITCHER_EVENT,e),()=>{cancelAnimationFrame(G.current),cancelAnimationFrame(W.current),document.removeEventListener(A.OPEN_SCOPE_SWITCHER_EVENT,e)}},[]),(0,i.useEffect)(()=>{_?.get(A.OPEN_SCOPE_SWITCHER_EVENT)==="true"&&M(!0)},[_]),(0,i.useEffect)(()=>{let e,{inputValue:t,setInputValue:r,setSelectedIndex:a,selectedIndex:i}=E;return R||(e=setTimeout(()=>{t&&r(""),i!==k&&a(k)},150)),()=>{e&&clearTimeout(e)}},[R,k]),(0,i.useEffect)(()=>{let e,{inputValue:t,setInputValue:r}=$;return R||(e=setTimeout(()=>{t&&r("")},150)),()=>{e&&clearTimeout(e)}},[R]);let q=(0,r.jsx)(eN,{activeSection:C,closeSwitcher:F,commandProps:E,onShowCreateTeam:()=>{l()},primary:!O&&"team"===o,setActiveSection:N,team:f}),K=(0,i.useMemo)(()=>{let{filterList:e,list:t}=E,r=e||t.current,{selectedIndex:a}=E;return r[a]?.value||[]},[E])[1],B=(0,r.jsx)(eL,{activeSection:C,closeSwitcher:F,commandProps:$,primary:"project"===o,selectedScope:O?P:K,setActiveSection:N});return(0,i.useEffect)(()=>{R&&setTimeout(()=>{let e="team"===o?L.TEAMS:L.PROJECTS,t=document.querySelector(`[itemId=${e}]`);null!==t&&t instanceof HTMLInputElement&&t.focus()},200)},[R,o]),(0,r.jsxs)(a.Root,{...h,onOpenChange:e=>void(0,x.awaitPaint)().then(()=>M(e)),open:R,children:[(0,r.jsxs)(a.Anchor,{style:{display:"flex",alignItems:"center",width:"100%"},children:[s,d||!D?(0,r.jsx)(a.Trigger,{asChild:!0,children:(0,r.jsx)(u.Button,{"aria-label":"Switch team",className:X.default.trigger,"data-testid":(0,p.tid)("scope-switcher","toggle"),style:{marginLeft:2,flexShrink:0,width:28,padding:0,backgroundColor:R?"var(--ds-gray-alpha-200)":void 0},type:"tertiary",typeName:"button",children:(0,r.jsx)(c.ChevronUpDown,{color:"gray-900"})})}):null]}),O?(0,r.jsx)(m.Drawer,{fixed:!0,height:"80vh",onDismiss:F,show:R,children:(0,r.jsx)("div",{style:{position:"relative"},children:"team"===o?(0,r.jsx)("div",{children:q},"teams"):(0,r.jsx)("div",{children:B},"projects")})}):(0,r.jsxs)(a.Content,{align:"start",alignOffset:"team"===o?-16:-255,className:X.default.content,onKeyDown:e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;let t=$.inputRef.current,r=E.inputRef.current;t?.selectionStart!=null&&e.target===t&&(t.selectionStart>0||t.selectionStart!==t.selectionEnd)||(r?.selectionStart==null||e.target!==r||!(r.selectionStart<r.value.length)&&r.selectionStart===r.selectionEnd)&&("ArrowRight"===e.key&&t&&document.activeElement!==t?(cancelAnimationFrame(G.current),t.focus(),G.current=requestAnimationFrame(()=>{t.select()})):"ArrowLeft"===e.key&&r&&document.activeElement!==r&&(cancelAnimationFrame(W.current),r.focus(),W.current=requestAnimationFrame(()=>{r.select()})))},onOpenAutoFocus:e=>e.preventDefault(),side:t,sideOffset:8,style:{display:"flex",position:"relative"},children:[q,B]})]})},"ScopeLink",0,function(e){let{team:t,hideTextOnMobile:a}=e,l=(0,I.useIsViewingPublicDeployment)(),{user:o,isNorthstar:c}=(0,j.useUser)(),{name:u,avatar:m}=t||o||{},{slug:p}=t||{},{username:h}=o||{},f=u||p||h,x=(0,n.useSearchParams)(),g=x?.get("teamSlug")||"",v=(0,i.useMemo)(()=>(function(e){let{externalPublicDeployment:t,teamSlug:r,team:a,username:i}=e;return t?`${(0,T.getQueryParam)(r)||""}`:a?void 0:i})({externalPublicDeployment:l,teamSlug:g,team:t,username:h}),[l,g,t,h]),y=!!(!t&&c),_=(0,i.useMemo)(()=>(0,N.getNorthstarDashboardHref)({user:o,teamSlug:p}),[p,o]);return(0,r.jsx)(w.Link,{className:(0,s.clsx)(X.default.scopeLink,{[X.default.disabled]:l}),href:_,children:(0,r.jsxs)("div",{className:"flex flex-row items-center justify-start flex-initial",children:[(0,r.jsx)(d.Avatar,{className:X.default.avatar,hash:l?void 0:m,size:22,teamId:t?.id,title:l?g:f,username:v}),(0,r.jsx)("p",{className:`text-[14px] leading-[20px] font-medium ${(0,s.clsx)(X.default.scopeName,"geist-ellipsis",{[X.default.hideOnMobile]:a})}`,children:l?g:f}),!l&&!y&&(0,r.jsx)("div",{className:"geist-hide-on-tablet",children:(0,r.jsx)(k.ScopeBadge,{fallbackToPlan:!0,team:t||void 0})})]})})}],3220378)},6388671,e=>{e.n(e.i(3220378))}]);

//# debugId=3d343f90-c22c-5475-df9e-97152cf8e41b
//# sourceMappingURL=04b33dad1a0d61ff.js.map