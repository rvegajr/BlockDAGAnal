;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="1595f4e0-31a5-8d95-5632-be34e4d91de8")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1397269,e=>{"use strict";var s=e.i(847684),t=e.i(57106),a=e.i(8238875),i=e.i(3306538),l=e.i(4597921),r=e.i(8639841);function n(e){let{active:a,title:i,href:l,external:r,onClick:n}=e;return(0,s.jsx)(t.Link,{className:"w-full select-none rounded px-3 py-2 text-left no-underline *:w-full md:hover:bg-gray-100 aria-[current=true]:bg-gray-200 aria-[current=true]:hover:bg-gray-200 text-gray-900 aria-[current=true]:text-gray-1000",href:l,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,onClick:n,"aria-current":a,children:(0,s.jsx)("p",{className:"font-medium",children:i})})}function d(e){let{teamSlug:t}=e,d=(0,r.useAgentDebug)(),c=(0,l.useServerFlag)("enable-vercel-agent-code",!1),o=(0,l.useServerFlag)("vade-manual-code-reviews",!1),u=d.overrides?.enableVercelAgentCode??c,x=d.overrides?.hasManualReviewsEnabled??o,m=(0,a.usePathname)(),p=x?[{title:"Tasks",href:`/${t}/~/agent/tasks`},{title:"Usage",href:`/${t}/~/agent/usage`},...u?[{title:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:["Threads",(0,s.jsx)(i.Badge,{size:"sm",children:"Internal"})]}),href:`/${t}/~/agent/threads`}]:[]]:[{title:"Overview",href:`/${t}/~/agent`},{title:"Tasks",href:`/${t}/~/agent/tasks`},...u?[{title:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:["Threads",(0,s.jsx)(i.Badge,{size:"sm",children:"Internal"})]}),href:`/${t}/~/agent/threads`}]:[]];return(0,s.jsx)("div",{className:"sticky top-16 hidden h-max w-full max-w-[240px] flex-col items-start justify-start md:flex",children:p.map(e=>{let{title:a,href:i,external:l}=e,r=i===m||i!==`/${t}/~/agent`&&(m?.startsWith(`${i}/`)??!1);return(0,s.jsx)(n,{title:a,href:i,external:l,active:!!r},i)})})}var c=e.i(2504781),o=e.i(1492947),u=e.i(7564085),x=e.i(7185353);function m(e){let{teamSlug:t}=e,i=(0,r.useAgentDebug)(),[d,m]=(0,x.useState)(!1),p=(0,a.usePathname)(),h=(0,l.useServerFlag)("enable-vercel-agent-code",!1),g=(0,l.useServerFlag)("vade-manual-code-reviews",!1),j=i.overrides?.enableVercelAgentCode??h,y=i.overrides?.hasManualReviewsEnabled??g?[{title:"Tasks",href:`/${t}/~/agent/tasks`},{title:"Usage",href:`/${t}/~/agent/usage`},...j?[{title:"Threads",href:`/${t}/~/agent/threads`}]:[]]:[{title:"Overview",href:`/${t}/~/agent`},{title:"Tasks",href:`/${t}/~/agent/tasks`},...j?[{title:"Threads",href:`/${t}/~/agent/threads`}]:[]];return(0,s.jsxs)("div",{className:"block md:hidden",children:[(0,s.jsx)(c.Button,{onClick:()=>m(!0),type:"secondary",shape:"square",children:(0,s.jsx)(u.AlignmentLeft,{size:16})}),(0,s.jsx)(o.Drawer,{onDismiss:()=>m(!1),show:d,children:(0,s.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-0 flex-initial p-2",children:y.map(e=>{let{title:a,href:i,external:l}=e,r=i===p||i!==`/${t}/~/agent`&&(p?.startsWith(`${i}/`)??!1);return(0,s.jsx)(n,{title:a,href:i,active:!!r,external:l,onClick:()=>m(!1)},i)})})})]})}var p=e.i(7608222),h=e.i(9722978),g=e.i(5468328),j=e.i(87116),y=e.i(5255926),f=e.i(8674454),b=e.i(6694387),v=e.i(4991687),N=e.i(8459493),C=e.i(6347389),w=e.i(8863362),E=e.i(3282299),A=e.i(1717203),T=e.i(7557283);function k(e){let{isFirstTimeUser:t=!1}=e,{can:i}=(0,A.default)(),l=i(T.Action.Update,T.Resource.PaymentMethod),r=i(T.Action.Update,T.Resource.Team),{balance:n}=(0,j.useVercelAgentCreditsBalance)(),{openModal:d,modals:o}=(0,w.useAddCreditsModal)(),{openModal:u,modal:m}=(0,E.useAIReviewsConfigureModal)(),h=(0,a.useParams)(),k=h?.teamSlug,M=(0,x.useCallback)(e=>{if(void 0===e)return"";let s=Math.max(0,e);return s<100?s.toFixed(2):s<1e3?s.toFixed(0):`${(s/1e3).toFixed(0)}k`},[]);return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Tooltip,{position:"bottom",disableTriggers:r,boxAlign:"center",text:`You need additional permissions to enable ${p.VERCEL_AGENT_NAME}.`,children:(0,s.jsx)(c.Button,{type:"default",disabled:!r,onClick:()=>u({isFirstTimeUser:!0,source:"header-redeem-credit"}),children:"Redeem $100 Free Credit"})}),m]}):(0,s.jsxs)(s.Fragment,{children:[void 0!==n?(0,s.jsxs)(v.MenuContainer,{children:[(0,s.jsx)(g.Tooltip,{position:"bottom",disableTriggers:l,boxAlign:"center",text:`You need additional permissions to manage your team's ${p.VERCEL_AGENT_NAME} credit.`,children:(0,s.jsxs)(b.MenuButton,{type:"secondary",prefix:(0,s.jsx)(C.Coins,{}),children:["$",M(n)," Credit"]})}),(0,s.jsxs)(f.Menu,{width:"180px",children:[(0,s.jsx)(N.MenuItem,{href:`/${k}/~/settings#${p.VERCEL_AGENT_NAME.toLowerCase().replaceAll(" ","-")}`,isLink:!0,children:"Settings"}),(0,s.jsx)(N.MenuItem,{disabled:!l,onClick:()=>d("credits-button"),children:"Add credit…"})]})]}):(0,s.jsx)(y.Skeleton,{children:(0,s.jsx)(c.Button,{type:"secondary",prefix:(0,s.jsx)(C.Coins,{}),children:"Loading credit"})}),o]})}var M=e.i(6891161),R=e.i(455575),F=e.i(8522580),S=e.i(5338940),D=e.i(8761240),P=e.i(1781243),L=e.i(8248823),$=e.i(1249298),_=e.i(2418348),V=e.i(3738416),U=e.i(1174741),I=e.i(8119470),O=e.i(5481907),B=e.i(28552),z=e.i(7909933),G=e.i(3769024);function H(e){let{onClose:t}=e,{team:a,mutate:i}=(0,S.useTeam)(),{can:l}=(0,A.default)(),r=(0,R.useToasts)(),{trigger:n,isMutating:d}=(0,$.useUpdateAIReviews)({source:"disable-modal"}),{data:o}=(0,B.useObservabilityConfiguration)(),u=(0,G.hasObservabilityPlusAccess)(o?.observabilityPlus,null),{data:m}=(0,O.useSonarQuery)({event:"prReview",rollups:{value:{measure:"reviewComments",aggregation:"sum"}},reason:"agent",summaryOnly:!0,startTime:(0,V.startOfDay)((0,I.subDays)(new Date,30)),endTime:(0,U.endOfDay)(new Date)},{noEnvironmentFilter:!0}),h=(0,V.startOfDay)((0,I.subDays)(new Date,30)),g=(0,U.endOfDay)(new Date),{data:j}=(0,z.default)(a?.id?`/vercel-agent/api/activity?teamId=${a.id}&startTime=${h.toISOString()}&endTime=${g.toISOString()}`:null,async e=>{let s=await fetch(e);return s.ok?s.json():null},{revalidateIfStale:!1,refreshInterval:0}),y=l(T.Action.Update,T.Resource.Team),[f,b]=(0,x.useState)(null);async function v(){if(a){b(null);try{let e={enabled:!1,snoozedAt:new Date().toISOString()};await n(e);let s=[];s.push(i().catch(()=>{})),a.slug&&s.push((0,_.revalidateVercelAgentPage)(a.slug)),await Promise.all(s),r.success(`${p.VERCEL_AGENT_NAME} has been disabled.`),t()}catch(e){b((0,L.errorToString)(e))}}}let N=m?.summary.at(0),C=void 0!==N&&null!==N.value&&N.value>0,w=j?.activities?.length??0,E=u&&w>0;return(0,s.jsxs)(M.Modal.Modal,{active:!0,onClickOutside:t,children:[(0,s.jsxs)(M.Modal.Body,{children:[(0,s.jsx)(M.Modal.Header,{children:(0,s.jsxs)(M.Modal.Title,{children:["Disable ",p.VERCEL_AGENT_NAME]})}),(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsx)("p",{className:"text-copy-14",children:"Disabling means:"}),(0,s.jsxs)("div",{className:"pl-0.5 space-y-3 max-w-[400px]",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(P.CrossCircleFill,{className:"translate-y-0.5",size:14,color:"gray-900"}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Pull requests"})," ","won't be"," ",(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"reviewed automatically"})]})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(P.CrossCircleFill,{className:"translate-y-0.5",size:14,color:"gray-900"}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed text-pretty",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Code suggestions"})," ","won't be validated in"," ",(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"sandboxes"})]})]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(P.CrossCircleFill,{className:"translate-y-0.5",size:14,color:"gray-900"}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed text-pretty",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Production issues"})," ","won't get"," ",(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"root-cause analysis"})]})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(P.CrossCircleFill,{className:"translate-y-0.5",size:14,color:"gray-900"}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Incidents"})," ","won't include"," ",(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"actionable remediation steps"})]})]})]})]}),(0,s.jsx)("p",{className:"text-copy-14",children:"You can re-enable at any time."}),C&&(0,s.jsxs)(F.Note,{type:"success",fill:!0,icon:(0,s.jsx)(D.CheckCircleFill,{}),children:[N.value?.toLocaleString()," improvements suggested in the last ",30," days."]}),E&&(0,s.jsxs)(F.Note,{type:"success",fill:!0,icon:(0,s.jsx)(D.CheckCircleFill,{}),children:[w.toLocaleString()," investigations performed in the last ",30," days."]}),f&&(0,s.jsx)("div",{className:"p-3 bg-red-100 rounded-md",children:(0,s.jsx)("p",{children:f})})]})]}),(0,s.jsxs)(M.Modal.Actions,{children:[(0,s.jsx)(c.Button,{type:"secondary",onClick:t,children:"Cancel"}),(0,s.jsx)(c.Button,{onClick:v,loading:d,disabled:!y,type:"error",children:"Disable"})]})]})}var q=e.i(5756088),Y=e.i(8876434),K=e.i(9505054),Q=e.i(1794286),W=e.i(7432042),J=e.i(1192207),X=e.i(8615881),Z=e.i(8151845);function ee(){let[e,t]=(0,Z.useSonarQueryState)(),{start:a,end:i}=(0,Z.useRangeFromQueryState)(),l=Object.entries({"1h":{text:"Last hour",start:(0,J.subHours)(new Date,1),end:new Date},"12h":{text:"Last 12 hours",start:(0,J.subHours)(new Date,12),end:new Date},"1d":{text:"Last 24 hours",start:(0,I.subDays)(new Date,1),end:new Date},"7d":{text:"Last 7 days",start:(0,X.subWeeks)(new Date,1),end:new Date}}).map(e=>{let[s,t]=e;return{key:s,...t}}),r=[{presets:l}],n=e.period?l.find(s=>s.key===e.period)?.key:void 0,d=(0,I.subDays)(new Date,90),c=(0,U.endOfDay)(new Date);return(0,s.jsx)(Q.Calendar,{allowClear:!1,compact:!0,minValue:d,maxValue:c,onChange:(e,s)=>{let a=new Date(e.start),i=new Date(e.end);s?((0,K.track)("Agent Changed Date Range Period",{period:s}),t({period:s})):((0,K.track)("Agent Changed Date Range Period",{period:(0,W.default)(i.getTime()-a.getTime())}),t({from:a,to:i}))},popoverAlignment:"center",presetKey:n,presets:r,value:{start:a,end:i},width:"190px"},"date-range-select-agent")}var es=e.i(3089600);e.i(6483798);var et=e.i(8287059),ea=e.i(7917902),ei=e.i(6468432);let el=e=>{let{isAgentEnabled:t,isFirstTimeUser:i,isEligibleForTrialCredits:l,isHobbyPlan:r,isProTrial:n,source:d="settings-card"}=e,{openModal:c,modal:o}=(0,E.useAIReviewsConfigureModal)(),{openModal:u,modal:m}=function(){let[e,t]=(0,x.useState)(!1),a=(0,x.useCallback)(()=>{t(!0)},[]),i=(0,x.useCallback)(()=>{t(!1)},[]);return{openModal:a,modal:e?(0,s.jsx)(H,{onClose:i}):null}}(),{openModal:p,modals:h}=(0,w.useAddCreditsModal)(),g=(0,a.usePathname)(),j=(0,a.useParams)(),y=j?.teamSlug,f=g===`/${y}/~/agent`,{team:b}=(0,S.useTeam)();return(0,es.default)("enable",(e,s)=>{"1"!==e||t||r||n||c({isFirstTimeUser:i,source:s.source??"query-enable"})},["source"]),(0,s.jsxs)("div",{children:[t?(0,s.jsxs)("div",{className:"flex flex-row gap-2 flex-wrap md:flex-nowrap",children:[f&&(0,s.jsx)("div",{className:"w-fit",children:(0,s.jsx)(ee,{})}),!(0,ei.isFlexibleCommitment)(b)&&(0,s.jsx)(k,{}),(0,s.jsx)(en,{openDisableModal:u,openBuyCreditsModal:()=>p(d)})]}):(0,s.jsx)(er,{isFirstTimeUser:i,isEligibleForTrialCredits:l,onConfigure:e=>{c(e)},isHobbyPlan:r,isProTrial:n,source:d}),o,m,h]})},er=e=>{let{isFirstTimeUser:t,isEligibleForTrialCredits:a,onConfigure:i,isHobbyPlan:l,isProTrial:r,source:n}=e,{can:d}=(0,A.default)(),o=d(T.Action.Update,T.Resource.Team),{team:u}=(0,ea.useAccount)(),x=(0,et.useOpenUpgradeModal)();return r?(0,s.jsx)(c.Button,{type:"default",onClick:()=>{x({teamHint:u?.id,source:"vercel-agent-pro-trial",disabledSteps:["team-members"],onConversionSuccess:()=>{i({isFirstTimeUser:t,source:"vercel-agent-pro-trial-modal"})}})},children:"Upgrade to Pro"}):t?l?null:(0,s.jsx)(c.Button,{type:"default",onClick:()=>i({isFirstTimeUser:t,source:n}),disabled:!o,children:a?"Enable with $100 Free Credit":"Enable"}):(0,s.jsx)(c.Button,{type:"default",onClick:()=>i({isFirstTimeUser:t,source:n}),disabled:!o,children:"Enable"})},en=e=>{let{openDisableModal:t,openBuyCreditsModal:i}=e,{can:l}=(0,A.default)(),r=l(T.Action.Update,T.Resource.Team),n=(0,a.useParams)(),d=n?.teamSlug,{team:c}=(0,S.useTeam)(),o=!(0,ei.isFlexibleCommitment)(c),u=o?`/${d}/~/settings#${p.VERCEL_AGENT_NAME.toLowerCase().replaceAll(" ","-")}`:`/${d}/~/settings/agent`;return(0,s.jsxs)(v.MenuContainer,{children:[(0,s.jsx)(b.MenuButton,{"aria-label":"Menu",shape:"square",svgOnly:!0,type:"secondary",children:(0,s.jsx)(Y.MoreHorizontal,{})}),(0,s.jsxs)(f.Menu,{width:"208px",children:[o&&(0,s.jsx)(N.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",disabled:!r,suffix:r?null:(0,s.jsx)(q.LockClosed,{}),onClick:i,children:r?"Buy credit…":(0,s.jsx)(g.Tooltip,{text:"You need additional permissions to buy credit.",children:"Buy credit…"})}),(0,s.jsx)(N.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",href:u,isLink:!0,children:"Settings"}),(0,s.jsx)(N.MenuItem,{innerMenuItemClassName:"!pointer-events-auto no-underline",disabled:!r,suffix:r?null:(0,s.jsx)(q.LockClosed,{}),onClick:t,children:r?`Disable ${p.VERCEL_AGENT_NAME}…`:(0,s.jsxs)(g.Tooltip,{text:`You need additional permissions to disable ${p.VERCEL_AGENT_NAME}.`,children:["Disable ",p.VERCEL_AGENT_NAME,"…"]})})]})]})};var ed=e.i(9668517),ec=e.i(5140444),eo=e.i(6317369),eu=e.i(8852425),ex=e.i(1933683),em=(e.i(6318858),e.i(4148413),e.i(3534033)),ep=e.i(7837522),eh=e.i(7780974),eg=e.i(4844919),ej=e.i(794055);let ey=e=>{let{isFirstTimeUser:t,isProTrial:a}=e,l=(0,r.useAgentDebug)(),{team:n}=(0,S.useTeam)(),d=n?.billing?.plan||"pro",{can:c}=(0,A.default)(),o=c(T.Action.Update,T.Resource.Team),{track:u,isReady:m}=(0,ep.useTrackActivity)(),h=(0,x.useRef)(!1),{data:g}=(0,B.useObservabilityConfiguration)(),j=t&&!(0,ei.isFlexibleCommitment)(n),y=l.overrides?.hasObservabilityPlus??(0,G.hasObservabilityPlusAccess)(g?.observabilityPlus,null);return(0,x.useEffect)(()=>{!h.current&&m&&(h.current=!0,u(eh.VercelActivityAction.VercelAgentUpsellImpression,{type:a?"pro-trial-upsell":"feature-upsell",isFirstTimeUser:t}))},[u,m,a,t]),(0,s.jsxs)("div",{className:"material-modal rounded-[16px] w-full md:w-[min(55vw,480px)] relative overflow-clip",children:[(0,s.jsx)(ej.NorthernLights,{className:"hidden md:block",colors:["var(--ds-blue-700)","var(--ds-blue-700)","var(--ds-green-700)","var(--ds-green-700)","var(--ds-green-700)"]}),(0,s.jsxs)("div",{className:"space-y-8 px-8 pt-10 pb-6 relative",children:[(0,s.jsxs)("h2",{className:"text-heading-24",children:["Ship faster & safer with ",p.VERCEL_AGENT_NAME]}),(0,s.jsxs)("div",{className:"pl-0.5 space-y-3 max-w-[400px]",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,s.jsx)(D.CheckCircleFill,{className:"translate-y-0.5",size:14}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Code reviews"})," ","with full codebase context to catch"," ",(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"hard-to-find bugs"}),"."]})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(D.CheckCircleFill,{className:"translate-y-0.5",size:14}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed text-pretty",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Code suggestions"})," ","validated in sandboxes before you merge."]})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(D.CheckCircleFill,{className:"translate-y-0.5",size:14}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed text-pretty",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Root-cause analysis"})," ","for production issues with deployment context.",!y&&(0,s.jsxs)(s.Fragment,{children:[" ","Requires"," ",(0,s.jsx)(i.Badge,{variant:"blue-subtle",size:"sm",children:"Observability Plus"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)(D.CheckCircleFill,{className:"translate-y-0.5",size:14}),(0,s.jsxs)("p",{className:"text-copy-14 text-gray-900 leading-relaxed",children:[(0,s.jsx)("span",{className:"text-gray-1000 font-medium",children:"Actionable remediation steps"})," ","for faster incident resolution.",!y&&(0,s.jsxs)(s.Fragment,{children:[" ","Requires"," ",(0,s.jsx)(i.Badge,{variant:"blue-subtle",size:"sm",children:"Observability Plus"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"pt-0 pb-5 px-8 space-y-3",children:[j&&(0,s.jsx)("div",{children:(0,s.jsxs)(F.Note,{type:"success",fill:!0,className:"text-pretty",icon:(0,s.jsx)(C.Coins,{}),children:[(0,eg.default)(d)," teams get $100 in ",p.VERCEL_AGENT_NAME," trial credit for 2 weeks."]})}),a&&(0,s.jsx)("div",{children:(0,s.jsxs)(F.Note,{type:"success",fill:!0,className:"text-pretty",icon:(0,s.jsx)(C.Coins,{}),children:["Upgrade to Pro to enable ",p.VERCEL_AGENT_NAME," & claim your $100 credit."]})}),o&&(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-gray-900 text-copy-14",children:["Your use is subject to Vercel's"," ",(0,s.jsx)(em.ExternalLink,{href:"https://vercel.com/docs/release-phases/public-beta-agreement",children:"Public Beta Agreement"})," ","and"," ",(0,s.jsx)(em.ExternalLink,{href:"https://vercel.com/legal/ai-product-terms",children:"AI Product Terms"}),"."]})})]}),(0,s.jsxs)("div",{className:"border-t bg-background-200 py-3 px-8 rounded-b-[16px] flex justify-between items-center",children:[!o&&(0,s.jsxs)("p",{className:"text-gray-900",children:["You need additional permissions to enable ",p.VERCEL_AGENT_NAME,"."]}),o&&(0,s.jsx)("div",{className:"flex justify-between w-full items-center",children:(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(el,{isFirstTimeUser:t,isEligibleForTrialCredits:j,isAgentEnabled:!1,isHobbyPlan:!1,isProTrial:a,source:"feature-enable-modal"})})})]})]})},ef=e=>{let{username:t}=e;return(0,s.jsxs)("div",{className:"hidden lg:block",role:"img","aria-label":`A GitHub pull request with a suggestion made by ${p.VERCEL_AGENT_NAME}. The suggestion highlights a security vulnerability & proposes a fix.`,children:[(0,s.jsxs)("section",{className:"shadow-sm rounded-lg px-4 py-3 pb-6 space-y-0.5 mx-4 text-copy-14","aria-hidden":!0,children:[(0,s.jsxs)("p",{className:"text-heading-16 font-medium",children:["feat: Adding chat generation"," ",(0,s.jsx)("span",{className:"text-gray-900 pl-1 font-normal",children:"#53417"})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsxs)("div",{className:"text-green-100 bg-green-700 rounded-full px-2 py-0.5 w-fit flex items-center gap-0.5",children:[(0,s.jsx)(eo.GitPullRequest,{width:12,height:12}),(0,s.jsx)("p",{className:"font-medium text-copy-13",children:"Open"})]}),(0,s.jsxs)("p",{className:"text-gray-900 -translate-y-0.5 text-copy-13",children:[(0,s.jsx)("span",{className:"font-medium",children:t})," wants to merge 2 commits into"," ",(0,s.jsx)("span",{className:"font-mono bg-blue-100 text-blue-900 rounded-sm px-1",children:"main"})," ","from"," ",(0,s.jsxs)("span",{className:"font-mono bg-blue-100 text-blue-900 rounded-sm px-1",children:[t,"/feature"]})]})]})]}),(0,s.jsxs)("section",{className:"shadow-sm rounded-lg px-4 py-4 bg-background-100 -translate-y-4 flex gap-2","aria-hidden":!0,children:[(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"bg-gray-1000 text-gray-100 w-fit rounded-sm aspect-square flex items-center justify-center size-7",children:(0,s.jsx)(eu.LogoVercel,{className:"-translate-y-px",width:14,height:14})})}),(0,s.jsxs)("div",{className:"space-y-3 pt-1",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"flex items-center gap-1 text-gray-900 text-copy-13",children:[(0,s.jsx)("span",{className:"bg-gray-100 text-gray-900 rounded-full p-0.5 aspect-square flex items-center justify-center",children:(0,s.jsx)(ex.Eye,{width:12,height:12})}),(0,s.jsx)("span",{className:"font-medium",children:"Vercel"}),(0,s.jsx)("span",{className:"rounded-full shadow-border px-1.5 text-xs font-semibold py-0.5 translate-y-px text-gray-700",children:"bot"}),"reviewed",(0,s.jsx)("span",{className:"underline underline-offset-2",children:"2 minutes ago"})]})}),(0,s.jsxs)("div",{className:"shadow-border rounded-md text-copy-13-mono",children:[(0,s.jsx)("div",{className:"bg-background-200 rounded-t-md px-3 border-b border-b-gray-400 py-1",children:(0,s.jsx)("p",{className:"font-mono opacity-80",children:"api/chat/route.ts"})}),(0,s.jsxs)("div",{className:"font-mono grid grid-cols-[40px_1fr] leading-5",children:[(0,s.jsxs)("div",{className:"text-right pr-2 bg-green-300 text-gray-1000 py-0.5 opacity-70 rounded-bl-md",children:[(0,s.jsx)("p",{children:"27"}),(0,s.jsx)("p",{children:"28"}),(0,s.jsx)("p",{children:"29"}),(0,s.jsx)("p",{children:"30"}),(0,s.jsx)("p",{children:"31"})]}),(0,s.jsx)("div",{className:"py-0.5 bg-green-200 pl-2 whitespace-pre rounded-br-md",children:(0,s.jsx)("pre",{className:"m-0 p-0 bg-transparent border-0",style:{fontVariantLigatures:"none",fontFeatureSettings:'"liga" 0, "calt" 0'},children:`if (userId !== req.user.id) {
  return NextResponse.json(
    { error: 'Unauthorized' }, { status: 401 }
  );
}`})})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"bg-gray-1000 text-gray-100 w-fit rounded-[3px] flex items-center justify-center size-4.5 aspect-square",children:(0,s.jsx)(eu.LogoVercel,{width:7,height:7})}),(0,s.jsxs)("p",{className:"flex items-center gap-1 text-gray-900 text-copy-13",children:[(0,s.jsx)("span",{className:"font-medium",children:"Vercel"}),(0,s.jsx)("span",{className:"rounded-full shadow-border px-1.5 text-xs font-semibold py-0.5 translate-y-px text-gray-700",children:"bot"}),(0,s.jsx)("span",{className:"underline underline-offset-2",children:"2 minutes ago"})]})]}),(0,s.jsx)("p",{className:"text-copy-13 pl-[22px]",children:"Missing authorization check allows user impersonation. Add a user ID validation before processing requests."}),(0,s.jsx)("div",{className:"pl-[22px] text-copy-13 text-gray-900",children:(0,s.jsxs)("p",{children:["► ",(0,s.jsx)("span",{className:"font-medium",children:"View Details"})]})}),!1]})})]})]})]})},eb=e=>{let{openConfigureModal:t}=e,i=(0,et.useOpenUpgradeModal)(),l=(0,a.useSearchParams)(),r=(0,ed.useTeamSlug)(),n=(0,ec.useUser)(),{track:d,isReady:o}=(0,ep.useTrackActivity)(),u=(0,x.useRef)(!1),m=l?.get("source"),h=(0,x.useCallback)(e=>`${e}${m?`.${m}`:""}`,[m]);return(0,x.useEffect)(()=>{!u.current&&o&&(u.current=!0,d(eh.VercelActivityAction.VercelAgentUpsellImpression,{type:"hobby-upsell"}))},[d,o]),(0,s.jsxs)("div",{className:"material-modal rounded-[16px] w-full md:w-[min(60vw,600px)]",children:[(0,s.jsxs)("div",{className:"space-y-3 p-8 py-6",children:[(0,s.jsxs)("h2",{className:"text-heading-24",children:["Ship faster and safer with ",(0,s.jsx)("span",{className:"rounded-full text-heading-20 bg-blue-300 text-blue-700 px-2 py-[0.1rem] align-baseline -translate-y-0.5 ml-0.5",children:"Pro"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-copy-16 text-pretty",children:["Get your pull requests automatically reviewed by ",p.VERCEL_AGENT_NAME,"."]}),(0,s.jsx)(ef,{username:n.data?.user?.username||n.data?.user?.name||"evilrabbit"}),(0,s.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:p.VERCEL_AGENT_FEATURES.map(e=>(0,s.jsxs)("li",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-2 flex-wrap",children:[(0,s.jsx)("div",{className:"text-gray-900 translate-y-0.5",children:(0,s.jsx)(e.Icon,{})}),(0,s.jsx)("h3",{className:"text-heading-16 font-medium",children:e.title})]}),(0,s.jsx)("p",{className:"text-copy-14 text-gray-900 text-pretty",children:e.description})]},e.title))}),(0,s.jsxs)(F.Note,{type:"success",fill:!0,className:"text-pretty",icon:(0,s.jsx)(C.Coins,{}),children:["Pro teams get $100 in ",p.VERCEL_AGENT_NAME," trial credit for 2 weeks."]})]})]}),(0,s.jsx)("div",{className:"border-t bg-background-200 py-3 px-8 rounded-b-[16px] flex justify-end",children:(0,s.jsx)(c.Button,{onClick:()=>{i({source:h("vercel-agent"),disabledSteps:["team-members"],teamHint:r??void 0,onConversionSuccess:()=>{t({isFirstTimeUser:!0,source:h("hobby-upsell-modal")})}})},children:"Upgrade to Pro"})})]})};var ev=e.i(60582);function eN(e){let{isVercelAgentEnabled:t,isHobbyPlan:a,isFirstTimeUser:i,isProTrial:l,hasManualReviewsEnabled:r}=e,{openModal:n,modal:d}=(0,E.useAIReviewsConfigureModal)();return(0,s.jsxs)(s.Fragment,{children:[!t&&a&&(0,s.jsx)("div",{className:(0,h.clsx)("absolute inset-0 -inset-x-4 z-50 flex justify-center h-fit",{"-translate-y-32":!ev.IS_DASH}),children:(0,s.jsx)(eb,{openConfigureModal:n})}),!t&&!a&&!r&&(0,s.jsx)("div",{className:(0,h.clsx)("absolute inset-0 -inset-x-4 z-50 flex h-fit justify-center",{"-translate-y-12":!ev.IS_DASH}),children:(0,s.jsx)(ey,{isFirstTimeUser:i,isProTrial:l})}),d]})}function eC(e){let s=(0,r.useAgentDebug)(),t=s.overrides?.isAgentEnabled??e.codeReviewEnabled,a=s.overrides?.isFirstTimeUser??e.isFirstTimeUser,i=s.overrides?.isEligibleForTrialCredits??e.isEligibleForTrialCredits,l=s.overrides?.isHobbyPlan??e.isHobbyPlan,n=s.overrides?.isProTrial??e.isProTrial,d=s.overrides?.hasManualReviewsEnabled??e.hasManualReviewsEnabled;return{isVercelAgentEnabled:t,isFirstTimeUser:a,isEligibleForTrialCredits:i,isHobbyPlan:l,isProTrial:n,hasManualReviewsEnabled:d,showGettingStarted:d&&!t&&!l,showBlockingUpsell:!t&&!d}}e.s(["AgentLayoutBodyClient",0,function(e){let{children:t,teamSlug:a,enablement:i,isDash:l}=e,{isVercelAgentEnabled:r,isFirstTimeUser:n,isHobbyPlan:c,isProTrial:o,hasManualReviewsEnabled:u,showGettingStarted:x,showBlockingUpsell:m}=eC(i);return(0,s.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-8 flex-initial",children:(0,s.jsxs)("div",{className:(0,h.default)("relative flex w-full flex-col gap-12 pb-10 md:flex-row isolate pt-2",{"-mx-3":u&&!l,"lg:mb-36":m,"lg:pr-4":!l}),children:[u&&!l&&(0,s.jsx)(d,{teamSlug:a}),(0,s.jsx)("div",{inert:!!c&&!x||void 0,className:(0,h.default)("w-full",{"max-h-[70vh] overflow-clip":m}),children:t}),m&&(0,s.jsx)("div",{className:(0,h.default)("absolute inset-y-0 -inset-x-5 z-10 bg-gradient-to-b from-transparent to-[50%] to-background-200",{"from-background-200/40":c})}),(0,s.jsx)(eN,{isVercelAgentEnabled:r,isHobbyPlan:c,isFirstTimeUser:n,isProTrial:o,hasManualReviewsEnabled:u})]})})},"AgentLayoutTitleClient",0,function(e){let{teamSlug:t,enablement:a,isDash:i}=e,{isVercelAgentEnabled:l,isFirstTimeUser:r,isEligibleForTrialCredits:n,isHobbyPlan:d,isProTrial:c,hasManualReviewsEnabled:o,showGettingStarted:u}=eC(a);return(0,s.jsxs)("div",{className:"grid-cols-[1fr_min-content] items-center gap-4 md:grid md:pr-4",children:[(0,s.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-[32px] leading-[40px] tracking-[-0.79px] font-medium",children:p.VERCEL_AGENT_NAME}),o&&!i&&(0,s.jsx)(m,{teamSlug:t})]})}),(l||d||u)&&(0,s.jsxs)("nav",{className:"mt-4 flex flex-row gap-2.5 md:mt-0",children:[u&&(0,s.jsx)(k,{isFirstTimeUser:r}),!(u&&r)&&(0,s.jsx)(el,{isAgentEnabled:l,isFirstTimeUser:r,isEligibleForTrialCredits:n,isHobbyPlan:d,isProTrial:c,source:"header-button"})]})]})}],1397269)}]);

//# debugId=1595f4e0-31a5-8d95-5632-be34e4d91de8
//# sourceMappingURL=3dead458fc31444e.js.map