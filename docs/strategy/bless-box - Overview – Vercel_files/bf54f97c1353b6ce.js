;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b40d5ff2-f5fc-ef15-058e-811084d17810")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2645806,e=>{"use strict";var t=e.i(847684),l=e.i(7185353),i=e.i(2111701),a=e.i(6891161),s=e.i(455575),n=e.i(277234),r=e.i(4244280),o=e.i(4470704);let c=l.default.memo(e=>{let{active:c,onClose:d,deployment:u,teamId:m}=e,[h,p]=(0,l.useState)(!1),x=(0,s.useToasts)(),y=(0,l.useCallback)(async()=>{if(!u)return;p(!0);let e=m?"?teamId="+m:"",t=await (0,n.fetchAPI)(`${(0,r.API_DEPLOYMENTS)("v12")}/${u.id}/cancel`+e,{throwOnHTTPError:!1,method:"PATCH"});t.error&&x.error(`Could not cancel the deployment, it's ${u.readyState}`),"CANCELED"===t.readyState&&(x.success("The deployment has been successfully canceled."),(0,i.mutate)((0,o.getUrl)(u.id),{...u,readyState:t.readyState,status:t.readyState,canceledAt:t.canceledAt,host:u.url,isPrivate:!u.public})),p(!1),d()},[u,m,x,d]);return(0,t.jsxs)(a.Modal.Modal,{active:c,onClickOutside:d,width:"500px",children:[(0,t.jsxs)(a.Modal.Body,{children:[(0,t.jsx)(a.Modal.Header,{children:(0,t.jsx)(a.Modal.Title,{children:"Cancel Deployment"})}),(0,t.jsx)("p",{className:"text-copy-16",children:"Canceling this deployment will immediately stop the build, with no way to resume."}),(0,t.jsx)("p",{className:"text-copy-16",style:{margin:0},children:"Are you sure you want to continue?"})]}),(0,t.jsxs)(a.Modal.Actions,{children:[(0,t.jsx)(a.Modal.Action,{loading:!1,onClick:d,type:"secondary",children:"Close"}),(0,t.jsx)(a.Modal.Action,{disabled:h,loading:h,onClick:y,children:"Cancel deployment"})]})]})});e.s(["default",0,c])},5229375,e=>{"use strict";var t=e.i(7185353),l=e.i(7909933),i=e.i(3924999),a=e.i(818351),s=e.i(8042625),n=e.i(277234),r=e.i(4244280),o=e.i(5338940);function c(e,t){let l=(0,s.encode)(e,!1),i=t?`&${t}`:"";return l?`?${l}${i}`:`?${i}`}e.s(["useAliases",0,function(e,t){return(0,l.default)(()=>{if(!e)return null;let{team:t,id:l,teamId:i}=e;return`${(0,r.API_DEPLOYMENTS)("v2")}/${l}/aliases${(0,s.encode)({teamId:i??(t?t.id:null)})}`},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),t)},"useAliasesInfinite",0,function(e,l){let{limit:a=20,domains:s,rollbackDeploymentId:d}=e,{isReady:u,team:m}=(0,o.useTeam)(),h=(0,i.default)((e,t)=>{if(!u)return null;let l=`${r.API_ALIASES}`,i=s?.map(e=>`domain=${encodeURIComponent(e)}`).join("&")||null;if(!e)return`${l}${c({limit:a+1,teamId:m?.id,rollbackDeploymentId:d},i)}`;let n=t?.aliases&&t.aliases.length>a?t.aliases[a-1].createdAt:null;return n?`${l}${c({limit:a+1,teamId:m?.id,until:n},i)}`:null},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0}),l),p=(0,t.useMemo)(()=>h.data?[].concat(...h.data.filter(Boolean).map(e=>e.aliases.slice(0,a))):[],[h.data,a]),x=!!h.data&&!h.error,y=!!(h.data&&0===p.length),f=!!(h.data&&h.size>h.data.length),j=!!(h.data&&h.data[h.data.length-1]?.aliases.length<=a);return[h,{aliases:p,initialDataLoaded:x,isEmpty:y,loadMore:()=>h.setSize(e=>e+1),isLoadingMore:f,isReachingEnd:j}]},"useAliasesV2",0,function(e,t){let{deploymentId:l,teamId:i}=e;return(0,a.useIsomorphicSWR)(l?function(e){let{deploymentId:t,teamId:l}=e;return`${(0,r.API_DEPLOYMENTS)("v2")}/${t}/aliases${(0,s.encode)({teamId:l})}`}({deploymentId:l,teamId:i}):null,t)}],5229375)},7018452,e=>{"use strict";var t=e.i(7185353);e.s(["default",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[l,i]=(0,t.useState)(!1),a=window.location.hash,s=e.startsWith("#")?e:`#${e}`;return(0,t.useEffect)(()=>{let e=()=>{window.location.hash!==s||l||i(!0)};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[l,s]),a!==s||l||(i(!0),window.history.replaceState(null,""," ")),a!==s&&l&&(window.location.hash=s),[l,i]}])},9719784,e=>{"use strict";var t=e.i(847684),l=e.i(7185353),i=e.i(57106),a=e.i(822157),s=e.i(7018452),n=e.i(2405448),r=e.i(542164),o=e.i(1681029),c=e.i(4478191);let d=(0,l.memo)(function(e){let{url:d,truncate:u,defaultRoute:m,...h}=e,[p,x]=(0,s.default)("#wildcard"),[y,f]=(0,l.useState)(null),[j,g]=(0,l.useState)(!1),b=(0,l.useCallback)(()=>{f((0,n.default)(d)),x(!0)},[f,x,d]);return d?(0,r.default)(d)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Link,{className:"pt-px leading-[16px] hover:underline",onClick:b,...h,onMouseEnter:()=>g(!0),style:{minWidth:0,maxWidth:u?"100%":void 0},children:u?(0,t.jsx)("span",{className:"geist-ellipsis",children:d}):d}),j||p?(0,t.jsx)(a.default,{active:p,onCancel:()=>{x(!1)},url:y}):null]}):(0,t.jsx)(i.Link,{className:"pt-px leading-[16px] hover:underline",external:!0,href:(0,c.withDefaultRoute)((0,o.domainToUrl)(d),m),...h,style:{minWidth:0,maxWidth:u?"100%":void 0},children:u?(0,t.jsx)("span",{className:"geist-ellipsis",children:d}):d}):null});e.s(["default",0,d])},9365163,4904548,e=>{"use strict";var t=e.i(847684),l=e.i(7185353),i=e.i(5338940),a=e.i(1717203),s=e.i(7557283),n=e.i(4670733),r=e.i(588428),o=e.i(4396019),c=e.i(762945),d=e.i(7749291),u=e.i(8735244),m=e.i(2504781),h=e.i(6891161),p=e.i(455575),x=e.i(8522580),y=e.i(8761240),f=e.i(5756088),j=e.i(9386557),g=e.i(4004502),b=e.i(8042625),v=e.i(277234),k=e.i(4244280),N=e.i(5140444),w=e.i(5757634),S=e.i(5802506),C=e.i(6641571);e.i(9623499);var A=e.i(5576066),D=e.i(3924999),I=e.i(5229375);e.i(2598434);var R=e.i(9668517);let M="[teamSlug]";var T=e.i(6060673),E=e.i(930810),P=e.i(7952834),L=e.i(1173672),O=e.i(8227242),B=e.i(9745887),$=e.i(3306538),_=e.i(5468328),F=e.i(9719784);function z(e){let{hidden:l,showIcon:i=!0,linkProps:a,defaultRoute:s}=e;return(0,t.jsx)(t.Fragment,{children:l.map(e=>(0,t.jsx)("div",{children:(0,t.jsx)(F.default,{defaultRoute:s,icon:i,title:e,truncate:!0,url:e,...a})},e))})}function H(e){let{hidden:l,linkProps:i}=e;return(0,t.jsx)(_.Tooltip,{text:(0,t.jsx)(z,{hidden:l,linkProps:i}),children:(0,t.jsx)($.Badge,{size:"sm",variant:"gray-subtle",children:`+${l.length}`})})}let U=function(e){let{className:l,defaultRoute:i,domains:a,firstOnly:s,showIcon:n=!0,style:r,linkProps:o}=e;if(!a)return(0,t.jsx)("span",{className:`text-copy-14 text-gray-900 ${l}`,style:r,children:"-"});let{visible:c,hidden:d}=a.reduce((e,t)=>(0===e.visible.length||!s&&1===e.visible.length&&e.visible[0].length<=20?e.visible.push(t):e.hidden.push(t),e),{visible:[],hidden:[]});return(0,t.jsx)("span",{className:`text-[14px] leading-[20px] font-medium ${l}`,children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial max-w-full",style:{...r},children:[c.map((e,l)=>{let a=l===c.length-1;return(0,t.jsx)(F.default,{defaultRoute:i,icon:n,style:{marginRight:a?void 0:"var(--geist-gap-half)",minWidth:0},truncate:!0,url:e,...o},e)}),d.length?(0,t.jsx)(H,{hidden:d,linkProps:o}):null]})})};e.s(["default",0,U],4904548);var G=e.i(8651268),W=e.i(2547843);function q(){return(0,t.jsx)(h.Modal.Header,{children:(0,t.jsx)(h.Modal.Title,{center:!0,children:"Instant Rollback"})})}function K(e){let{setStage:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Modal.Body,{children:[(0,t.jsx)(q,{}),(0,t.jsx)("p",{className:"text-copy-14",style:{marginBottom:"24px"},children:"Error: You must select a deployment to roll back."})]}),(0,t.jsx)(h.Modal.Actions,{children:(0,t.jsx)(h.Modal.Action,{fullWidth:!0,onClick:()=>{l("initial")},type:"secondary",children:"Back"})})]})}function V(){return(0,t.jsx)("div",{children:(0,t.jsx)(x.Note,{className:"bg-yellow-50 border-yellow-300 border text-amber-700",fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",style:{padding:4},children:[(0,t.jsx)(c.Warning,{style:{flexShrink:0}}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"Make sure the domains listed above are correct."}),(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"This deployment has custom aliases not included in the project's domain settings."})]})]})})})}function Y(e){var a;let s,{hasFloatingAliases:o,onCancel:c,previousDeployment:d,productionAliases:u,productionDeployment:p,project:y,rollbackCandidates:j,setStage:b,selectedDeployment:v,setSelectedDeployment:k,deploymentSwr:N,rollbackReason:w,setRollbackReason:S}=e,C=(a="/[teamSlug]",s=(0,R.useTeamSlug)(),(0,l.useMemo)(()=>a.includes(M)?a.replace(`/${M}`,s?`/${s}`:""):a,[s,a])),[D,I]=(0,l.useState)(!1),{team:T}=(0,i.useTeam)(),P=!T||T.billing?.plan==="hobby",{value:L}=(0,n.useInstantRollbackHobbyRestrictionFlag)(),{value:O}=(0,r.useInstantRollbackHobbyRestrictionTeamFlag)();return j.length&&d&&v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Modal.Body,{children:[(0,t.jsx)(q,{}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-16",children:["Rolling back"," ",(0,t.jsx)(U,{domains:u,firstOnly:!0,style:{display:"inline-flex",fontWeight:"500"}})]}),o?(0,t.jsx)(V,{}):null,(0,t.jsx)("div",{children:(0,t.jsx)(B.DeploymentCardSmall,{deployment:p,isProductionDeployment:!0,selectedDeployment:v,setSelectedDeployment:k})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-16",children:"To the following deployment:"}),D?(0,t.jsx)("div",{children:(0,t.jsx)(E.ChooseDeploymentList,{deployments:j,previousDeployment:d,productionDeployment:p,rolledBackDeploymentId:y?.lastAliasRequest?.type==="rollback"?y.lastAliasRequest.fromDeploymentId:void 0,selectedDeployment:v,setSelectedDeployment:k,swr:N})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(B.DeploymentCardSmall,{deployment:v,isForm:D,isPreviousDeployment:v.uid===d.uid,selectedDeployment:v,setSelectedDeployment:k})}),(L||O)&&P?(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial mt-6",children:(0,t.jsx)(x.Note,{className:"bg-blue-50 border border-blue-500 text-blue-600",fill:!0,label:!1,size:"small",variant:"contrast",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial p-2",children:[(0,t.jsx)(f.LockClosed,{style:{transform:"translateX(1px)"}}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:"Looking for an earlier deployment?"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(A.Link,{className:"text-current no-underline",external:!0,href:"/"===C?"/dashboard?createTeam=instant-rollback":`${C}?upgradeTeam=instant-rollback`,target:"_blank",children:(0,t.jsx)("span",{className:"text-copy-14 text-inherit",children:"Upgrade to Pro"})}),(0,t.jsxs)("span",{className:"text-copy-14 text-inherit",style:{whiteSpace:"nowrap"},children:[" ","to roll back to an earlier deployment"]})]})]})]})})}):(0,t.jsx)(m.Button,{onClick:()=>{I(!0)},type:"secondary",width:"100%",size:"small",children:"Choose another deployment"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("label",{htmlFor:"rollback-reason",className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:(0,t.jsx)("span",{className:"text-copy-16",children:"Share a reason for this rollback:"})}),(0,t.jsx)(E.RollbackDescriptionTextarea,{value:w,onChange:S,id:"rollback-reason"})]})]})]}),(0,t.jsxs)(h.Modal.Actions,{children:[(0,t.jsx)(h.Modal.Action,{onClick:c,type:"secondary",children:"Cancel"}),(0,t.jsx)(h.Modal.Action,{"data-testid":(0,g.tid)("deployment","rollback-modal","continue-button"),disabled:w.length>=E.REASON_MAX_CHARACTER_LENGTH,onClick:()=>{b("selected")},children:"Continue"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Modal.Body,{children:[(0,t.jsx)(q,{}),(0,t.jsx)("p",{className:"text-copy-14",children:"This project does not have any valid deployments to roll back to."})]}),(0,t.jsx)(h.Modal.Actions,{children:(0,t.jsx)(h.Modal.Action,{onClick:c,type:"secondary",children:"Cancel"})})]})}function X(e){let{selectedDeployment:l,setStage:i,requestRollback:a,project:s,rollbackReason:n,rollbackCandidates:r}=e,{user:o}=(0,N.useUser)();if(!l)return(0,t.jsx)(K,{setStage:i});let c=n.length>=E.REASON_MAX_CHARACTER_LENGTH,u=(0,E.getMostRecentlyPromotedDeployment)(r);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Modal.Body,{children:[(0,t.jsx)(q,{}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-16",children:"Rolling back to:"}),(0,t.jsx)(B.DeploymentCardSmall,{deployment:l,isPreviousDeployment:l.uid===u?.uid,selectedDeployment:l,setSelectedDeployment:()=>null})]}),n.trim()&&(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:(0,t.jsx)(E.RollbackDescriptionCard,{rollbackDescription:{description:n.trim(),userId:o?.uid??"",username:o?.username??"",deploymentId:l.uid,projectId:s?.id??"",createdAt:new Date().getTime()},project:s,preview:!0})}),(0,t.jsxs)(C.UL,{className:"mb-0",children:[(0,t.jsx)(C.LI,{children:"Instant Rollback assigns domains to a previous deployment. All Environment Variables from the original build will remain. Cron jobs will be reverted to the state of the previous deployment."}),(0,t.jsxs)(C.LI,{children:[(0,t.jsxs)(A.Link,{className:"inline-flex items-center text-[var(--geist-success)] no-underline",href:`https://${l.url}`,target:"_blank",children:["View the selected deployment ",(0,t.jsx)(d.ExternalSmall,{className:"ml-1"})]})," ","before rolling back—external APIs, databases, and CMS platforms may not behave as expected."]}),(0,t.jsx)(C.LI,{children:"You can update the rollback reason from the project overview."})]}),(s?.autoAssignCustomDomains??!0)||s?.lastAliasRequest?.type==="rollback"?(0,t.jsx)(x.Note,{fill:!0,type:"secondary",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-4 flex-initial",children:(0,t.jsx)("div",{className:"flex flex-col items-start justify-start flex-initial",children:(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"After rolling back, production deployments will not be automatically promoted until the rollback is removed."})})})}):null]})]}),(0,t.jsxs)(h.Modal.Actions,{children:[(0,t.jsx)(h.Modal.Action,{onClick:()=>{i("initial")},type:"secondary",children:"Back"}),(0,t.jsx)(h.Modal.Action,{"data-testid":(0,g.tid)("deployment","rollback-modal","rollback-button"),disabled:c,onClick:()=>{a(l.uid),i("processing")},children:"Confirm Rollback"})]})]})}function J(e){let{jobStatus:i,rollbackDeploymentId:a,rollbackCandidates:s,selectedDeployment:n,setStage:r,onCancel:o,statusSwr:c,requestRollback:d,rollbackReason:p}=e,{user:x}=(0,N.useUser)();if((0,l.useEffect)(()=>{a===n?.uid&&("failed"===i?r("error"):"succeeded"===i&&r("done"))},[a,i,n,r]),!n)return(0,t.jsx)(K,{setStage:r});let f=(0,E.getMostRecentlyPromotedDeployment)(s);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Modal.Body,{children:[(0,t.jsx)(q,{}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)("p",{className:"text-copy-14",children:"Assigning production domains:"}),(0,t.jsx)(B.DeploymentCardSmall,{deployment:n,isPreviousDeployment:n.uid===f?.uid,selectedDeployment:n,setSelectedDeployment:()=>null})]}),""!==p?(0,t.jsxs)("div",{className:"rounded bg-background-200 px-4 py-3 shadow-border",children:[(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["“",(0,t.jsx)(O.LinkParser,{text:p.trim()}),"”"]}),(0,t.jsxs)("div",{className:"flex gap-1 pt-1",children:[(0,t.jsx)("p",{className:"text-copy-14",children:"Rolled back by"}),x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G.PrincipalAvatar,{size:20,principalId:x.uid,principal:{type:"user",uid:x.uid,username:x.username}}),(0,t.jsx)("p",{className:"text-copy-14",children:x.username})]}):null]})]}):null,(0,t.jsxs)(C.UL,{className:"mx-4 my-0 list-none pt-2",children:[c.aliases.map(e=>{let l="loading";return"completed"===e.status?l="success":"failed"===e.status&&(l="error"),(0,t.jsx)(C.LI,{children:(0,t.jsxs)("div",{className:"h-6 flex items-center gap-2",children:["loading"===l&&(0,t.jsx)(u.Spinner,{className:"shrink-0",size:16}),"error"===l&&(0,t.jsx)(j.WarningFill,{className:"shrink-0",color:"amber-800",size:16}),"success"===l&&(0,t.jsx)(y.CheckCircleFill,{className:"shrink-0",color:"blue-700",size:16}),(0,t.jsx)("span",{className:"text-copy-14 truncate",children:e.alias})]})},e.alias)}),!c.isReachingEnd&&c.initialDataLoaded?(0,t.jsx)(C.LI,{children:(0,t.jsx)(m.Button,{loading:c.isLoadingMore,onClick:()=>{c.loadMore()},style:{marginTop:24},type:"secondary",width:"100%",children:"Show More"})}):null]})]})]}),(0,t.jsx)(h.Modal.Actions,{children:(0,t.jsx)(h.Modal.Action,{"data-testid":(0,g.tid)("deployment","rollback-modal","finish-button"),fullWidth:!0,loading:"failed"!==i&&"succeeded"!==i,onClick:()=>{"failed"===i?d(n.uid):"succeeded"===i&&(r("initial"),o())},children:"failed"===i?"Retry":"Done"})})]})}function Q(e){let{active:a,initialSelectedDeployment:s,onCancel:n,productionBranch:r,productionDeployment:o,projectId:c,rollbackCandidates:d,swr:u,rollbackDescription:m}=e,{mutate:x}=(0,w.useSWRConfig)(),[y,f]=(0,l.useState)("initial"),[j,N]=(0,l.useState)(""),{isReady:C,team:A}=(0,i.useTeam)(),R=(0,p.useToasts)(),M=(0,l.useMemo)(()=>{let e=d.filter(e=>e.uid!==o.id);return(0,E.getMostRecentlyPromotedDeployment)(e)},[d,o]),[O,B]=(0,l.useState)(null),$=O??s??M??null,_=(0,l.useCallback)(f,[f]),F=(0,l.useCallback)(B,[B]),[,{aliases:z}]=(0,I.useAliasesInfinite)({rollbackDeploymentId:o.id}),{data:H}=(0,T.useProject)(c),{lastAliasRequest:U,hasFloatingAliases:G}=H||{lastAliasRequest:void 0,hasFloatingAliases:!1},{toDeploymentId:q,jobStatus:K}=U||{toDeploymentId:null,jobStatus:null},[,V]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{isReady:s,team:n}=(0,i.useTeam)(),r=(0,D.default)((t,l)=>{if(!s)return null;let i={teamId:n?.id,limit:a};return t?l?.next?`${(0,k.API_PROJECTS_ROLLBACK_ALIAS_STATUS)(e)}${(0,b.encode)({...i,until:l.next})}`:null:`${(0,k.API_PROJECTS_ROLLBACK_ALIAS_STATUS)(e)}${(0,b.encode)(i)}`},e=>(0,v.fetchAPI)(e,{throwOnHTTPError:!0}),{refreshInterval:t}),o=(0,l.useMemo)(()=>r.data?[].concat(...r.data.filter(Boolean).map(e=>e.aliases.slice(0,a))):[],[r.data,a]),c=!!r.data,d=c&&0===o.length,u=c&&r.data&&r.size>r.data.length,m=c&&r.data&&r.data[r.data.length-1]?.aliases.length<a;return[r,{aliases:o,initialDataLoaded:c,isEmpty:d,loadMore:()=>r.setSize(e=>e+1),isLoadingMore:u,isReachingEnd:m,mutate:r.mutate}]}(c,2e3),Q=(0,l.useMemo)(()=>o,[a]),Z=()=>{f("initial"),B(s||M||null),n()},ee=(0,l.useCallback)(async e=>{if(!C)return;let t=`${(0,k.API_DEPLOYMENT_ROLLBACK)(c,e)}${(0,b.encode)({teamId:A?.id,description:j.trim()})}`;try{await (0,v.fetchAPI)(t,{throwOnHTTPError:!0,method:"POST",body:{}}),A&&(void 0!==H&&(0,P.revalidateProject)(x,H),await x((0,L.getProjectProductionDeploymentKey)({projectIdOrName:c,teamId:A.slug})),x((0,W.getRollingReleaseEndpoint)(A.slug,c)))}catch(e){R.error({text:"Something went wrong - please try requesting an Instant Rollback again",key:"rollback-deployment"}),(0,S.captureError)(e)}},[C,c,R,j,x,A,H]),et={rollbackDeploymentId:q,hasFloatingAliases:!!G,jobStatus:K,onCancel:Z,previousDeployment:M,productionBranch:r,productionDeployment:Q,productionAliases:z.map(e=>{let{alias:t}=e;return t}),project:H,rollbackCandidates:d,setStage:_,selectedDeployment:$,setSelectedDeployment:F,deploymentSwr:u,statusSwr:V,requestRollback:ee,rollbackWarningText:"New deployments will not be automatically assigned production domains until this rollback is removed.",rollbackReason:j,setRollbackReason:N,rollbackDescription:m};return(0,t.jsxs)(h.Modal.Modal,{active:a,"data-testid":(0,g.tid)("deployment","rollback-modal"),onClickOutside:Z,sticky:!0,width:"500px",children:["initial"===y&&(0,t.jsx)(Y,{...et}),"selected"===y&&(0,t.jsx)(X,{...et}),["processing","error","done"].includes(y)&&(0,t.jsx)(J,{...et})]})}var Z=e.i(5771992),ee=e.i(5645345),et=e.i(3981247);e.i(3182268);var el=e.i(7849855);e.s(["useInstantRollbackModal",0,function(e){let{onClose:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[n,r]=(0,l.useState)(!1),[c,d]=(0,l.useState)(),{teamSlug:u,projectSlug:m}=(0,el.useProjectAndTeamSlug)(),{data:h}=(0,T.useProject)(c?.name),p=m??c?.name,x=e??h,{data:y}=(0,et.useRollingRelease)({teamIdOrSlug:u,projectSlug:p}),f=y?.rollingRelease?y?.rollingRelease?.canaryDeployment?.id:void 0,{deployment:j,rollbackDescription:g,mutate:b}=(0,o.useProjectProductionDeployment)(x?.name),{can:v}=(0,a.default)({projectIdOrName:x?.name}),k=v(s.Action.Create,s.Resource.DeploymentRollback),N=x?.link?.productionBranch?x.link.productionBranch:void 0,[w,S]=(0,Z.useDeploymentsInfinite)({projectId:x?x.id:"",requireProject:!0,limit:10,rollbackCandidate:!0},{}),{deployments:C,initialDataLoaded:A}=S,D=C.filter(e=>!!e.isRollbackCandidate&&e.uid!==f),I=!!(A&&x&&!D.length),R=(0,l.useCallback)(e=>{d((0,ee.asListDeployment)(e)),r(!0)},[]),M=(0,l.useCallback)(()=>{r(!1),b().finally(()=>null),i?.()},[b,i]);return{rollbackModal:(0,l.useMemo)(()=>k&&n&&j&&x?(0,t.jsx)(Q,{active:n,initialSelectedDeployment:c,onCancel:M,productionBranch:N,productionDeployment:j,projectId:x.id,rollbackCandidates:D,rollbackDescription:g,swr:S}):null,[k,n,c,N,j,D,x,S,M,g]),closeRollbackModal:M,openRollbackModal:R,canRollbackDeployment:k,noRollbackCandidates:I}},"useRollbackTooltip",0,function(e){let{team:t}=(0,i.useTeam)(),a=!t||t.billing?.plan==="hobby",{value:s}=(0,n.useInstantRollbackHobbyRestrictionFlag)(),{value:c}=(0,r.useInstantRollbackHobbyRestrictionTeamFlag)(),d=s||c,u=e?.name,{deployment:m,isLoading:h}=(0,o.useProjectProductionDeployment)(u);return(0,l.useMemo)(()=>{let t=(0,ee.asListDeployment)(e),l=a&&!t?.isRollbackCandidate;return t?h?"Loading…":"readyState"in t&&"READY"!==t.readyState?"Only Deployments that are Ready can be rolled back.":"readySubstate"in t&&"PROMOTED"!==t.readySubstate?"Only Deployments previously aliased to a Production domain can be rolled back.":t.uid===m?.id?"This Deployment is already in Production.":d?t.isRollbackCandidate||"production"===t.target?l?"Hobby customers can only roll back to the previous deployment.":"":"Only Deployments previously aliased to a Production domain can be rolled back.":t.isRollbackCandidate?"":"Only Deployments previously aliased to a Production domain can be rolled back.":""},[e,a,h,m?.id,d])}],9365163)},492520,9172735,e=>{"use strict";var t=e.i(7909933),l=e.i(5802506);e.s(["useDeploymentOutageBanner",0,function(e){let{data:i,isLoading:a}=(0,t.default)(e?"/api/feature-flags/deployment-outage-banner":null,e=>fetch(e).then(e=>e.json()),{async onError(e){await (0,l.captureError)(e)}}),s="github-limited"===e?"github":e,n=s?i?.providers?.[s]:void 0;return s&&n?.enabled?{data:{link:n.learnMoreLink||"https://www.vercel-status.com",customMessage:n.customMessage||void 0,isVercelOnly:i?.showToVercelianOnly??!1},isLoading:a}:{data:null,isLoading:a}},"useMarketplaceOutageBanner",0,function(e){let i=e.length>0,{data:a,isLoading:s}=(0,t.default)(i?"/api/feature-flags/deployment-outage-banner":null,e=>fetch(e).then(e=>e.json()),{async onError(e){await (0,l.captureError)(e)}}),n=a?.providers?.marketplace;if(n?.enabled&&n.affectedSlugs?.length){let t=new Set(n.affectedSlugs);if(e.some(e=>t.has(e)))return{data:{link:n.learnMoreLink||void 0,customMessage:n.customMessage||void 0,showRedeployCta:n.showRedeployCta,isVercelOnly:a?.showToVercelianOnly??!1,affectedSlugs:n.affectedSlugs},isLoading:s}}return{data:null,isLoading:s}}],492520);var i=e.i(847684),a=e.i(762945),s=e.i(57106),n=e.i(7185353),r=e.i(4759942),o=e.i(6352514),c=e.i(1335111);e.s(["OutageBanner",0,function(e){let{actionOnClick:t,gitType:l,link:d,customMessage:u,hideAction:m=!1,isVercelOnly:h=!1,marketplaceAnalytics:p}=e,x=(0,n.useRef)(!1);if((0,n.useEffect)(()=>{p&&!x.current&&(x.current=!0,r.analytics.track(o.AnalyticsEvent.MARKETPLACE_OUTAGE_BANNER_SHOWN,{teamId:p.teamId,projectId:p.projectId,affectedSlugs:p.affectedSlugs}))},[p]),!l&&!u)return null;let y=l?function(e){switch(e){case"github":return"GitHub";case"gitlab":return"GitLab";case"bitbucket":return"Bitbucket";default:return""}}(l):"",f=y?`Automatic deployments from ${y} are temporarily unavailable. You can manually create a new deployment.`:"",j=u||f,g=h?`[Vercel-only] ${j}`:j,b=(0,i.jsxs)(i.Fragment,{children:[g,d?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(s.Link,{external:!0,href:d,onClick:()=>{p&&r.analytics.track(o.AnalyticsEvent.MARKETPLACE_OUTAGE_BANNER_LEARN_MORE_CLICKED,{teamId:p.teamId,projectId:p.projectId,affectedSlugs:p.affectedSlugs})},children:"Learn more"})]}):null]}),v=!m&&t?{label:"Create Deployment",onClick:()=>{p&&r.analytics.track(o.AnalyticsEvent.MARKETPLACE_OUTAGE_BANNER_CTA_CLICKED,{teamId:p.teamId,projectId:p.projectId,affectedSlugs:p.affectedSlugs}),t?.()}}:void 0;return(0,i.jsx)(c.CompatBanner,{callToAction:v,icon:(0,i.jsx)(a.Warning,{className:"shrink-0"}),label:b,variant:"warning",sticky:!1})}],9172735)},9204765,4095738,e=>{"use strict";var t=e.i(847684),l=e.i(1987325),i=e.i(7185353),a=e.i(2504781),s=e.i(2064047),n=e.i(6891161),r=e.i(8522580),o=e.i(7087273),c=e.i(9318197),d=e.i(455575),u=e.i(57106),m=e.i(7749291),h=e.i(4345845),p=e.i(7218483),x=e.i(5614970),y=e.i(913614),f=e.i(3023251),j=e.i(7401972),g=e.i(5598924),b=e.i(5761705),v=e.i(5479400),k=e.i(6401841),N=e.i(3306538),w=e.i(3500331),S=e.i(5255926),C=e.i(8735244);function A(e){let{loading:l,onChange:a,onPaste:s,size:n,state:r,...o}=e;return(0,t.jsx)(w.Input,{...o,id:(0,i.useId)(),onChange:a,onPaste:s,size:n,suffix:(0,t.jsx)(D,{loading:l,size:"small"===n?16:void 0,state:r}),suffixStyling:!1})}function D(e){let{loading:l,state:i,size:a}=e;return l?(0,t.jsx)(C.Spinner,{size:a}):"success"===i?(0,t.jsx)(b.CheckCircle,{color:"blue-700",size:a}):"error"===i?(0,t.jsx)(k.Stop,{color:"red-900",size:a}):null}function I(e){let{branchName:l,commitMessage:i,commitSha:a,createdAt:s=Date.now(),isProductionDeployment:n,loading:r}=e,o=(0,p.useAgo)(s,{long:!0,justNowLabel:"just now"}),c=r||"string"==typeof l,d=a?.substring(0,7);return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-0.5 flex-1 translate-y-[3px] rounded-[10px] border border-solid border-[var(--accents-2)] px-3 py-[7px]",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-1",children:[(0,t.jsx)(h.GitBranch,{color:"gray-900",style:{flexShrink:0}}),(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-1 flex-1",children:r?(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-1 pt-1 pb-1",children:(0,t.jsx)(S.Skeleton,{height:16,width:150})}):(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-1",children:[c?(0,t.jsxs)("div",{className:"text-copy-14-mono truncate",style:{maxWidth:370},children:[l," "]}):(0,t.jsx)("div",{className:"min-w-[180px] max-w-[250px]",children:l}),!0===n&&(0,t.jsx)(N.Badge,{size:"md",variant:"blue-subtle",children:"Production"}),!1===n&&(0,t.jsx)(N.Badge,{size:"md",variant:"gray-subtle",children:"Preview"})]})})]}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-1",children:[(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial",children:(0,t.jsx)(v.GitCommit,{color:"gray-900",size:16,style:{flexShrink:0}})}),r?(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-1 pt-1 pb-1",children:[(0,t.jsx)(S.Skeleton,{height:16,width:95}),(0,t.jsx)(S.Skeleton,{height:16,width:"56%"})]}):(0,t.jsxs)("div",{className:"text-copy-14 truncate",children:[(0,t.jsx)("span",{className:"text-copy-14-mono",children:d}),` ${i??""} `,(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:o})]})]})]})}function R(e){return(0,t.jsx)(r.Note,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsxs)("div",{children:["This commit has already been built—",(0,t.jsx)(u.Link,{external:!0,href:e.deploymentId.replace(/dpl_/,""),tab:!0,type:"primary",children:"view here"})]}),e.isProductionDeployment?(0,t.jsx)("div",{children:"It is the current production deployment"}):null]})})}function M(e){let{branchName:l,isProductionDeployment:i}=e;return(0,t.jsx)(r.Note,{fill:!0,type:"warning",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:"This commit exists on multiple branches"}),(0,t.jsxs)("p",{className:"text-copy-14 text-inherit",children:["Please verify this deployment should be built from"," ",(0,t.jsx)("span",{className:"text-copy-14-mono text-inherit",children:l}),i?" with Production configuration.":"."]})]})})}function T(e){let{children:l,id:i}=e;return l?(0,t.jsx)(r.Note,{fill:!0,id:i,style:{alignSelf:"start"},type:"error",children:l}):null}var E=e.i(7909933),P=e.i(7966665),L=e.i(277234);let O=RegExp(/[0-9a-f]{7,40}/,"i");function B(e,t){return e.toLowerCase()===t.toLowerCase()}function $(e){let{projectId:t,branchName:l,sha:i,teamId:a}=e,s=new URLSearchParams;l&&s.set("branchName",l),a&&s.set("teamId",a),i&&s.set("sha",i);let n=`/v1/integrations/git-commit-details/${t}?${s.toString()}`;return(0,L.fetchAPI)(n,{throwOnHTTPError:!0})}async function _(e,t,l,i,a,s,n){let r=function(e,t,l,i){let a=e.startsWith("http")?e:`https://${e}`,s=(0,P.default)(a);if(s){if(s.type!==t||!B(s.owner,l)||!B(s.name,i))return{type:"error",message:"The provided link points to a different repository than what is connected to the Vercel project."};if(!s.sha&&!s.branch)return{type:"production"};if(s.branch)return{type:"branch",ref:s.branch};if(s.sha)return{type:"sha",sha:s.sha}}return O.exec(e)?{type:"sha",sha:e}:{type:"branch",ref:e}}(e,a,t,l);switch(r.type){case"production":{if(!s)throw Error("There is no production branch defined for this project");let e=await $({projectId:i,branchName:s,teamId:n});return{branch:s,commitDate:new Date(e.commitDate).getTime(),commitMessage:e.commitMessage,sha:e.commitSha,requestedBy:r.type,recentDeploymentId:e.recentDeploymentId}}case"branch":{let e=await $({projectId:i,branchName:r.ref,teamId:n});return{branch:r.ref,commitDate:new Date(e.commitDate).getTime(),commitMessage:e.commitMessage,sha:e.commitSha,requestedBy:r.type,recentDeploymentId:e.recentDeploymentId}}case"sha":{let e=await $({projectId:i,sha:r.sha,teamId:n}),t=[...new Set(e.branches)].sort(e=>+(e===s));return{branch:t[0],commitDate:new Date(e.commitDate).getTime(),commitMessage:e.commitMessage,multiBranches:t.length>1?t:void 0,sha:e.commitSha,requestedBy:r.type,recentDeploymentId:e.recentDeploymentId}}case"error":throw Error(r.message)}}var F=e.i(4005781),z=e.i(4244280);function H(e){return(!e||"PENDING"!==e.state&&("RUNNING"!==e.state||void 0!==e.deploymentId||void 0!==e.url))&&!0}function U(e,t){let l=(0,y.getGitRepoUrlFromLink)(e);return t&&"github"===e.type?`${l}/tree/${t}`:t&&"gitlab"===e.type?`${l}/-/tree/${t}`:t&&"bitbucket"===e.type?`${l}/src/${t}`:l}function G(e){let a,{linkedOrg:s,linkedRepo:u,onCancel:m,projectId:h,projectLink:p,teamId:x}=e,y=(0,i.useId)(),b=(0,i.useId)(),[v,k]=(0,i.useState)(""),[N,w]=(0,i.useState)(""),[S,C]=(0,i.useState)(""),[D,P]=(0,i.useState)(!1),O=(0,d.useToasts)(),B=p.updatedAt||0,{isValidating:$,error:G,data:K}=function(e,t){let{linkedOrg:l,linkedRepo:i,productionBranch:a,projectId:s,projectType:n,teamId:r}=t;return(0,E.default)(""===e?null:[e,l,i,s,n,a,r],e=>_(...e),{throwOnError:!1,shouldRetryOnError:!1,revalidateOnFocus:!1})}(v,{linkedOrg:s,linkedRepo:u,productionBranch:p.productionBranch,projectId:h,projectType:p.type,teamId:x}),[,{branches:V=[]}]=(0,j.useProjectDeployedBranches)({includeProductionBranch:!1,project:{id:h},limit:5,query:""!==N?N:void 0,active:!0}),{error:Y,createDeployment:X,isLoading:J,reset:Q}=function(e){var t,l,i;let a,{onSuccess:s,projectId:n,teamId:r}=e,{data:o,isMutating:c,trigger:d,error:u,reset:m}=(t={throwOnError:!1},(0,F.default)(z.API_GIT_TRIGGER,(e,t)=>{let{arg:l}=t;if(!n)throw Error("No projectId passed");let{branch:i,sha:a}=l,s=r?`?${new URLSearchParams({teamId:r}).toString()}`:"",o=`${e}/${n}/sha/${encodeURIComponent(i)}/${a}${s}`;return(0,L.fetchAPI)(o,{method:"POST",body:{},throwOnHTTPError:!0})},t)),{data:h,error:p,isLoading:x}=(l=o?.job,i={onSuccess(e){H(e)&&"ERRORED"!==e.state&&s?.()},refreshInterval:3e3},(0,E.default)(l?`/v1/integrations/job/${l}`:null,e=>(0,L.fetchAPI)(e),i)),y=x||!H(h);return u&&(a=Error(u.message)),p&&(a=Error(p.message)),h?.state==="ERRORED"&&(a=Error(h.error??"Could not create a deployment for this reference.")),{error:a,createDeployment:e=>{m(),d(e)},isLoading:c||y,reset:m}}({onSuccess(){O.success("Deployment created successfully."),m()},projectId:h,teamId:x}),Z=(0,i.useMemo)(()=>(0,l.default)(e=>{k(e),w(e),Q()},500,{leading:!1,trailing:!0}),[k,Q,w]);(0,i.useEffect)(()=>{P($)},[$]),(0,i.useEffect)(()=>{K?.branch&&C(K.branch)},[K?.branch]);let ee="initial";!D&&K&&(ee="success"),(G||Y)&&(ee="error",a=G?.message||Y?.message);let et=!D&&"error"===ee,el=S===p.productionBranch;return(0,t.jsxs)("form",{children:[(0,t.jsxs)(n.Modal.Body,{children:[(0,t.jsx)(n.Modal.Header,{children:(0,t.jsx)(n.Modal.Title,{children:"Create Deployment"})}),(0,t.jsx)(W,{connectedAt:B,projectLink:p}),(0,t.jsx)(c.Spacer,{}),(0,t.jsxs)("div",{"aria-labelledby":y,role:"group",children:[(0,t.jsxs)("p",{className:"text-copy-14",id:y,children:["Paste a valid commit reference to create a new deployment in addition to those auto-generated from"," ",(0,t.jsx)("span",{className:"text-copy-14-mono",children:(0,f.getRepoFromLink)(p,{includeOrg:!0})}),"."]}),(0,t.jsx)(c.Spacer,{}),(0,t.jsx)(A,{"aria-errormessage":et?b:void 0,autoCapitalize:"none",bypassCasing:!0,disabled:J,error:et?"yes":null,label:"Commit or Branch Reference",loading:D,onChange:e=>{let{value:t}=e.target,l=t.trim();if(""===l){C(""),P(!1),k(l),w(l);return}v!==l&&(C(""),P(!0),Z(l),w(l))},onPaste:e=>{Z.cancel();let t=e.clipboardData.getData("text");t&&v===t||(C(""),P(!0),Q())},placeholder:U(p),showErrorMessage:!1,size:"small",state:ee,value:N}),(0,t.jsx)(c.Spacer,{y:.5}),"success"===ee||D||0!==N.length?null:(0,t.jsx)(o.Scroller,{height:0===V.length?"0px":"66px",overflow:"x",scrollerClassName:"mx-[-4px] px-[1px]",width:"100%",children:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial p-1",children:[p.productionBranch||"main",...V.filter(e=>e!==p.productionBranch)].map(e=>(0,t.jsx)(q,{label:e,onClick:()=>{k(e),w(U(p,e))}},e))})}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[K?.multiBranches&&K.multiBranches.length>0?(0,t.jsx)(M,{branchName:S,isProductionDeployment:el}):null,et?(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start flex-initial min-h-[66px] pt-2",children:(0,t.jsx)(T,{id:b,children:a})}):null,D||!K||"sha"!==K.requestedBy||K.branch?null:(0,t.jsx)(r.Note,{fill:!0,type:"secondary",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-inherit",children:"Branch could not be determined."}),(0,t.jsx)("p",{className:"text-copy-14 text-inherit",children:"Please select the branch you would like to deploy to."})]})}),D||"success"===ee?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I,{branchName:K?.requestedBy!=="sha"||K.branch?K?.branch:(0,t.jsx)(g.BranchSearchCombobox,{comboboxSize:"small",includeProductionBranch:!0,onSelect:e=>{null===e?C(""):C(e)},placeholder:"Select branch…",project:{id:h,link:p},skeletonStyle:{margin:"0.4rem 0",height:"2.0rem"},value:S}),commitMessage:K?.commitMessage,commitSha:K?.sha,createdAt:K?.commitDate,isProductionDeployment:S?el:void 0,loading:D}),K?.recentDeploymentId?(0,t.jsx)(R,{deploymentId:K.recentDeploymentId,isProductionDeployment:el}):null]}):null]})]})]}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:m,type:"secondary",children:"Cancel"}),(0,t.jsx)(n.Modal.Action,{disabled:!["success","error"].includes(ee)||!S||!K?.sha,loading:J,onClick:()=>{K?.sha&&X({sha:K.sha,branch:S||K.branch})},children:"Create Deployment"})]})]})}function W(e){let{connectedAt:l,projectLink:i}=e,a=(0,p.useAgo)(l,{justNowLabel:"just now"});return(0,t.jsx)(s.Entity,{left:(0,t.jsx)(x.default,{gitType:i.type,height:32,width:32}),padding:0,children:(0,t.jsx)(s.Entity.Content,{description:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Connected ",a]}),title:(0,t.jsxs)(u.Link,{className:"inline-flex max-w-full items-center [&>svg]:min-w-4",href:(0,y.getGitRepoUrlFromLink)(i),tab:!0,variant:"primary",children:[(0,t.jsx)("span",{className:"geist-ellipsis",children:(0,f.getRepoFromLink)(i,{includeOrg:!0})}),(0,t.jsx)(c.Spacer,{inline:!0,x:.2}),(0,t.jsx)(m.ExternalSmall,{})]})})})}function q(e){let{label:l,onClick:i}=e;return(0,t.jsx)(a.Button,{onClick:i,prefix:(0,t.jsx)(h.GitBranch,{size:14,style:{transform:"translateX(2px)"}}),shape:"rounded",size:"small",type:"secondary",typeName:"button",children:(0,t.jsx)("span",{className:"text-copy-14-mono",children:l})})}e.s(["GitDeploymentTriggerModal",0,function(e){let{active:l,onCancel:i,projectId:a,projectLink:s,teamId:r}=e;if(!s)return null;let o=(0,f.getOrgAndRepoFromLink)(s);return o?(0,t.jsx)(n.Modal.Modal,{active:l,onClickOutside:i,children:(0,t.jsx)(G,{linkedOrg:o.org,linkedRepo:o.repo,onCancel:i,projectId:a,projectLink:s,teamId:r})}):null}],4095738),e.s([],9204765)}]);

//# debugId=b40d5ff2-f5fc-ef15-058e-811084d17810
//# sourceMappingURL=4b37e916182530c2.js.map