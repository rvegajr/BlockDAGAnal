;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="37cefa0c-ba7b-c0b4-4cba-156323cf25af")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8151845,e=>{"use strict";var t=e.i(409142),r=e.i(2749380);let n={f:{defaultValue:{levels:{v:["error"],o:"eq"}},formatToUrl:e=>JSON.stringify(e),parseFromUrl:e=>JSON.parse(e)},period:{defaultValue:"12h",onChangeRemoveKeys:["from","to"]},from:{defaultValue:void 0,formatToUrl:e=>Math.floor(e.getTime()/1e3).toString(),parseFromUrl:e=>new Date(1e3*Number(e)),onChangeRemoveKeys:["period"]},to:{defaultValue:void 0,formatToUrl:e=>Math.floor(e.getTime()/1e3).toString(),parseFromUrl:e=>new Date(1e3*Number(e)),onChangeRemoveKeys:["period"]},orderBy:{defaultValue:void 0},environment:{defaultValue:"production"}},i=()=>{let{set:e,state:r}=(0,t.useSearchParamsState)(n);return[r,e]};e.s(["useRangeFromQueryState",0,function(){let[e]=i(),{start:t,end:n}=e.from&&e.to?{start:e.from,end:e.to}:(0,r.getRangeFromPreset)(e.period);return{start:t,end:n,isRelativeTime:!(e.from&&e.to)}},"useSonarQueryState",0,i])},6062041,e=>{"use strict";var t=e.i(847684),r=e.i(3973638);e.i(6048454);var n=e.i(7111873),i=e.i(1233856),a=e.i(7911158),l=e.i(2749380);let o=[800,600,500].flatMap(e=>[`var(--ds-blue-${e})`,`var(--ds-amber-${e})`,`var(--ds-green-${e})`,`var(--ds-purple-${e})`,`var(--ds-pink-${e})`]),s={"2xx":"hsla(212, 100%, 60%, 1)","3xx":"hsla(208, 100%, 66%, 1)","4xx":"hsla(39, 100%, 57%, 1)","5xx":"hsla(358, 75%, 59%, 1)"};e.s(["calculatePercentage",0,(e,t)=>e/t*100||0,"excludedIntervalsToMarks",0,function(e){if(!e?.query?.startTime||!e?.query?.endTime)return[];let n=new Date(e.query.startTime).getTime(),i=new Date(e.query.endTime).getTime();return(e.query.excludedIntervals??[]).filter(e=>{let{start:t,end:r}=e;return n<=t&&t<=i||n<=r&&r<=i}).map(e=>{let{start:n,end:i}=e;return{id:`${n}-${i}`,type:"area",label:"Observability Plus\n was disabled",color:"var(--ds-gray-500)",startTime:new Date(n),endTime:new Date(i),children:(0,t.jsx)(r.EyeOff,{color:"gray-900",x:"-8",y:"-8"}),tooltipContent:(0,t.jsx)("div",{className:"p-1",children:"Observability Plus was disabled"})}})},"formatPercentageChart",0,(e,t)=>{let r=e/100;return 0===r?"0%":"tooltip"===t?r<1e-4?"<0.01%":(0,a.formatPercentage)(r,2):r<.001&&"yaxis"!==t&&0!==r?"<0.1%":(0,a.formatPercentage)(r,1)},"getRoundedDateRange",0,function(e){let{startTime:t,endTime:r}=e,n=(0,l.getGranularityFromDuration)(r.getTime()-t.getTime(),!1);return{granularity:n,startTime:(0,i.startOfDuration)(t,n),endTime:(0,i.startOfDuration)(r,n)}},"getStatusColors",0,function(e){return e.includes("xx")?s[e.toLowerCase()]||"var(--ds-gray-700)":s[`${e[0]}xx`.toLowerCase()]||"var(--ds-gray-700)"},"indexToColor",0,function(e){return o[e%o.length]},"nameToColor",0,function(e){let t=(0,n.xxHash32)(e,50)%o.length;return o[t]}])},7911158,e=>{"use strict";e.s(["formatPercentage",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return isNaN(e)?"-%":new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:t}).format(e)}])},7111873,e=>{"use strict";let t;e.s(["xxHash32",0,function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="string"==typeof e?(t??=new TextEncoder).encode(e):e,i=r+0x165667b1|0,a=0;if(n.length>=16){let e=[r+0x9e3779b1+0x85ebca77|0,r+0x85ebca77|0,r+0|0,r-0x9e3779b1|0],t=n.length-16,l=0;for(a=0;(0xfffffff0&a)<=t;a+=4){let t=a,r=0x85ebca77*(n[t+0]+(n[t+1]<<8))+((n[t+2]+(n[t+3]<<8))*0x85ebca77<<16),i=e[l]+r|0,o=65535&(i=i<<13|i>>>19),s=i>>>16;e[l]=0x9e3779b1*o+(0x9e3779b1*s<<16)|0,l=l+1&3}i=(e[0]<<1|e[0]>>>31)+(e[1]<<7|e[1]>>>25)+(e[2]<<12|e[2]>>>20)+(e[3]<<18|e[3]>>>14)|0}i=i+n.length|0;let l=n.length-4;for(;a<=l;a+=4){let e=a;i=(65535&(i=(i=i+(0xc2b2ae3d*(n[e+0]+(n[e+1]<<8))+((n[e+2]+(n[e+3]<<8))*0xc2b2ae3d<<16))|0)<<17|i>>>15))*0x27d4eb2f+((i>>>16)*0x27d4eb2f<<16)|0}for(;a<n.length;++a)i+=0x165667b1*n[a],i=(65535&(i=i<<11|i>>>21))*0x9e3779b1+((i>>>16)*0x9e3779b1<<16)|0;return i^=i>>>15,i=((65535&i)*0x85ebca77|0)+((i>>>16)*0x85ebca77<<16),i^=i>>>13,i=((65535&i)*0xc2b2ae3d|0)+((i>>>16)*0xc2b2ae3d<<16),(i^=i>>>16)<0?i+0x100000000:i}])},5467025,e=>{"use strict";var t=e.i(847684),r=e.i(7185353),n=e.i(8238875),i=e.i(6062041);let a=(0,r.createContext)({hoveredRow:void 0,setHoveredRow:()=>{},hoveredTimestamp:void 0,setHoveredTimestamp:()=>{},getColor:()=>"transparent",registerColorKeys:()=>{}});a.displayName="ObservabilityChartContext",e.s(["ObservabilityChartContextProvider",0,function(e){let{children:l}=e,[o,s]=(0,r.useState)(void 0),[u,c]=(0,r.useState)(void 0),[d,f]=(0,r.useState)(new Map),m=(0,n.usePathname)(),h=(0,r.useCallback)((e,t)=>{let r=(d.get(e)||[]).indexOf(t);return -1===r?"transparent":(0,i.indexToColor)(r)},[d]),p=(0,r.useCallback)((e,t)=>{let r=d.get(e)||[],n=[];for(let e of t)-1===r.indexOf(e)&&n.push(e);n.length&&f(t=>new Map(t).set(e,[...r,...n]))},[d,f]),y=(0,r.useMemo)(()=>({hoveredRow:o,setHoveredRow:s,hoveredTimestamp:u,setHoveredTimestamp:c,getColor:h,registerColorKeys:p}),[o,u,h,p]);return(0,r.useEffect)(()=>{s(void 0),c(void 0)},[m]),(0,t.jsx)(a.Provider,{value:y,children:l})},"useObservabilityChartContext",0,function(){return(0,r.useContext)(a)}])},5297450,e=>{"use strict";var t=e.i(7185353),r=e.i(854682);let n=(0,t.createContext)(!1);n.displayName="ShowDemoDataContext";let i=()=>(0,t.useContext)(n);e.s(["ShowDemoDataContext",0,n,"useShouldShowDemoData",0,()=>{let{hasObservabilityPlusAccess:e}=(0,r.useHasObservabilityPlus)();return i()&&!e},"useShowDemoDataContext",0,i])},6717525,2706633,e=>{"use strict";var t=e.i(7185353),r=e.i(1033082),n=e.i(7363883),i=e.i(4150987),a=e.i(8040455),l=e.i(3007284),o=e.i(9925085),s=e.i(643843),u=e.i(9347560),c=e.i(5237556),d=e.i(1567081),f=e.i(3808395),m=e.i(9088781),h=e.i(6586071),p=e.i(3096764),y=["type","layout","connectNulls","ref"],v=["key"];function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(){return(b=Object.assign.bind()).apply(this,arguments)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(C=function(){return!!e})()}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}var T=function(e){var h,w;function k(){var e,t,r;if(!(this instanceof k))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=k,r=[].concat(i),t=j(t),E(e=function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,C()?Reflect.construct(t,r||[],j(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0,totalLength:0}),E(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),E(e,"getStrokeDasharray",function(t,r,n){var i=n.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(r,t);for(var a=Math.floor(t/i),l=t%i,o=r-t,s=[],u=0,c=0;u<n.length;c+=n[u],++u)if(c+n[u]>l){s=[].concat(S(n.slice(0,u)),[l-c]);break}var d=s.length%2==0?[0,o]:[o];return[].concat(S(k.repeat(n,a)),S(s),d).map(function(e){return"".concat(e,"px")}).join(", ")}),E(e,"id",(0,f.uniqueId)("recharts-line-")),E(e,"pathRef",function(t){e.mainCurve=t}),E(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),E(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return k.prototype=Object.create(e&&e.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),e&&D(k,e),h=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,a=n.xAxis,l=n.yAxis,o=n.layout,s=n.children,c=(0,m.findAllByType)(s,d.ErrorBar);if(!c)return null;var f=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,p.getValueByDataKey)(e.payload,t)}};return t.default.createElement(u.Layer,{clipPath:e?"url(#clipPath-".concat(r,")"):null},c.map(function(e){return t.default.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:a,yAxis:l,layout:o,dataPointFormatter:f})}))}},{key:"renderDots",value:function(e,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.dot,l=i.points,o=i.dataKey,s=(0,m.filterProps)(this.props,!1),c=(0,m.filterProps)(a,!0),d=l.map(function(e,t){var r=O(O(O({key:"dot-".concat(t),r:3},s),c),{},{value:e.value,dataKey:o,cx:e.x,cy:e.y,index:t,payload:e.payload});return k.renderDotItem(a,r)}),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return t.default.createElement(u.Layer,b({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,r,n,i){var a=this.props,l=a.type,s=a.layout,u=a.connectNulls,c=(a.ref,x(a,y)),d=O(O(O({},(0,m.filterProps)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:l,layout:s,connectNulls:u});return t.default.createElement(o.Curve,b({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var i=this,a=this.props,l=a.points,o=a.strokeDasharray,s=a.isAnimationActive,u=a.animationBegin,c=a.animationDuration,d=a.animationEasing,m=a.animationId,h=a.animateNewValues,p=a.width,y=a.height,v=this.state,g=v.prevPoints,x=v.totalLength;return t.default.createElement(r.default,{begin:u,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var r,a=t.t;if(g){var s=g.length/l.length,u=l.map(function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],i=(0,f.interpolateNumber)(n.x,e.x),l=(0,f.interpolateNumber)(n.y,e.y);return O(O({},e),{},{x:i(a),y:l(a)})}if(h){var o=(0,f.interpolateNumber)(2*p,e.x),u=(0,f.interpolateNumber)(y/2,e.y);return O(O({},e),{},{x:o(a),y:u(a)})}return O(O({},e),{},{x:e.x,y:e.y})});return i.renderCurveStatically(u,e,n)}var c=(0,f.interpolateNumber)(0,x)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});r=i.getStrokeDasharray(c,x,d)}else r=i.generateSimpleStrokeDasharray(x,c);return i.renderCurveStatically(l,e,n,{strokeDasharray:r})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,i=r.isAnimationActive,l=this.state,o=l.prevPoints,s=l.totalLength;return i&&n&&n.length&&(!o&&s>0||!(0,a.default)(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,r=this.props,n=r.hide,a=r.dot,o=r.points,s=r.className,d=r.xAxis,f=r.yAxis,h=r.top,p=r.left,y=r.width,v=r.height,g=r.isAnimationActive,x=r.id;if(n||!o||!o.length)return null;var b=this.state.isAnimationFinished,w=1===o.length,O=(0,l.default)("recharts-line",s),S=d&&d.allowDataOverflow,k=f&&f.allowDataOverflow,A=S||k,C=(0,i.default)(x)?this.id:x,j=null!=(e=(0,m.filterProps)(a,!1))?e:{r:3,strokeWidth:2},D=j.r,E=j.strokeWidth,P=((0,m.hasClipDot)(a)?a:{}).clipDot,T=void 0===P||P,N=2*(void 0===D?3:D)+(void 0===E?2:E);return t.default.createElement(u.Layer,{className:O},S||k?t.default.createElement("defs",null,t.default.createElement("clipPath",{id:"clipPath-".concat(C)},t.default.createElement("rect",{x:S?p:p-y/2,y:k?h:h-v/2,width:S?y:2*y,height:k?v:2*v})),!T&&t.default.createElement("clipPath",{id:"clipPath-dots-".concat(C)},t.default.createElement("rect",{x:p-N/2,y:h-N/2,width:y+N,height:v+N}))):null,!w&&this.renderCurve(A,C),this.renderErrorBar(A,C),(w||a)&&this.renderDots(A,T,C),(!g||b)&&c.LabelList.renderCallByParent(this.props,o))}}],w=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(S(e),[0]):e,n=[],i=0;i<t;++i)n=[].concat(S(n),S(r));return n}},{key:"renderDotItem",value:function(e,r){var i;if(t.default.isValidElement(e))i=t.default.cloneElement(e,r);else if((0,n.default)(e))i=e(r);else{var a=r.key,o=x(r,v),u=(0,l.default)("recharts-line-dot","boolean"!=typeof e?e.className:"");i=t.default.createElement(s.Dot,b({key:a},o,{className:u}))}return i}}],h&&A(k.prototype,h),w&&A(k,w),Object.defineProperty(k,"prototype",{writable:!1}),k}(t.PureComponent);E(T,"displayName","Line"),E(T,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!h.Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),E(T,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,o=e.dataKey,s=e.bandSize,u=e.displayedData,c=e.offset,d=t.layout;return O({points:u.map(function(e,t){var u=(0,p.getValueByDataKey)(e,o);return"horizontal"===d?{x:(0,p.getCateCoordinateOfLine)({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:(0,i.default)(u)?null:n.scale(u),value:u,payload:e}:{x:(0,i.default)(u)?null:r.scale(u),y:(0,p.getCateCoordinateOfLine)({axis:n,ticks:l,bandSize:s,entry:e,index:t}),value:u,payload:e}}),layout:d},c)}),e.s(["Line",0,T],6717525);var N=e.i(1500826),M=e.i(994464),R=e.i(7164130),L=e.i(3509259),I=(0,N.generateCategoricalChart)({chartName:"LineChart",GraphicalChild:T,axisComponents:[{axisType:"xAxis",AxisComp:M.XAxis},{axisType:"yAxis",AxisComp:R.YAxis}],formatAxisMap:L.formatAxisMap});e.s(["LineChart",0,I],2706633)},1813317,e=>{"use strict";var t=e.i(7557283),r=e.i(1283928);e.s(["canAccessDimension",0,function(e){let{dimension:t,team:n,can:i,isSeawallFlagged:a,isFirewallFlagged:l}=e,o=r.AllDimensions[t];return!(o.restrictions?.some(e=>{let[t,r]=e;return!i(t,r)})||"clientIp"===t&&n.hideIpAddresses||"wafAction"===t&&!a&&!l||["wafRuleId","clientJa4Digest","clientIpCountry"].includes(t)&&!l)},"canAccessEvent",0,function(e){let{event:n,team:i,can:a}=e,l=r.AllEvents[n];return!l.restrictions?.some(e=>{let[t,r]=e;return!a(t,r)})&&("blockedConnection"!==n||!!(i.permissions?.ipBlocking?.includes(t.Action.List)&&i.permissions.domain?.includes(t.Action.List)))},"canAccessMeasure",0,function(e){let{measure:t}=e;return!0},"getAggregableMeasures",0,e=>Object.keys(r.AllMeasures).filter(t=>{let n=r.AllMeasures[t];return"canAggregate"in n&&(Array.isArray(n.canAggregate)?n.canAggregate.includes(e):n.events.includes(e))}),"getGroupableDimensions",0,e=>Object.keys(r.AllDimensions).filter(t=>{let n=r.AllDimensions[t];return"canGroupBy"in n&&n.events.includes(e)})])},9486194,e=>{"use strict";e.s(["queryBuilderEvents",0,["incomingRequest","imageTransformation","isrOperation","serverlessFunctionInvocation","middlewareInvocation","outgoingRequest","aiGatewayRequest","blockedConnection","firewallAction","botIdCheck","edgeFunctionInvocation"],"staticDimensionValues",0,[{dimensions:["environment"],values:[{id:"production",label:"Production"},{id:"preview",label:"Preview"}]},{dimensions:["requestMethod"],values:[{id:"GET"},{id:"POST"},{id:"PUT"},{id:"DELETE"},{id:"PATCH"},{id:"HEAD"},{id:"OPTIONS"},{id:"PROPFIND"},{id:"TRACE"},{id:"CONNECT"},{id:"PROPPATCH"},{id:"MKCOL"},{id:"COPY"},{id:"MOVE"},{id:"LOCK"},{id:"UNLOCK"}]},{dimensions:["httpStatus"],values:[{id:100},{id:101},{id:102},{id:103},{id:200},{id:201},{id:202},{id:203},{id:204},{id:205},{id:206},{id:207},{id:208},{id:226},{id:300},{id:301},{id:302},{id:303},{id:304},{id:305},{id:306},{id:307},{id:308},{id:400},{id:401},{id:402},{id:403},{id:404},{id:405},{id:406},{id:407},{id:408},{id:409},{id:410},{id:411},{id:412},{id:413},{id:414},{id:415},{id:416},{id:417},{id:418},{id:421},{id:422},{id:423},{id:424},{id:425},{id:426},{id:428},{id:429},{id:431},{id:451},{id:500},{id:501},{id:502},{id:503},{id:504},{id:505},{id:506},{id:507},{id:508},{id:510},{id:511}]},{dimensions:["edgeNetworkRegion","functionRegion","imageTransformationRegion","isrShieldRegion"],values:[{id:"sfo1",label:"San Francisco, USA"},{id:"bom1",label:"Mumbai, India"},{id:"sin1",label:"Singapore"},{id:"fra1",label:"Frankfurt, Germany"},{id:"iad1",label:"Washington D.C., USA"},{id:"cdg1",label:"Paris, France"},{id:"hkg1",label:"Hong Kong, China"},{id:"gru1",label:"SÃ£o Paulo, Brazil"},{id:"arn1",label:"Stockholm, Sweden"},{id:"cle1",label:"Cleveland, USA"},{id:"cpt1",label:"Cape Town, South Africa"},{id:"dub1",label:"Dublin, Ireland"},{id:"dxb1",label:"Dubai, UAE"},{id:"hnd1",label:"Tokyo, Japan"},{id:"icn1",label:"Seoul, South Korea"},{id:"kix1",label:"Osaka, Japan"},{id:"lhr1",label:"London, UK"},{id:"pdx1",label:"Portland, USA"},{id:"syd1",label:"Sydney, Australia"}]},{dimensions:["cacheResult"],values:[{id:"HIT"},{id:"MISS"},{id:"BYPASS"},{id:"STALE"},{id:"REVALIDATED"},{id:"PRERENDER"}]},{dimensions:["wafAction"],values:[{id:"log",label:"LOG"},{id:"bypass",label:"BYPASS"},{id:"challenge",label:"CHALLENGE"},{id:"challenge-solved",label:"CHALLENGE_SOLVED"},{id:"challenge-failed",label:"CHALLENGE_FAILED"},{id:"deny",label:"DENY"},{id:"rate_limit",label:"RATE_LIMIT"},{id:"redirect",label:"REDIRECT"},{id:"allow",label:"ALLOW"}]},{dimensions:["skewProtection"],values:[{id:"active"},{id:"inactive"}]},{dimensions:["functionStartType"],values:[{id:"hot",label:"HOT"},{id:"cold",label:"COLD"},{id:"prewarmed",label:"PREWARMED"},{id:"unknown",label:"UNKNOWN"}]}]])},9179929,e=>{"use strict";var t=e.i(2749380),r=e.i(1233856),n=e.i(7185353),i=e.i(5778089);e.s(["useLast",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.useMemo)(()=>{if(!e?.data)return null;let{value:r="value",filter:n}=t,i="string"==typeof r?e=>e[r]??null:r;for(let t=e.data.length-1;t>=0;t--){if(n&&!n(e.data[t]))continue;let r=i(e.data[t]);if(null!==r)return r}return null},[e?.data,t])},"useSum",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.useMemo)(()=>{if(!e?.summary)return null;let{value:r="value",filter:n}=t,i=e.summary;return(n&&(i=i.filter(n)),"function"==typeof r)?i.reduce((e,t)=>e+(r(t)??0),0):i.reduce((e,t)=>e+(t[r]??0),0)},[e?.summary,t])},"useTableData",0,function(e){let{enrich:i,meta:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,n.useMemo)(()=>{if(!e?.summary)return null;let n=a?.timeseries?.by??[],l=a?.timeseries?.lowGranularity,o=a?.timeseries?.granularity,s=i?e.summary.map(e=>({...e,...i(e)})):e.summary,u=i?e.data?.map(e=>({...e,...i(e)})):e.data,c=n.length>0&&u?u.reduce((e,t)=>{let r=n.map(e=>t[e]).join(",");return e[r]??=[],e[r].push(t),e},{}):{};if(n.length>0&&u){let e=o||(()=>{if(!u.length)return{minutes:1};let e=u.map(e=>new Date(e.timestamp).getTime()),r=Math.min(...e),n=Math.max(...e);return(0,t.getGranularityFromDuration)(n-r,l)})();Object.keys(c).forEach(t=>{let i=c[t];if(0===i.length)return;let a={};i.forEach(t=>{let n=new Date(t.timestamp),i=(0,r.startOfDuration)(n,e).toISOString();a[i]??=[],a[i].push(t)});let l=[];Object.entries(a).forEach(e=>{let[t,r]=e;if(0===r.length)return;let i={...r[0],timestamp:t};Object.keys(r[0]).filter(e=>"number"==typeof r[0][e]&&!n.includes(e)).forEach(e=>{i[e]=r.reduce((t,r)=>t+(r[e]||0),0)}),l.push(i)}),c[t]=l})}let d={};for(let e of s)for(let t in e)"number"==typeof e[t]&&(!d[t]||e[t]>d[t])&&(d[t]=e[t]);let f=Object.keys(d);return s.map(e=>{let t={},r=n.length>0?n.map(t=>e[t]).join(","):null;if(r){let e=c[r];for(let r of f)e&&(t[r]=e.map(e=>({date:e.timestamp,value:e[r]})))}return e.meta={maxValue:d,timeseries:t},e})},[e?.data,e?.summary,a?.timeseries?.by,a?.timeseries?.lowGranularity,a?.timeseries?.granularity,i,...l])},"useTimeseriesData",0,function(e,t){return(0,n.useMemo)(()=>{if(!e?.data)return null;let r={};if("singleCategoryName"in t){let{singleCategoryName:r,rollupName:n="value"}=t;return e.data.map(e=>{let{timestamp:t,...i}=e;return{name:t.toISOString(),[r]:i[n]}})}if("rollupCategories"in t){let{rollupCategories:n,filter:i}=t;e.data.forEach(e=>{if(i&&!i(e))return;let t=e.timestamp.toISOString();Object.entries(n).forEach(n=>{let[i,a]=n,l=e[i]??null;r[t]??={name:t};let o=r[t][a]??null;r[t][a]=null!==l?(o??0)+l:o})})}else{let{category:n,value:a="value",filter:l}=t,o="string"==typeof n?e=>e[n]:n,s="string"==typeof a?e=>e[a]??null:a;e.data.forEach(e=>{if(l&&!l(e))return;let t=e.timestamp.toISOString(),n=o(e)||i.emptyStringReplacement,a=s(e);r[t]??={name:t};let u=r[t][n]??null;r[t][n]=null!==a?(u??0)+a:u})}return Object.values(r)},[e?.data,t])}])},5182595,639493,e=>{"use strict";var t=e.i(847684),r=e.i(3868422),n=e.i(516467);function i(e){return+(0,n.toDate)(e)}var a=e.i(268049),l=e.i(3333777),o=e.i(4616527),s=e.i(7712782),u=e.i(931197),c=e.i(5467025),d=e.i(5297450),f=e.i(6062041);e.i(7286972);var m=e.i(5693388),h=e.i(7185353),p=e.i(4337458),y=e.i(8151845),v=e.i(7797615),g=e.i(2749380),x=e.i(7917902),b=e.i(2504781),w=e.i(3973638),O=e.i(6143247),S=e.i(5417900),k=e.i(2457239),A=e.i(7363883),C=e.i(8390034),j=e.i(3808395),D=e.i(9088781),E=e.i(3096764),P=e.i(7720946),T=e.i(594678),N=e.i(1963084),M=["x1","y1","x2","y2","key"],R=["offset"];function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(){return(z=Object.assign.bind()).apply(this,arguments)}function K(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var B=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,i=e.y,a=e.width,l=e.height,o=e.ry;return h.default.createElement("rect",{x:n,y:i,ry:o,width:a,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function G(e,t){var r;if(h.default.isValidElement(e))r=h.default.cloneElement(e,t);else if((0,A.default)(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,l=t.y2,o=t.key,s=K(t,M),u=(0,D.filterProps)(s,!1),c=(u.offset,K(u,R));r=h.default.createElement("line",z({},c,{x1:n,y1:i,x2:a,y2:l,fill:"none",key:o}))}return r}function H(e){var t=e.x,r=e.width,n=e.horizontal,i=void 0===n||n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(n,a){return G(i,F(F({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a}))});return h.default.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function V(e){var t=e.y,r=e.height,n=e.vertical,i=void 0===n||n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(n,a){return G(i,F(F({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a}))});return h.default.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function W(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,l=e.height,o=e.horizontalPoints,s=e.horizontal;if(!(void 0===s||s)||!t||!t.length)return null;var u=o.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var c=u.map(function(e,o){var s=u[o+1]?u[o+1]-e:i+l-e;if(s<=0)return null;var c=o%t.length;return h.default.createElement("rect",{key:"react-".concat(o),y:e,x:n,height:s,width:a,stroke:"none",fill:t[c],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.default.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function U(e){var t=e.vertical,r=e.verticalFill,n=e.fillOpacity,i=e.x,a=e.y,l=e.width,o=e.height,s=e.verticalPoints;if(!(void 0===t||t)||!r||!r.length)return null;var u=s.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var c=u.map(function(e,t){var s=u[t+1]?u[t+1]-e:i+l-e;if(s<=0)return null;var c=t%r.length;return h.default.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:s,height:o,stroke:"none",fill:r[c],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.default.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var $=function(e,t){var r=e.xAxis,n=e.width,i=e.height,a=e.offset;return(0,E.getCoordinatesOfGrid)((0,P.getTicks)(F(F(F({},T.CartesianAxis.defaultProps),r),{},{ticks:(0,E.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},q=function(e,t){var r=e.yAxis,n=e.width,i=e.height,a=e.offset;return(0,E.getCoordinatesOfGrid)((0,P.getTicks)(F(F(F({},T.CartesianAxis.defaultProps),r),{},{ticks:(0,E.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},_=[],Y=[];function Q(e){var t,r,n,i,a,l,o=(0,N.useChartWidth)(),s=(0,N.useChartHeight)(),u=(0,N.useOffset)(),c=F(F({},e),{},{stroke:null!=(t=e.stroke)?t:"#ccc",fill:null!=(r=e.fill)?r:"none",horizontal:null==(n=e.horizontal)||n,horizontalFill:null!=(i=e.horizontalFill)?i:Y,vertical:null==(a=e.vertical)||a,verticalFill:null!=(l=e.verticalFill)?l:_,x:(0,j.isNumber)(e.x)?e.x:u.left,y:(0,j.isNumber)(e.y)?e.y:u.top,width:(0,j.isNumber)(e.width)?e.width:u.width,height:(0,j.isNumber)(e.height)?e.height:u.height}),d=c.x,f=c.y,m=c.width,p=c.height,y=c.syncWithTicks,v=c.horizontalValues,g=c.verticalValues,x=(0,N.useArbitraryXAxis)(),b=(0,N.useYAxisWithFiniteDomainOrRandom)();if(!(0,j.isNumber)(m)||m<=0||!(0,j.isNumber)(p)||p<=0||!(0,j.isNumber)(d)||d!==+d||!(0,j.isNumber)(f)||f!==+f)return null;var w=c.verticalCoordinatesGenerator||$,O=c.horizontalCoordinatesGenerator||q,S=c.horizontalPoints,k=c.verticalPoints;if((!S||!S.length)&&(0,A.default)(O)){var D=v&&v.length,E=O({yAxis:b?F(F({},b),{},{ticks:D?v:b.ticks}):void 0,width:o,height:s,offset:u},!!D||y);(0,C.warn)(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(L(E),"]")),Array.isArray(E)&&(S=E)}if((!k||!k.length)&&(0,A.default)(w)){var P=g&&g.length,T=w({xAxis:x?F(F({},x),{},{ticks:P?g:x.ticks}):void 0,width:o,height:s,offset:u},!!P||y);(0,C.warn)(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(L(T),"]")),Array.isArray(T)&&(k=T)}return h.default.createElement("g",{className:"recharts-cartesian-grid"},h.default.createElement(B,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),h.default.createElement(H,z({},c,{offset:u,horizontalPoints:S,xAxis:x,yAxis:b})),h.default.createElement(V,z({},c,{offset:u,verticalPoints:k,xAxis:x,yAxis:b})),h.default.createElement(W,z({},c,{horizontalPoints:S})),h.default.createElement(U,z({},c,{verticalPoints:k})))}Q.displayName="CartesianGrid";var X=e.i(9156474),J=e.i(6717525),Z=e.i(2706633),ee=e.i(9655063),et=e.i(6541294),er=e.i(4327554),en=e.i(8919966),ei=e.i(994464),ea=e.i(7164130),el=e.i(8690335);function eo(e,t){if(!e?.length)return()=>null;let r=e.map(e=>e[t]).filter(e=>"number"==typeof e&&!Number.isNaN(e));return r.length?e=>{switch(e){case"sum":return r.reduce((e,t)=>e+t,0);case"avg":return r.reduce((e,t)=>e+t,0)/r.length;case"max":return Math.max(...r);case"min":return Math.min(...r);case"first":return r[0];case"lastComplete":return r[r.length-2];case"last":return r[r.length-1]}}:()=>null}e.s(["createRollupCalculator",0,eo],639493);var es=e.i(3351543),eu=e.i(5406549),ec=e.i(4597921);function ed(e){let{value:r,color:n,label:i,highlight:a}=e;return(0,t.jsxs)("div",{className:(0,O.cn)("flex flex-1 items-center gap-x-2 rounded-sm px-2 py-0.5",!1===a?"opacity-50":null),children:[(0,t.jsx)("div",{className:"size-1.5 rounded-full",style:{backgroundColor:n}}),(0,t.jsxs)("div",{className:"flex flex-1 justify-between gap-x-2",children:[(0,t.jsx)("span",{children:i})," ",(0,t.jsx)("span",{className:"font-medium tabular-nums",children:r})]})]})}function ef(e){let{payload:r,label:n,ref:i,getColor:a,contentOverride:o,secondaryYAxisKeys:s,formatValue:u,formatSecondaryValue:c,formatName:d,hoverValue:f,intervalMs:m,hideZeroValuesInTooltip:p}=e,y=r?.[0]?.payload?.name,v=new Date(y||"Invalid date"),g=(0,h.useMemo)(()=>{let e=(0,es.filterPayload)(r),t=p?e.filter(e=>("number"==typeof e.value?e.value:0)>0):e;return(t.length>=6?t.toSorted((e,t)=>{if("Others"===e.dataKey)return 1;if("Others"===t.dataKey)return -1;let r="number"==typeof e.value?e.value:-1/0,n="number"==typeof t.value?t.value:-1/0;return n!==r?n-r:String(e.name).localeCompare(String(t.name))}):t.toSorted((e,t)=>"Others"===e.dataKey?1:"Others"===t.dataKey?-1:0)).slice(0,15)},[r,p]);return g.length?(0,t.jsxs)("div",{className:"pointer-events-none flex max-h-80 max-w-lg min-w-44 flex-col rounded bg-background-100 text-xs shadow-tooltip mt-2",ref:i,children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-hidden p-1.5 pb-0",children:(0,t.jsx)("div",{className:"flex flex-col gap-0.5",children:o??g.map(e=>{let r=s?.includes(e.dataKey)?c:u;return(0,t.jsx)(ed,{color:a(String(e.dataKey)),highlight:f?f===e.dataKey:null,label:e.dataKey?.toString()||"Not set",value:r&&"number"==typeof e.value?r(e.value,"tooltip"):`${e.value?.toString()}`},e.dataKey)})})}),(0,t.jsx)("div",{className:"flex flex-col gap-1.5 shrink-0 p-1.5 pt-1 text-center",children:d?d(y):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-800",children:(0,l.formatDateRange)(v,new Date(v.getTime()+m))}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,l.formatDateRange)(v,new Date(v.getTime()+m),{timezone:"UTC"})," ","UTC"]})]})})]},`ts-${n}`):null}function em(e){let{coordinate:r,label:n,viewBox:i,offset:a,ref:l}=e,s=new Date(n).toLocaleString(void 0,{hour:"numeric",minute:"2-digit",second:"numeric",day:"numeric",month:"2-digit",year:"2-digit"});return(0,t.jsx)(o.Tooltip,{className:"pointer-events-none absolute w-[18ch] bg-transparent bg-none",left:r?.x,ref:l,top:(i.top??0)+(i.height??0)-(a??0)-14,unstyled:!0,children:(0,t.jsx)("span",{className:"absolute flex h-[28px] -translate-x-1/2 items-center justify-center rounded-full border bg-gray-1000 px-2 text-xs font-[400] text-white",children:s})})}function eh(e){let{onZoomIn:n,onAnalyze:i,timestampLeft:a,timestampRight:o,ref:s}=e;return(0,t.jsx)("div",{className:"point items-center rounded bg-background-100 px-0.5 py-1 text-xs shadow-tooltip",ref:s,children:(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 p-2",children:[a&&o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:(0,l.formatDateRange)(new Date(a),new Date(o))}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,l.formatDateRange)(new Date(a),new Date(o),{timezone:"UTC"})," ","UTC"]}),(0,t.jsx)("span",{className:"text-center text-gray-900",children:(0,r.formatDistance)(new Date(a),new Date(o))})]}):null,n?(0,t.jsx)(b.Button,{className:"!h-6 !text-xs",onClick:n,size:"small",children:"Zoom In"}):null,i?(0,t.jsx)(b.Button,{className:"!h-6 !text-xs",onClick:i,size:"small",children:"Analyze"}):null]})})}function ep(){return null}function ey(e){return{position:"top",fontSize:10,fontWeight:500,...e}}function ev(e,r,n){let[i,a]=r;if(n<2)return(0,t.jsxs)("linearGradient",{id:e,x1:"0",y1:"0",x2:"100%",y2:"0",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:i}),(0,t.jsx)("stop",{offset:"100%",stopColor:a})]});let l=`${(n-2)*100/(n-1)}%`;return(0,t.jsxs)("linearGradient",{id:e,x1:"0",y1:"0",x2:"100%",y2:"0",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:i}),(0,t.jsx)("stop",{offset:l,stopColor:i}),(0,t.jsx)("stop",{offset:l,stopColor:a}),(0,t.jsx)("stop",{offset:"100%",stopColor:a})]})}e.s(["LineChart",0,function(e){var r;let n,o,{data:b,title:O,isLoading:A,syncId:C="sonar",disableLegend:j,renderCustomLegend:D,lineType:E="linear",formatValue:P=v.formatNumberCompact,formatAxisValue:T,formatXAxisValue:N,formatSecondaryValue:M=P,yAxisDomain:R,scale:L="linear",categories:I,showRollup:F=!1,placeholderKeys:z=[],secondaryYAxisKeys:K,rollupConfig:B,headerHeight:G,hideXAxis:H=!1,hideYAxis:V=!1,hideTooltip:W=!1,hideGrid:U=!1,allowTooltipEscape:$=!1,builderQuery:q,agentWorkflow:_="observability-investigation",customChartContent:Y,onZoomIn:ed,disableZoom:eg=!1,maxLines:ex=20,xTickCount:eb=2,yTickCount:ew=3,isRelativeTime:eO=!1,tooltipStyle:eS="value-list",granularity:ek,sonarQueryResults:eA,yAxisWidth:eC,marginLeft:ej,hideZeroValuesInTooltip:eD=!1}=e;if("log"===L&&!R)throw Error("yAxisDomain is required when using a log scale");let eE=(n=(0,ec.useServerFlag)("enable-observability-agent",!1),o=(0,ec.useServerFlag)("enable-firewall-agent",!1),"observability-investigation"===_?n:"firewall-investigation"===_&&o),eP=(0,h.useRef)(null),eT=(0,h.useRef)(null),[,eN]=(0,y.useSonarQueryState)(),eM=(0,c.useObservabilityChartContext)(),eR=(0,p.useSonarQueryScope)(),eL=(0,d.useShowDemoDataContext)(),eI=(0,h.useMemo)(()=>!!(q&&eR&&eE),[q,eR,eE]),eF=!eg&&b.length>0,ez=eF||eI,[eK,eB]=(0,h.useState)(!1),eG=(0,h.useRef)(!1),[eH,eV]=(0,h.useState)([]),[eW,eU]=(0,h.useState)(null),[e$,eq]=(0,h.useState)(null),[e_,eY]=(0,h.useState)(null),[eQ,eX]=(0,h.useState)(null),eJ=(0,h.useCallback)((e,t)=>eU([e,t]),[eU]),{handleMouseDown:eZ,isDragging:e0,refAreaLeft:e1,refAreaRight:e2,mouseX:e5}=function(e,t,r){let[n,i]=(0,h.useState)(!1),a=(0,h.useRef)(!1),[l,o]=(0,h.useState)(null),[s,u]=(0,h.useState)(null),[c,d]=(0,h.useState)(null),f=(0,h.useRef)(null),m=(0,h.useRef)(null),p=(0,h.useRef)(null),y=(0,h.useRef)(null),v=(0,h.useCallback)(r=>{if(!e.current)return null;let n=e.current.getBoundingClientRect(),i=n.left+50,a=n.width-70,l=r-i;return{index:Math.max(0,Math.min(Math.floor(Math.max(0,Math.min(1,(l-l/a*15)/a))*(t-1)),t-1)),mouseX:Math.max(50,Math.min(a+50,l+50))}},[e,t]),g=(0,h.useCallback)(e=>{if(!a.current)return;let t=v(e.clientX);null!==t&&(u(t.index),d(t.mouseX),m.current=t.index)},[v]),x=(0,h.useCallback)(()=>{if(a.current){let e=f.current,t=m.current;if(null===e||null===t)a.current=!1,i(!1),o(null),u(null);else{let n={start:Math.min(e,t),end:Math.max(e,t)};r(n.start,n.end),a.current=!1,i(!1),o(null),u(null)}d(null)}p.current&&(window.removeEventListener("mousemove",p.current),p.current=null),y.current&&(window.removeEventListener("mouseup",y.current),y.current=null)},[r]),b=(0,h.useCallback)(e=>{a.current=!0,i(!0),d(null),o(e?.activeTooltipIndex??null),f.current=e?.activeTooltipIndex??null,m.current=null,p.current=g,y.current=x,window.addEventListener("mousemove",p.current),window.addEventListener("mouseup",y.current)},[g,x]);return(0,h.useEffect)(()=>()=>{p.current&&window.removeEventListener("mousemove",p.current),y.current&&window.removeEventListener("mouseup",y.current)},[]),{handleMouseDown:b,isDragging:n,refAreaLeft:l,refAreaRight:s,mouseX:c}}(eP,b.length,eJ),e3=(0,h.useCallback)(e=>{ez&&(eU(null),eZ(e))},[eZ,ez]),e4=(0,h.useCallback)(()=>{eq(null),eY(null),eG.current=!1,eB(!1),eM.setHoveredRow?.(void 0),eM.setHoveredTimestamp?.(void 0)},[eM]),e7=null!==e1?b[e1]:eW?b[eW[0]]:null,e6=null!==e2?b[e2]:eW?b[eW[1]]:null,e8=N?e=>N(new Date(e)):e=>{let t=new Date(e);return eO?(0,s.ago)(Date.now()-t.getTime()):(0,m.formatWithGranularity)(t,u.Granularity.Hour,!0)},e9=(0,h.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&eU(null)},[]);r=()=>e9(!0),(0,h.useEffect)(()=>{function e(e){"Escape"===e.key&&r()}return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[r]);let te=(0,h.useCallback)(()=>{if(!e7||!e6)return;let e={from:new Date(e7.name),to:new Date(e6.name)};ed?ed(e):eN(e),e9(!0)},[e7,e6,e9,eN,ed]),tt=(0,h.useMemo)(()=>function(e){if("payload"in e&&null===e.payload[e.dataKey])return null;let r=b[e.index-1]?.[e.dataKey],n=b[e.index+1]?.[e.dataKey];return null==r&&null==n?(0,t.jsx)("circle",{cx:e.cx,cy:e.cy,fill:e.fill,fillOpacity:e.strokeWidth,r:e.strokeWidth},e.key):null},[b]),tr=(0,h.useMemo)(()=>{let e=new Date,t=b.length-1;for(;t>=0&&new Date(b[t].name)>e;)t--;return t>=0?b.slice(0,t+1):[]},[b]),tn=(0,h.useMemo)(()=>{let e=new Set;for(let t of tr)for(let r of Object.keys(t))"name"!==r&&e.add(r);return Array.from(e)},[tr]),ti=I||(0!==tr.length?tn:z),ta=ti.some(e=>e===eM.hoveredRow?.value),tl=(0,h.useMemo)(()=>"string"==typeof e.getColor?t=>eM.getColor(e.getColor,t):e.getColor??f.nameToColor,[e.getColor,eM.getColor]),to=(0,h.useMemo)(()=>{let e=[];for(let t of ti)if(!I&&"name"!==t||I){let r=eo(tr,t);e.push({dataKey:t,yAxisId:+!!K?.includes(t),color:tl(t),shouldFade:ta&&void 0!==eM.hoveredRow&&eM.hoveredRow.value!==t,sum:r("sum"),avg:r("avg"),firstValue:r("first"),lastValue:r("lastComplete")})}return e.sort((e,t)=>(e.sum??0)-(t.sum??0)).slice(-ex)},[ti,I,K,tl,tr,ta,eM.hoveredRow,ex]);(0,h.useEffect)(()=>{"string"==typeof e.getColor&&eM.registerColorKeys(e.getColor,to.map(e=>{let{dataKey:t}=e;return t}).reverse())},[e.getColor,to,eM]);let ts=E.startsWith("step"),tu=ts?k.AreaChart:Z.LineChart,tc=ts?S.Area:J.Line,td=40;F||D||G||O?(60===G||F||D)&&(td=60):td=1;let tf=!A&&tr.length>0,tm=(0,h.useMemo)(()=>({start:new Date(eA?.query?.startTime??tr.at(0)?.name??Date.now()),end:new Date(eA?.query?.endTime??tr.at(-1)?.name??Date.now())}),[eA,tr]),{xTicks:th,intervalMs:tp}=(0,h.useMemo)(()=>{let e=!!tr[0],{start:t,end:r}=tm,n=Math.floor(tr.length/(eb-1)),i=(0,a.milliseconds)(ek??(0,g.getGranularityFromDuration)(r.getTime()-t.getTime(),!1)),l=new Date(r.getTime()-i);return{xTicks:e?[...Array.from({length:eb-1},(e,t)=>new Date(tr[t*n].name).toISOString()),l.toISOString()]:[t.toISOString(),l.toISOString()],intervalMs:i}},[eb,tr,ek,tm]),{marks:ty,emptyMessage:tv}=(0,h.useMemo)(()=>{var r,n;let a=e.emptyState??"No data in this time range";if(!eA)return{marks:e.marks??[],emptyMessage:a};if(0===b.length&&eA.query){let{startTime:e,endTime:r,excludedIntervals:n}=eA.query,o=i(e),s=i(r),u=n?.find(e=>{let{start:t,end:r}=e;return t<=o&&s<=r});u&&(a=(0,t.jsxs)("span",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(w.EyeOff,{color:"gray-900"}),(0,t.jsx)("span",{children:"Observability Plus was disabled"}),(0,t.jsxs)("span",{className:"text-xs",children:["from"," ",(0,l.formatDateRange)(new Date(u.start),new Date(u.end),{separator:" to "})]})]}))}return{marks:(r=(e.marks??[]).concat((0,f.excludedIntervalsToMarks)(eA)),n=tp,r.filter(e=>{let{startTime:t,endTime:r}=e;return!r||!t||i(r)-i(t)>=n})),emptyMessage:a}},[eA,e.marks,e.emptyState,b,tp]),tg=(0,h.useCallback)((e,t)=>{let{clientX:r}=t;eX(r),eG.current||(eG.current=!0,eB(!0));try{let t=i(e.activeLabel||"");eM.setHoveredTimestamp?.(Number.isNaN(t)?void 0:new Date(t));let r=!1;for(let e of ty)if("timestamp"in e&&e.timestamp){let n=i(e.timestamp),a=Math.max(3e5,Math.min(72e5,2*tp));if(Math.abs(n-t)<=a){eq(e),r=!0;break}}else if("startTime"in e&&e.startTime&&e.endTime){let n=i(e.startTime),a=i(e.endTime);if(n<=t&&t<=a){eY(e),r=!0;break}}r||(eq(null),eY(null))}catch{}},[eM,ty,e_,tp]),tx=(0,h.useCallback)(e=>tf||R?(T??P)(e,"yaxis").replace(/(?: GB-hrs)/,"").replace(" ",""):"",[T,P,tf,R]),{user:tb,team:tw}=(0,x.useAccount)(),tO=(0,eu.useAIInvestigationsStore)(e=>e.addInvestigation),tS=(0,h.useCallback)(()=>{var e,t,r,n;let i,a;!tb||!tw||q&&e7&&e6&&eR&&(tO({user:{uid:tb.uid,username:tb.username},teamId:tw.id,workflow:_??"observability-investigation",input:(e=q,t=new Date(e7.name),r=new Date(e6.name),n=eR,i=(0,el.toSonarQuery)(e),a=(0,f.getRoundedDateRange)({startTime:t,endTime:r}),{...i,...a,scope:n})}),e9(!0))},[tb,tw,_,tO,q,e7,e6,e9,eR]),tk=(0,h.useMemo)(()=>({left:ej??0,right:0,bottom:+!!V,top:1}),[V,ej]),tA=!!(e0&&e6||eW),tC=(0,h.useMemo)(()=>eT.current&&eQ?eQ<(window.innerWidth||document.documentElement.clientWidth)-(eT.current.getBoundingClientRect().width+20):null,[eQ]);return(0,t.jsxs)("div",{"data-share-dom-copy":"1",className:"relative size-full",children:[(0,t.jsx)(er.ResponsiveContainer,{className:"select-none",height:"100%",ref:eP,width:"100%",children:(0,t.jsxs)(tu,{className:"overflow-visible [&>svg]:overflow-visible",data:A&&0===tr.length?[]:tr,margin:tk,onMouseDown:e3,onMouseMove:tg,onMouseLeave:e4,style:{cursor:W||eg?"default":"crosshair",opacity:A?.35:1,transition:"opacity 0.15s ease-in-out"},...tA?{}:{syncId:C},children:[U?(0,t.jsx)(et.ReferenceLine,{y:0,stroke:"var(--ds-gray-400)",strokeWidth:1,style:{transform:"translateY(0.25px)"}}):(0,t.jsx)(Q,{stroke:"var(--ds-gray-100)",strokeWidth:1,syncWithTicks:!0,vertical:!1}),(0,t.jsx)(ea.YAxis,{axisLine:!1,domain:R||(tf?void 0:[0,10]),hide:V,fontSize:12,scale:L,tickCount:ew,tickFormatter:tx,tickLine:!1,width:eC??50}),void 0!==K?(0,t.jsx)(ea.YAxis,{yAxisId:1,domain:[0,e=>1.4*e],hide:!0}):null,(0,t.jsx)(ei.XAxis,{axisLine:{stroke:"var(--ds-gray-400)"},dataKey:"name",height:"dots"===eS?38:28,hide:H,tick:{fill:"var(--ds-gray-700)",fontSize:"dots"===eS?14:12,fontFamily:"var(--font-sans)"},ticks:th,tickFormatter:e8,tickLine:!1,tickSize:7,tickMargin:"dots"===eS?15:5}),eL||W?null:(0,t.jsx)(en.Tooltip,{animationDuration:0,content:tA?(0,t.jsx)(eh,{onZoomIn:eF?te:void 0,onAnalyze:eI?tS:void 0,ref:eT,timestampLeft:e7?.name,timestampRight:e6?.name}):eK?"value-list"===eS?(0,t.jsx)(ef,{formatValue:P,formatSecondaryValue:M,getColor:tl,hoverValue:ta?eM.hoveredRow?.value:null,intervalMs:tp,ref:eT,secondaryYAxisKeys:K,contentOverride:e_?.tooltipContent,hideZeroValuesInTooltip:eD}):(0,t.jsx)(em,{ref:eT}):(0,t.jsx)(ep,{}),allowEscapeViewBox:tA?void 0:{x:tC||$,y:tC||$},cursor:{stroke:"dots"===eS?"var(--ds-gray-500)":"var(--ds-gray-1000)",strokeDasharray:"dots"===eS?"6,2":void 0,strokeWidth:+(tr.length>0&&!e0&&!eW)},offset:10,position:{y:td,x:!tA&&e5&&tC?e5+10:void 0},trigger:eW?"click":"hover",wrapperStyle:{visibility:"visible",pointerEvents:"auto",zIndex:100}}),to.map(e=>{let{dataKey:r,yAxisId:n,color:i,shouldFade:a}=e,l=Math.floor(1e4*Math.random()),o={animationDuration:0,dataKey:r,fill:i,hide:eH.includes(r),stackId:ts?"a":void 0,strokeWidth:ts?1:1.5,style:{transition:"opacity 0.05s ease-out, background-color 0.05s ease-out",opacity:a?.2:1,backgroundColor:i,fillOpacity:ts&&!a?.15:0},type:E,yAxisId:n,onMouseEnter:()=>{eM.setHoveredRow?.({value:r})},onMouseLeave:()=>{eM.setHoveredRow?.(void 0)}};return(0,t.jsxs)(h.Fragment,{children:[eO?(0,t.jsxs)("defs",{children:[ev(`${l}-line`,[o.fill??"","transparent"],tr.length),ev(`${l}-dash`,["transparent",o.fill??""],tr.length)]}):null,(0,t.jsx)(tc,{activeDot:{r:5,strokeWidth:2*("dots"===eS&&!tA),fill:"dots"!==eS||tA?"transparent":i,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave},dot:tt,stroke:!ts&&eO?`url(#${l}-line)`:i,...o}),!ts&&eO?(0,t.jsx)(tc,{activeDot:!1,dot:!1,stroke:`url(#${l}-dash)`,strokeDasharray:"2 2",...o},`${r}-dash`):null]},r)}),ts&&eO&&tr.length>=2?(0,t.jsx)(ee.ReferenceArea,{fill:"var(--ds-background-100)",strokeOpacity:.5,x1:tr.at(-2)?.name,x2:tr.at(-1)?.name}):null,j&&!O?null:(0,t.jsx)(X.Legend,{align:F?"left":"right",content:D??(F?(0,t.jsx)(es.LegendRollupContent,{disableLegend:!0,disabledMetrics:eH,formatValue:P,isLoading:!!A,onClickTag:(e,t)=>{t?eV(Object.keys(b[0]||{}).filter(t=>t!==e)):eV(t=>eH.includes(e)?t.filter(t=>t!==e):[...t,e])},placeholderKeys:z,rollupConfig:B,rollupData:to,setHoveredKey:e=>{e?eM.setHoveredRow?.({value:e}):eM.setHoveredRow?.(void 0)},title:O}):(0,t.jsx)(es.LegendContent,{disabledMetrics:eH,hide:j,onClickTag:(e,t)=>{t?eV(Object.keys(b[0]||{}).filter(t=>t!==e)):eV(t=>eH.includes(e)?t.filter(t=>t!==e):[...t,e])},setHoveredKey:e=>{e?eM.setHoveredRow?.({value:e}):eM.setHoveredRow?.(void 0)},title:O})),fontSize:12,height:td,iconSize:6,iconType:"circle",verticalAlign:"top"}),e7&&e6&&ez?(0,t.jsx)(ee.ReferenceArea,{fill:"var(--ds-gray-alpha-500)",strokeOpacity:.3,x1:e7.name,x2:e6.name}):null,ty.length>0&&(0,t.jsx)("g",{children:ty.filter(e=>"timestamp"===e.type).map(e=>{let r=e.color||"var(--ds-red-600)";if(e.timestamp){let n=new Date(Math.round(i(e.timestamp)/tp)*tp).toISOString();return(0,t.jsx)("g",{children:(0,t.jsx)(et.ReferenceLine,{x:n,stroke:r,strokeWidth:1,strokeDasharray:"3,3",strokeOpacity:.6,label:e$?.id===e.id?ey({value:e.label??"Anomaly",fill:r}):void 0,style:{zIndex:1e3}})},e.id)}return null})},"chart-marks"),ty.filter(e=>"area"===e.type).map(e=>{let r=e.color||"var(--ds-red-700)";if(e.startTime&&e.endTime){let n=Math.max(i(e.startTime),tm.start.getTime()),a=Math.min(i(e.endTime),tm.end.getTime()),l=Math.round(n/tp)*tp,o=Math.round(a/tp)*tp;return(0,t.jsx)(ee.ReferenceArea,{x1:new Date(l).toISOString(),x2:new Date(o).toISOString(),fill:r,fillOpacity:.03,radius:5,stroke:r,strokeOpacity:.8,strokeWidth:1,strokeDasharray:"3,3",label:e.children?function(e,r,n){let{children:i}=e;if(i&&!(r<3*n))return e=>{let r,{viewBox:n}=e;return n&&"x"in n&&(r=`translate(${(n.x??0)+(n.width??0)/2}, ${(n.y??0)+(n.height??0)/2})`),(0,t.jsx)("g",{transform:r,children:i})}}(e,o-l,tp):e_?.id===e.id?ey({value:e.label||"Anomaly Period",fill:r}):void 0,style:{zIndex:1e3,cursor:"pointer"}},e.id)}return null}),Y||null]})}),!tf&&!A&&(0,t.jsx)(es.EmptyStateWrapper,{topOffset:td,children:tv}),(0,t.jsx)("div",{className:"duration-[time:50ms] absolute inset-x-0 bottom-0 z-10 flex translate-y-5 justify-center opacity-0 !transition-all focus-within:opacity-100 group-hover/chart:opacity-100 focus:opacity-100",children:q?(0,t.jsx)(es.DelayedHoverQueryBuilderButton,{builderQuery:q}):null})]})}],5182595)}]);

//# debugId=37cefa0c-ba7b-c0b4-4cba-156323cf25af
//# sourceMappingURL=e5d7958952020570.js.map