;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f51f63f6-13fb-54fb-3d7f-1eb28a9d6b83")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1357569,e=>{e.v({infoIcon:"project-selector-module__8LnsRG__infoIcon",optionSuffix:"project-selector-module__8LnsRG__optionSuffix",projectSelectorOption:"project-selector-module__8LnsRG__projectSelectorOption",projectSelectorSelect:"project-selector-module__8LnsRG__projectSelectorSelect",projectSelectorSelectedProject:"project-selector-module__8LnsRG__projectSelectorSelectedProject",projectSelectorSelectedXIcon:"project-selector-module__8LnsRG__projectSelectorSelectedXIcon"})},8433839,e=>{"use strict";var t=e.i(847684),r=e.i(7185353),a=e.i(1360174),n=e.i(6881349),l=e.i(2107254),i=e.i(6048771),s=e.i(3023251),o=e.i(1357569),c=e.i(9722978);e.s(["ProjectSelector",0,function(e){let{className:d,selectedProject:u,onProjectSelected:m,errored:p,disabled:x,placeholder:g,variant:h="default",requireGitRepo:f=!1,showRepo:y=!1}=e,[j,b]=(0,r.useState)(""),v=(0,r.useMemo)(()=>(0,a.default)(b,500),[]),{data:w}=(0,l.default)({limit:8,search:j,latestDeployments:null},{}),N=!!w;return(0,t.jsxs)(n.Combobox,{className:d,disabled:x,filter:e=>e,onChange:e=>{m(w?.projects.find(t=>t.id===e)??null),b("")},onClear:()=>b(""),placeholder:g||"Select Project…",prefixIcon:u?.latestDeployments&&u.latestDeployments.length>0?(0,t.jsx)(i.ProjectLogo,{forceFaviconRound:!0,deploymentId:u.latestDeployments[0]?.id??"",framework:u.framework,project:u,size:20}):null,value:u?.name??null,errored:p,children:[(0,t.jsx)(n.Combobox.Input,{onChange:e=>v(e.target.value)}),(0,t.jsx)(n.Combobox.List,{maxVisibleOptions:8,emptyMessage:N?j?`No project found with the name "${j}".`:"No project under this account.":"Loading…",children:w?.projects.map(e=>{let r=void 0!==e.link,a=(0,s.getRepoFromLink)(e.link,{includeOrg:!0}),l=f&&!r;return(0,t.jsx)(n.Combobox.Option,{className:(0,c.clsx)(o.default.projectSelectorOption,"!h-fit","condensed"===h?"py-2":"py-[10px] px-2"),value:e.id,ignoreDefaultHeight:!0,disabled:l,children:(0,t.jsxs)("div",{className:"flex items-baseline gap-2 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"translate-y-0 flex-shrink-0",children:(0,t.jsx)(i.ProjectLogo,{forceFaviconRound:!0,deploymentId:e.latestDeployments?.[e.latestDeployments.length-1]?.id,framework:e.framework,project:e,size:"condensed"===h?20:24})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:`self-center ${"condensed"===h?"text-copy-13":"font-medium"}`,children:e.name}),y&&a&&(0,t.jsx)("p",{className:"text-copy-12 text-gray-600 truncate",children:a}),f&&!r&&(0,t.jsx)("p",{className:"text-copy-12 text-gray-500",children:"No git repository linked"})]})]})},e.id)})})]})}])},9965752,e=>{"use strict";var t=e.i(847684),r=e.i(7185353),a=e.i(8238875),n=e.i(2504781),l=e.i(9334091),i=e.i(8522580),s=e.i(5255926),o=e.i(5338940),c=e.i(8433839),d=e.i(8042625),u=e.i(277234),m=e.i(4244280),p=e.i(7909933),x=e.i(134877);async function g(e){try{let t=await (0,u.fetchAPI)(e,{throwOnHTTPError:!0});return t.deployment?.id||null}catch(e){if((0,x.isAPIError)(e)&&404===e.status)return null;throw e}}var h=e.i(3023251),f=e.i(913614),y=e.i(3959677),j=e.i(8943871),b=e.i(57106),v=e.i(9668517);e.s(["PromptInput",0,function(){var e;let x=(0,a.useRouter)(),{team:w}=(0,o.useTeam)(),N=(0,v.useTeamSlug)(),[C,T]=(0,r.useState)(""),[S,$]=(0,r.useState)(null),[I,R]=(0,r.useState)(!1),[D,E]=(0,r.useState)(null),{deploymentId:A,loading:F}=function(e){let{team:t,isLoading:r,isReady:a}=(0,o.useTeam)(),n=e?.id&&t?.id?`${(0,m.API_PROJECTS_VERSION)("v1")}/${e.id}/production-deployment${(0,d.encode)({teamId:t.id})}`:null,{data:l,error:i,isLoading:s}=(0,p.default)(n,g);return{deploymentId:void 0!==l&&(l||e?.latestDeployments?.[0]?.id)||null,loading:s&&void 0===l||r||!a,error:i}}(S),_=async()=>{if(C.trim()&&S&&w?.id){if(!S.link)return void E({success:!1,error:"The selected project must have a git repository linked"});if(!A)return void E({success:!1,error:"No deployment found for the selected project"});R(!0),E(null);try{let e=`${m.API_VADE_CODE}${(0,d.encode)({teamId:w.id})}`,t=await (0,u.fetchAPI)(e,{method:"POST",body:JSON.stringify({prompt:{text:C},deploymentId:A}),throwOnHTTPError:!1});E(t),t.threadId&&N&&x.push(`/${N}/~/agent/threads/${t.threadId}`)}catch(e){E({success:!1,error:e instanceof Error?e.message:"An error occurred"})}finally{R(!1)}}},k=S?.link!==void 0,L=S?(0,h.getRepoFromLink)(S.link,{includeOrg:!0}):"",M=!S?.link||"error"in S.link?null:(0,f.getGitRepoUrlFromLink)(S.link),O=C.trim()&&S&&k&&!I&&!F&&A,P=D&&!D.threadId&&D.error,U=P?D.message||((e=D.error)?"string"==typeof e?e:e.message||e.code||"An error occurred":"")||"An error occurred":"";return(0,t.jsxs)("div",{className:"space-y-4 rounded-lg border border-gray-300 p-4",children:[(0,t.jsxs)("div",{className:"space-y-4 flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"code-prompt",className:"mb-1.5 block text-copy-13 font-medium text-gray-1000",children:"Prompt"}),(0,t.jsx)(l.Textarea,{id:"code-prompt",placeholder:"Ask Vercel Agent to build",value:C,onChange:e=>T(e.target.value),disabled:I,width:"100%",rows:4})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"project-selector",className:"mb-1.5 block text-copy-13 font-medium text-gray-1000",children:"Project"}),(0,t.jsx)(c.ProjectSelector,{selectedProject:S,onProjectSelected:$,disabled:I,placeholder:"Select a project...",requireGitRepo:!0,showRepo:!0}),S&&!k&&(0,t.jsx)(i.Note,{type:"warning",fill:!0,className:"mt-2",children:(0,t.jsx)("p",{className:"text-copy-12",children:"This project does not have a git repository linked. Please link a git repository in the project settings."})}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[S&&k&&L?M?(0,t.jsxs)(b.Link,{href:M,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 hover:bg-gray-200 hover:border-gray-600 text-xs text-gray-900",children:[(0,t.jsx)(y.default,{width:12,height:12}),(0,t.jsx)("span",{className:"whitespace-nowrap",children:L})]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 text-xs text-gray-900",children:[(0,t.jsx)(y.default,{width:12,height:12}),(0,t.jsx)("span",{className:"whitespace-nowrap",children:L})]}):S&&!k?null:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 text-xs text-gray-900 opacity-0 pointer-events-none",children:[(0,t.jsx)(y.default,{width:12,height:12}),(0,t.jsx)("span",{className:"whitespace-nowrap",children:"placeholder"})]}),S?F?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 text-xs text-gray-900",children:[(0,t.jsx)(j.Box,{width:12,height:12}),(0,t.jsx)(s.Skeleton,{height:"12px",width:"160px"})]}):A?(0,t.jsxs)(b.Link,{href:`/${N}/${S.name}/${A.replace("dpl_","")}`,className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 hover:bg-gray-200 hover:border-gray-600 text-xs text-gray-900",children:[(0,t.jsx)(j.Box,{width:12,height:12}),(0,t.jsx)("span",{className:"font-mono text-[11px]",children:A})]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 text-xs text-gray-900 opacity-0 pointer-events-none",children:[(0,t.jsx)(j.Box,{width:12,height:12}),(0,t.jsx)("span",{className:"font-mono text-[11px]",children:"placeholder"})]}):(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 rounded-full pl-[5px] pr-2 py-[2px] font-medium border bg-background-100 text-xs text-gray-900 opacity-0 pointer-events-none",children:[(0,t.jsx)(j.Box,{width:12,height:12}),(0,t.jsx)("span",{className:"font-mono text-[11px]",children:"placeholder"})]})]})]})]}),(0,t.jsx)(n.Button,{onClick:_,disabled:!O,loading:I,className:"mt-2 w-fit",children:"Submit"})]}),P&&(0,t.jsx)(i.Note,{type:"error",fill:!0,children:(0,t.jsx)("p",{children:U})})]})}],9965752)},5406151,5920170,1376250,9324475,e=>{"use strict";var t=e.i(1230902),r=e.i(8492421);function a(e,t,a){var n,l,i,s,o;let c,d,u=Object.assign({},(0,r.getDefaultOptions)()),m=(n=e,l=a.timeZone,i=a.locale??u.locale,new Intl.DateTimeFormat(i?[i.code,"en-US"]:void 0,{timeZone:l,timeZoneName:n}));return"formatToParts"in m?function(e,t){let r=e.formatToParts(t);for(let e=r.length-1;e>=0;--e)if("timeZoneName"===r[e].type)return r[e].value}(m,t):(s=m,o=t,c=s.format(o).replace(/\u200E/g,""),(d=/ [\w-+ ]+$/.exec(c))?d[0].substr(1):"")}let n={year:0,month:1,day:2,hour:3,minute:4,second:5},l={},i=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s="06/25/2014, 00:00:00"===i||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===i;function o(e,t,r,a,n,l,i){let s=new Date(0);return s.setUTCFullYear(e,t,r),s.setUTCHours(a,n,l,i),s}let c=/^(Z)$/,d=/^([+-]\d{2})$/,u=/^([+-])(\d{2}):?(\d{2})$/;function m(e,t,r){let a,n;if(!e)return 0;let l=c.exec(e);if(l)return 0;if(l=d.exec(e))return x(a=parseInt(l[1],10))?-(36e5*a):NaN;if(l=u.exec(e)){a=parseInt(l[2],10);let e=parseInt(l[3],10);return x(a,e)?(n=36e5*Math.abs(a)+6e4*e,"+"===l[1]?-n:n):NaN}if(function(e){if(g[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),g[e]=!0,!0}catch(e){return!1}}(e)){var i;t=new Date(t||Date.now());let a=p(r?t:o((i=t).getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e);return-(r?a:function(e,t,r){let a=e.getTime()-t,n=p(new Date(a),r);if(t===n)return t;let l=p(new Date(a-=n-t),r);return n===l?n:Math.max(n,l)}(t,a,e))}return NaN}function p(e,t){var r,a,i;let c,d,u,m=(l[r=t]||(l[r]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),"formatToParts"in(u=l[r])?function(e,t){try{let r=e.formatToParts(t),a=[];for(let e=0;e<r.length;e++){let t=n[r[e].type];void 0!==t&&(a[t]=parseInt(r[e].value,10))}return a}catch(e){if(e instanceof RangeError)return[NaN];throw e}}(u,e):(a=u,i=e,c=a.format(i),[parseInt((d=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(c))[3],10),parseInt(d[1],10),parseInt(d[2],10),parseInt(d[4],10),parseInt(d[5],10),parseInt(d[6],10)])),p=o(m[0],m[1]-1,m[2],m[3]%24,m[4],m[5],0).getTime(),x=e.getTime(),g=x%1e3;return p-(x-=g>=0?g:1e3+g)}function x(e,t){return -23<=e&&e<=23&&(null==t||0<=t&&t<=59)}let g={},h={X:function(e,t,r){let a=f(r.timeZone,e);if(0===a)return"Z";switch(t){case"X":return b(a);case"XXXX":case"XX":return j(a);default:return j(a,":")}},x:function(e,t,r){let a=f(r.timeZone,e);switch(t){case"x":return b(a);case"xxxx":case"xx":return j(a);default:return j(a,":")}},O:function(e,t,r){let a=f(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e>0?"-":"+",a=Math.abs(e),n=Math.floor(a/60),l=a%60;return 0===l?r+String(n):r+String(n)+t+y(l,2)}(a,":");default:return"GMT"+j(a,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return a("short",e,r);default:return a("long",e,r)}}};function f(e,t){let r=e?m(e,t,!0)/6e4:t?.getTimezoneOffset()??0;if(Number.isNaN(r))throw RangeError("Invalid time zone specified: "+e);return r}function y(e,t){let r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return(e<0?"-":"")+r}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Math.abs(e);return(e>0?"-":"+")+y(Math.floor(r/60),2)+t+y(Math.floor(r%60),2)}function b(e,t){return e%60==0?(e>0?"-":"+")+y(Math.abs(e)/60,2):j(e,t)}function v(e){let t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e-t}let w=/^([0-9W+-]+)(T| )(.*)/,N=/^([0-9W+-]+)(.*)/,C=/^(\d{2})$/,T=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],S=/^(\d{4})/,$=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],I=/^-(\d{2})$/,R=/^-?(\d{3})$/,D=/^-?(\d{2})-?(\d{2})$/,E=/^-?W(\d{2})$/,A=/^-?W(\d{2})-?(\d{1})$/,F=/^(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,k=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,L=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);let r=null==t.additionalDigits?2:Number(t.additionalDigits);if(2!==r&&1!==r&&0!==r)throw RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);let a=function(e){let t,r={},a=w.exec(e);if(a?(r.date=a[1],t=a[3]):(a=N.exec(e))?(r.date=a[1],t=a[2]):(r.date=null,t=e),t){let e=L.exec(t);e?(r.time=t.replace(e[1],""),r.timeZone=e[1].trim()):r.time=t}return r}(e),{year:n,restDateString:l}=function(e,t){if(e){let r=T[t],a=$[t],n=S.exec(e)||a.exec(e);if(n){let t=n[1];return{year:parseInt(t,10),restDateString:e.slice(t.length)}}if(n=C.exec(e)||r.exec(e)){let t=n[1];return{year:100*parseInt(t,10),restDateString:e.slice(t.length)}}}return{year:null}}(a.date,r),i=function(e,t){let r,a,n;if(null===t)return null;if(!e||!e.length)return(r=new Date(0)).setUTCFullYear(t),r;let l=I.exec(e);if(l)return(r=new Date(0),B(t,a=parseInt(l[1],10)-1))?(r.setUTCFullYear(t,a),r):new Date(NaN);if(l=R.exec(e)){r=new Date(0);let e=parseInt(l[1],10);return!function(e,t){if(t<1)return!1;let r=H(e);return(!r||!(t>366))&&(!!r||!(t>365))}(t,e)?new Date(NaN):(r.setUTCFullYear(t,0,e),r)}if(l=D.exec(e)){r=new Date(0),a=parseInt(l[1],10)-1;let e=parseInt(l[2],10);return B(t,a,e)?(r.setUTCFullYear(t,a,e),r):new Date(NaN)}if(l=E.exec(e))return Z(n=parseInt(l[1],10)-1)?O(t,n):new Date(NaN);if(l=A.exec(e)){n=parseInt(l[1],10)-1;let e=parseInt(l[2],10)-1;return Z(n,e)?O(t,n,e):new Date(NaN)}return null}(l,n);if(null===i||isNaN(i.getTime())||!i)return new Date(NaN);{let e,r=i.getTime(),n=0;if(a.time&&(null===(n=function(e){let t,r,a=F.exec(e);if(a)return V(t=parseFloat(a[1].replace(",",".")))?t%24*36e5:NaN;if(a=_.exec(e))return V(t=parseInt(a[1],10),r=parseFloat(a[2].replace(",",".")))?t%24*36e5+6e4*r:NaN;if(a=k.exec(e)){t=parseInt(a[1],10),r=parseInt(a[2],10);let e=parseFloat(a[3].replace(",","."));return V(t,r,e)?t%24*36e5+6e4*r+1e3*e:NaN}return null}(a.time))||isNaN(n)))return new Date(NaN);if(a.timeZone||t.timeZone){if(isNaN(e=m(a.timeZone||t.timeZone,new Date(r+n))))return new Date(NaN)}else e=v(new Date(r+n)),e=v(new Date(r+n+e));return new Date(r+n+e)}}function O(e,t,r){t=t||0,r=r||0;let a=new Date(0);a.setUTCFullYear(e,0,4);let n=7*t+r+1-(a.getUTCDay()||7);return a.setUTCDate(a.getUTCDate()+n),a}let P=[31,28,31,30,31,30,31,31,30,31,30,31],U=[31,29,31,30,31,30,31,31,30,31,30,31];function H(e){return e%400==0||e%4==0&&e%100!=0}function B(e,t,r){if(t<0||t>11)return!1;if(null!=r){if(r<1)return!1;let a=H(e);if(a&&r>U[t]||!a&&r>P[t])return!1}return!0}function Z(e,t){return!(e<0)&&!(e>52)&&(null==t||!(t<0)&&!(t>6))}function V(e,t,r){return!(e<0)&&!(e>=25)&&(null==t||!(t<0)&&!(t>=60))&&(null==r||!(r<0)&&!(r>=60))}e.s(["toDate",0,M],5920170);let G=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function z(e,t,r){let a=m(t,e=M(e,r),!0),n=new Date(e.getTime()-a),l=new Date(0);return l.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),l.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),l}e.s(["toZonedTime",0,z],1376250),e.s(["formatInTimeZone",0,function(e,r,a,n){return n={...n,timeZone:r,originalDate:e},function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(r=String(r)).match(G);if(n){let t=M(a.originalDate||e,a);r=n.reduce(function(e,r){if("'"===r[0])return e;let n=e.indexOf(r),l="'"===e[n-1],i=e.replace(r,"'"+h[r[0]](t,r,a)+"'");return l?i.substring(0,n-1)+i.substring(n+1):i},r)}return(0,t.format)(e,r,a)}(z(e,r,{timeZone:n.timeZone}),a,n)}],9324475),e.s([],5406151)},2415772,e=>{"use strict";e.i(5406151);var t=e.i(9324475),r=e.i(5920170);e.i(6048454),Object.keys(e.i(1283928).AllDimensions).map(e=>[e,RegExp(`\\b${e}\\b`)]),e.s(["fromTbDateTimeString",0,function(e){return(0,r.toDate)(e,{timeZone:"Etc/Utc"})},"tbDateTime",0,function(e,r){return(0,t.formatInTimeZone)(e,r||"Etc/Utc","yyyy-MM-dd HH:mm:ss")}])},3804618,e=>{"use strict";var t=e.i(847684),r=e.i(3306538),a=e.i(8761240),n=e.i(9386557);e.s(["getAlertInfo",0,function(e){return{type:e.type,title:"error_anomaly"===e.type?`${e.data.route} ${e.data.statusGroup}`:e.title,changeDirection:`${e.formattedValues.changeDirection}d`,changeAmount:e.formattedValues.changeAmount,changeDescription:`${e.formattedValues.formattedAvg} → ${e.formattedValues.formattedCount} ${e.unit}`}},"getAlertTitle",0,function(e){if("error_anomaly"===e.type){let{route:t,cause:r}=e.data;return`${"function"===r?"Function Invocation":"Middleware Invocation"} by ${t} with 5xx errors`}return e.title},"getStatusBadge",0,function(e){let l=(()=>{switch(e.status){case"active":return(0,t.jsx)(r.Badge,{icon:(0,t.jsx)(n.WarningFill,{}),variant:"red-subtle",children:"Active"});case"resolved":return(0,t.jsx)(r.Badge,{className:"text-gray-900",icon:(0,t.jsx)(a.CheckCircleFill,{className:"size-3 -ml-1"}),variant:"gray-subtle",children:"Resolved"})}})();return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[l,e.isInternal&&(0,t.jsx)(r.Badge,{variant:"gray-subtle",children:"Internal"})]})},"granularityToQueryParam",0,function(e){return e?`${e.minutes}m`:void 0}])},9997017,e=>{"use strict";var t=e.i(847684),r=e.i(3804618),a=e.i(6143247),n=e.i(1319302),l=e.i(5468328),i=e.i(3219703);let s="leading-tight font-medium space-x-1 min-w-0 items-center min-h-[22px] truncate";e.s(["AlertTitle",0,function(e){let{alert:o,className:c,size:d="regular"}=e,u=(0,r.getAlertInfo)(o);return"error_anomaly"===o.type?(0,t.jsxs)("span",{className:(0,a.cn)(s,"flex",c),children:[(0,t.jsx)("span",{className:"text-gray-900 flex-shrink-0 flex items-center gap-1",children:(0,t.jsx)(i.StatusCodeBadge,{variant:"large"===d?"large":"regular",statusCode:o.data.statusGroup})}),(0,t.jsx)("span",{className:"text-gray-900 whitespace-nowrap",children:"error spike on"}),(0,t.jsx)(l.Tooltip,{className:"truncate min-w-0 inline-block text-ellipsis py-px",text:o.data.route,children:(0,t.jsx)(n.RouteHighlighter,{route:o.data.route,segmentClassName:"large"===d?"text-lg my-1 py-px":"text-[13px]"})})]}):(0,t.jsxs)("span",{className:(0,a.cn)(s,c),children:[(0,t.jsx)("span",{className:"text-gray-1000",children:u.title}),(0,t.jsxs)("span",{className:"text-gray-900",children:[u.changeDirection," by"]}),(0,t.jsx)("span",{className:"text-gray-1000",children:u.changeAmount})]})}])},8646915,e=>{"use strict";var t=e.i(7909933),r=e.i(1138941),a=e.i(9979783),n=e.i(6060673),l=e.i(9171423),i=e.i(9668517);function s(e){switch(e){case"observability.anomaly":case"observability.usage-anomaly":return"usage_anomaly";case"observability.error-anomaly":case"observability.anomaly-error":return"error_anomaly";case"observability.anomaly-botId":return"botId_anomaly";case"firewall.system-rule-anomaly":return"firewallSystemRule_anomaly";case"firewall.custom-rule-anomaly":return"firewallCustomRule_anomaly";case"alerts.triggered":return"all";default:return null}}e.s(["AlertTypeLabels",0,{usage_anomaly:"Usage",error_anomaly:"Error",botId_anomaly:"Bot ID",firewallSystemRule_anomaly:"Firewall System Rule",firewallCustomRule_anomaly:"Firewall Custom Rule",testAlert_anomaly:"Test Alert",buildTime_anomaly:"Build Time"},"mapWebhookEventToO11yAlertType",0,s,"useAlert",0,function(e){let l=(0,i.useTeamSlug)(),s=(0,r.useProjectIdOrName)(),{data:o}=(0,n.useProject)(s);return(0,t.default)(()=>l?`alert-${e}-${l}-${o?.id||"all"}`:null,async()=>{if(!l)return;let{body:t}=await (0,a.typedFetch)("/alerts/v2/alerts/{alertId}","get",{teamId:l,alertId:e},{throwOnHTTPError:!0});return t})},"useAlerts",0,function(){let{alertTypes:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,i.useTeamSlug)(),s=(0,r.useProjectIdOrName)(),{data:o}=(0,n.useProject)(s);return(0,t.default)(()=>l?`alerts-${l}-${o?.id||"all"}-${e?.join("-")||"all"}`:null,async()=>{if(!l)return;let{body:t}=await (0,a.typedFetch)("/alerts/v2/alerts","get",{teamId:l,projectId:o?.id,types:e},{throwOnHTTPError:!0});return{alerts:t}})},"useAlertsFlags",0,function(){let e=(0,i.useTeamSlug)(),r=(0,t.default)(()=>e?`/alerts/v2/flags?teamId=${e}`:null,async t=>{if(e)return await (0,l.fetchApi)(t)}),a=e=>!!e&&(r?.data?.[e]??!1);return{isAlertTypeEnabled:a,isWebhookEnabled:e=>{let t=s(e);return"all"===t||a(t)},isNotificationEnabled:e=>a(function(e){switch(e){case"alerts-usage-anomaly":return"usage_anomaly";case"alerts-error-anomaly":return"error_anomaly";case"alerts-botid-anomaly":return"botId_anomaly";case"alerts-firewall-system-rule-anomaly":return"firewallSystemRule_anomaly";case"alerts-firewall-custom-rule-anomaly":return"firewallCustomRule_anomaly";default:throw Error(`Unknown value: ${e}`)}}(e)),...r}}],8646915)},1661989,e=>{"use strict";var t=e.i(9668517),r=e.i(9979783),a=e.i(7909933);e.s(["useAlertGroup",0,function(e){let n=(0,t.useTeamSlug)();return(0,a.default)(()=>n&&e?`alerts-group-${n}-${e}`:null,async()=>{if(!n||!e)return;let{body:t}=await (0,r.typedFetch)("/alerts/v3/groups/{groupId}","get",{teamId:n,groupId:e});return t})}])},5229345,e=>{"use strict";var t=e.i(847684),r=e.i(3306538),a=e.i(57106),n=e.i(7185353),l=e.i(7909933),i=e.i(5338940),s=e.i(5441366),o=e.i(2936702),c=e.i(3646124);e.i(9623499);var d=e.i(5576066),u=e.i(3993360),m=e.i(6317369),p=e.i(2504781),x=e.i(8161149),g=e.i(7608222),h=e.i(6359207),f=e.i(5467025);let y=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],j=e=>`$${e.toFixed(3)}`,b=e=>e.toString(),v=e=>{if(e<60)return`${e}s`;let t=Math.floor(e/60),r=e%60;if(t<60)return r>0?`${t}m ${r}s`:`${t}m`;let a=Math.floor(t/60),n=t%60;return n>0?`${a}h ${n}m`:`${a}h`},w=n.default.memo(function(e){let{repositoryOwner:r,repositoryName:a,pullRequestNumber:n,commitSha:l}=e.row.original,i=`https://github.com/${r}/${a}/pull/${n}`,{getColor:s}=(0,f.useObservabilityChartContext)(),o=l?l.substring(0,7):"";return(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-ellipsis text-nowrap py-2 text-gray-900",children:[(0,t.jsx)("div",{className:"inline-block w-0.5 rounded h-[14px] shrink-0 -ml-1.5 mr-1",style:{backgroundColor:s("repositoryName",a)}}),(0,t.jsx)(d.Link,{href:i,external:!0,icon:!1,className:"hover:underline text-gray-900 truncate",children:`${r}/${a} #${n}${o?` (${o})`:""}`})]})}),N=n.default.memo(function(e){let{row:r,cell:a,column:n}=e,l=r.original.maxCost;return(0,t.jsx)(c.BarCell,{...e,cell:{...a,value:r.original.numericCost},maxValue:l,column:{...n,cellFormatter:j}})}),C=n.default.memo(function(e){let{row:r,cell:a,column:n}=e,l=r.original.maxComments;return(0,t.jsx)(c.BarCell,{...e,cell:{...a,value:r.original.reviewComments||0},maxValue:l,column:{...n,cellFormatter:b}})}),T=n.default.memo(function(e){let{row:r,cell:a,column:n}=e,l=r.original.maxReviewTime,i=r.original.reviewTimeSeconds||0;return(0,t.jsx)(c.BarCell,{...e,cell:{...a,value:i},maxValue:l,column:{...n,cellFormatter:v}})}),S=n.default.memo(function(e){let{row:r,cell:a,column:n}=e,l=r.original.maxFilesRead,i=r.original.filesRead||0;return(0,t.jsx)(c.BarCell,{...e,cell:{...a,value:i},maxValue:l,column:{...n,cellFormatter:b}})});function $(e){let{data:r,team:l}=e,i=void 0===r,[d,f]=(0,n.useState)(!1),b=(0,n.useCallback)((e,t,r)=>{let a=(r||"").toLowerCase().trim();return a?e.filter(e=>{if(e.original.isSkeleton)return!1;let t=e.original,r=String(t.repository||"").toLowerCase(),n=String(t.pullRequestNumber||"").toLowerCase(),l=String(t.repositoryOwner||"").toLowerCase(),i=String(t.repositoryName||"").toLowerCase(),s=String(t.commitSha||"").toLowerCase();return r.includes(a)||n.includes(a)||l.includes(a)||i.includes(a)||s.includes(a)}):e},[]),v=(0,n.useMemo)(()=>{if(!r||0===r.length)return[];let e=[...r].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),t=0,a=0,n=0,l=0;for(let r of e){let e=r.cost||r.tokenCost||0,i=r.reviewComments||0,s=r.reviewTimeSeconds||0,o=r.filesRead||0;e>t&&(t=e),i>a&&(a=i),s>n&&(n=s),o>l&&(l=o)}return e.map(e=>{let r,i,s,o=e.cost||e.tokenCost||0,c=new Date(e.timestamp.endsWith("Z")?e.timestamp:`${e.timestamp}Z`);return{...e,formattedTime:(r=c.getHours().toString().padStart(2,"0"),i=c.getMinutes().toString().padStart(2,"0"),s=c.getSeconds().toString().padStart(2,"0"),`${y[c.getMonth()]} ${c.getDate()} ${r}:${i}:${s}`),timestampDate:c,repository:`${e.repositoryOwner}/${e.repositoryName} #${e.pullRequestNumber}`,formattedCost:j(o),numericCost:o,maxCost:t,maxComments:a,maxReviewTime:n,maxFilesRead:l}})},[r]),$=(0,n.useCallback)(async()=>{try{f(!0),await new Promise(e=>setTimeout(e,0));let e=(Array.isArray(r)?r:[]).map(e=>{let t=e.timestamp.endsWith("Z")?e.timestamp:`${e.timestamp}Z`,r=e.cost||e.tokenCost||0;return[String(t),`${e.repositoryOwner}/${e.repositoryName}`,String(e.pullRequestNumber||""),String(e.commitSha||""),Number.isFinite(e.reviewComments)?String(e.reviewComments):"0",Number.isFinite(r)?String(r):"0",Number.isFinite(e.reviewTimeSeconds)?String(1e3*e.reviewTimeSeconds):"0",Number.isFinite(e.filesRead)?String(e.filesRead):"0"]}),t=["Time,Repository,Pull Request,Commit SHA,Suggestions,Cost,Review Time (ms),Files Read",...e.map(e=>e.map((e,t)=>{let r,a;return t<=3?(r=/[",\n\r]/.test(e),a=e.replace(/"/g,'""'),r?`"${a}"`:a):e}).join(","))].join("\r\n"),a=new Blob([`\uFEFF${t}`],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download="pr-review-usage-events.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(n)}finally{f(!1)}},[r]),I=(0,n.useMemo)(()=>[{Header:"Review",accessor:"repository",sortDescFirst:!1,Cell:w},{Header:"Suggestions",accessor:"reviewComments",columnClassName:"w-28 max-w-28 min-w-28 hidden lg:table-cell",Cell:C},{Header:"Review Time",accessor:"reviewTimeSeconds",columnClassName:"w-32 max-w-32 min-w-32",Cell:T},{Header:"Files Read",accessor:"filesRead",columnClassName:"w-32 max-w-32 min-w-32",Cell:S},{Header:"Cost",accessor:"numericCost",columnClassName:"w-32 max-w-32 min-w-32 hidden lg:table-cell",Cell:N},{Header:"Time",accessor:"timestampDate",columnClassName:"w-20 max-w-20 min-w-20",sortDescFirst:!1,Cell:c.RelativeTimeCell}],[]);if(!i&&0===v.length){let e=(0,h.deriveAgentState)(l,!1).isAgentEnabled,r=l?.slug;return e?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,t.jsx)(x.EmptyState.Root,{icon:(0,t.jsx)(x.EmptyState.Icon,{icon:(0,t.jsx)(m.GitPullRequest,{size:32})}),title:"No reviews yet",description:`Reviews are made on pull requests that are created after ${g.VERCEL_AGENT_NAME} is enabled.`})}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,t.jsx)(x.EmptyState.Root,{title:`${g.VERCEL_AGENT_NAME} not enabled`,description:`${g.VERCEL_AGENT_NAME} automatically reviews pull requests with deep understanding of your code and how it behaves in production.`,children:r&&(0,t.jsxs)(a.ButtonLink,{type:"default",href:`/${r}/~/settings#${g.VERCEL_AGENT_NAME.toLowerCase().replaceAll(" ","-")}`,children:["Enable ",g.VERCEL_AGENT_NAME]})})})}return(0,t.jsx)(o.SonarTable,{columns:I,data:v,defaultSort:[{id:"timestampDate",desc:!0}],isLoading:i,plugins:[s.useGlobalFilter,s.useSortBy,s.usePagination],getHoveredValue:e=>e?.repositoryName,globalFilter:b,autoResetPage:!0,renderCustomActions:()=>(0,t.jsx)(p.Button,{prefix:(0,t.jsx)(u.Download,{}),type:"secondary",loading:d,disabled:i||d||!r||0===r.length,onClick:$,children:d?"Exporting…":"Export CSV"})})}var I=e.i(3169345),R=e.i(198667);function D(e){let{onRetry:r}=e;return(0,t.jsx)("div",{className:"material-base flex flex-col p-4 space-y-4 md:max-w-sm [@media(width>=700px)]:max-w-full",children:(0,t.jsxs)(I.Table,{children:[(0,t.jsxs)(I.Table.Colgroup,{children:[(0,t.jsx)(I.Table.Col,{}),(0,t.jsx)(I.Table.Col,{}),(0,t.jsx)(I.Table.Col,{}),(0,t.jsx)(I.Table.Col,{className:"hidden lg:table-cell"}),(0,t.jsx)(I.Table.Col,{className:"hidden lg:table-cell"}),(0,t.jsx)(I.Table.Col,{})]}),(0,t.jsx)(I.Table.Header,{children:(0,t.jsxs)(I.Table.Row,{children:[(0,t.jsx)(I.Table.Head,{children:"Duration"}),(0,t.jsx)(I.Table.Head,{children:"Repository"}),(0,t.jsx)(I.Table.Head,{children:"PR"}),(0,t.jsx)(I.Table.Head,{className:"hidden lg:table-cell",children:"Comments"}),(0,t.jsx)(I.Table.Head,{className:"hidden lg:table-cell",children:"Cost"}),(0,t.jsx)(I.Table.Head,{children:"Review Time"})]})}),(0,t.jsx)(I.Table.Body,{children:(0,t.jsx)(I.Table.Row,{children:(0,t.jsx)(I.Table.Cell,{colSpan:6,className:"text-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"Failed to load PR review events"}),r&&(0,t.jsx)(p.Button,{type:"secondary",onClick:r,prefix:(0,t.jsx)(R.RefreshClockwise,{}),children:"Retry"})]})})})})]})})}var E=e.i(8151845),A=e.i(2415772),F=e.i(1233856);function _(e){let{projectId:r}=e,{team:a}=(0,i.useTeam)(),{start:s,end:o}=(0,E.useRangeFromQueryState)(),{stableStart:c,stableEnd:d}=(0,n.useMemo)(()=>{let e={minutes:1};return{stableStart:(0,F.startOfDuration)(s,e),stableEnd:(0,F.startOfDuration)(o,e)}},[s,o]),u=(0,n.useMemo)(()=>{if(!a)return null;let e=(0,A.tbDateTime)(c),t=(0,A.tbDateTime)(d),n=r?`&projectId=${r}`:"";return`/api/agent/pr-review-usage-events?ownerId=${a.id}&startTime=${e}&endTime=${t}${n}`},[a,c,d,r]),{data:m,error:p,mutate:x}=(0,l.default)(u,async e=>{let t=await fetch(e);if(!t.ok){let e=Error("Failed to fetch PR review events");throw e.status=t.status,e}return t.json()},{revalidateIfStale:!1,refreshInterval:0});return p?(0,t.jsx)(D,{onRetry:()=>x()}):(0,t.jsx)($,{data:m?.data,team:a})}var k=e.i(5182595),L=e.i(3351543),M=e.i(9179929),O=e.i(5481907),P=e.i(2466450);let U=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:3,maximumFractionDigits:3});function H(e){let{projectId:r}=e,{data:a,isLoading:n,isRelativeTime:l,builderQuery:i}=(0,O.useSonarQuery)({event:"prReview",rollups:{value:{measure:"cost",aggregation:"sum"}},groupBy:["repositoryName"],reason:"agent",summaryOnly:!1,limit:5,tailRollup:"others",granularity:{hours:1},...r&&{contextFilter:{projectId:r}}},{noEnvironmentFilter:!0}),s="repositoryName",o=(0,M.useTimeseriesData)(a,{category:s,rollupName:"value"});return(0,t.jsxs)(L.ChartCard,{children:[(0,t.jsx)(L.CardHeader,{title:"Cost"}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(k.LineChart,{builderQuery:i?.value,sonarQueryResults:a,data:o??[],getColor:s,disableLegend:!0,isLoading:n,isRelativeTime:l,lineType:"step",granularity:{hours:1},formatAxisValue:e=>(0,P.formatCurrency)(100*e,"usd","short"),formatValue:e=>U.format(e)})})]})}function B(e){let{projectId:r}=e,a={hours:1},{data:l,isLoading:i,isRelativeTime:s,builderQuery:o}=(0,O.useSonarQuery)({event:"reviewedPrComplete",rollups:{positiveComments:{measure:"goodReviewComments",aggregation:"sum"},totalComments:{measure:"totalReviewComments",aggregation:"sum"}},reason:"agent",summaryOnly:!1,granularity:a,...r&&{contextFilter:{projectId:r}}},{noEnvironmentFilter:!0}),c=(0,n.useMemo)(()=>l?.data?l.data.map(e=>{let t=Number(e.positiveComments)||0,r=Math.max(0,(Number(e.totalComments)||0)-t);return{name:e.timestamp.toISOString(),Accepted:t,Ignored:r}}):[],[l?.data]);return(0,t.jsxs)(L.ChartCard,{children:[(0,t.jsx)(L.CardHeader,{href:"",title:"Suggestions Made"}),(0,t.jsx)("div",{className:"-mt-0.5 h-[190px]",children:(0,t.jsx)(k.LineChart,{builderQuery:o?.positiveComments,sonarQueryResults:l,data:c??[],getColor:e=>"Accepted"===e?"var(--ds-green-700)":"var(--ds-gray-500)",disableLegend:!0,isLoading:i,isRelativeTime:s,lineType:"step",granularity:a})})]})}function Z(e){let{projectId:r}=e;return(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsx)(B,{projectId:r}),(0,t.jsx)(H,{projectId:r})]})}var V=e.i(5255926),G=e.i(8646915),z=e.i(9997017),Y=e.i(1661989);let X=e=>Number(e)?`$${Number(e).toFixed(3)}`:"-",q=e=>{if(void 0===e)return"-";let t=Math.round(e);if(t<60)return`${t}s`;let r=Math.floor(t/60),a=t%60;if(r<60)return a>0?`${r}m ${a}s`:`${r}m`;let n=Math.floor(r/60),l=r%60;return l>0?`${n}h ${l}m`:`${n}h`},Q=n.default.memo(function(e){let{alertId:r,teamSlug:a,groupId:n}=e.row.original,{data:l}=(0,Y.useAlertGroup)(n),i=n?l?.alerts?.[0]?.id:r;return(0,t.jsx)("div",{className:"text-ellipsis text-nowrap overflow-hidden",children:(0,t.jsx)(d.Link,{href:i?`/${a}/~/observability/alerts/${i}`:void 0,external:!0,icon:!1,className:"hover:underline text-gray-900 truncate",children:void 0===r?"Error Alert":(0,t.jsx)(W,{alertId:r})})})});function W(e){let{alertId:r}=e,{data:a,isLoading:n}=(0,G.useAlert)(r);return n||void 0===a?(0,t.jsx)(V.Skeleton,{width:100,height:14}):(0,t.jsx)(z.AlertTitle,{alert:a,size:"regular"})}function J(e){let{data:r,team:l}=e,i=void 0===r,d=(0,n.useMemo)(()=>{if(!r||0===r.length)return[];let e={maxValue:{duration:0,cost:0}},t=r.map(t=>({...t,meta:e,teamSlug:l?.slug,groupId:t.metadata?.groupId,alertId:t.metadata?.alertId,duration:t.metadata?.durationSeconds===void 0?void 0:Number(t.metadata?.durationSeconds),cost:t.metadata?.totalCostUsd===void 0?void 0:Number(t.metadata?.totalCostUsd)})),a=t.reduce((e,t)=>Math.max(e,t.duration??0),0),n=t.reduce((e,t)=>Math.max(e,t.cost??0),0);return e.maxValue.duration=a,e.maxValue.cost=n,t},[r,l?.slug]),u=(0,n.useMemo)(()=>[{Header:"Alert",accessor:"alertId",sortDescFirst:!1,Cell:Q},{Header:"Duration",accessor:"duration",columnClassName:"w-28 max-w-28 min-w-28 hidden lg:table-cell",Cell:c.BarCell,cellFormatter:q},{Header:"Cost",accessor:"cost",columnClassName:"w-32 max-w-32 min-w-32 hidden lg:table-cell",Cell:c.BarCell,cellFormatter:X},{Header:"Time",accessor:"createdAt",columnClassName:"w-20 max-w-20 min-w-20",sortDescFirst:!1,Cell:c.RelativeTimeCell}],[]);if(!i&&0===d.length){let e=l?.alertInvestigation?.enabled??!0,r=l?.slug;return e?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,t.jsx)(x.EmptyState.Root,{icon:(0,t.jsx)(x.EmptyState.Icon,{icon:(0,t.jsx)(m.GitPullRequest,{size:32})}),title:"No Investigations Yet",description:`Investigations are performed on alerts that are created after ${g.VERCEL_AGENT_NAME} Investigations are enabled. 10 free investigations are included each month with Observability Plus.`})}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,t.jsx)(x.EmptyState.Root,{title:`${g.VERCEL_AGENT_NAME} Investigations are not enabled`,description:`${g.VERCEL_AGENT_NAME} automatically investigates anomaly alerts.`,children:r&&(0,t.jsxs)(a.ButtonLink,{type:"default",href:`/${r}/~/settings#${g.VERCEL_AGENT_NAME.toLowerCase().replaceAll(" ","-")}`,children:["Enable ",g.VERCEL_AGENT_NAME]})})})}return(0,t.jsx)(o.SonarTable,{columns:u,data:d,defaultSort:[{id:"createdAt",desc:!0}],isLoading:i,plugins:[s.useSortBy,s.usePagination],autoResetPage:!0,showSearch:!1})}function K(e){let{onRetry:r}=e;return(0,t.jsx)("div",{className:"material-base flex flex-col p-4 space-y-4 md:max-w-sm [@media(width>=700px)]:max-w-full",children:(0,t.jsxs)(I.Table,{children:[(0,t.jsxs)(I.Table.Colgroup,{children:[(0,t.jsx)(I.Table.Col,{}),(0,t.jsx)(I.Table.Col,{className:"hidden lg:table-cell"}),(0,t.jsx)(I.Table.Col,{})]}),(0,t.jsx)(I.Table.Header,{children:(0,t.jsxs)(I.Table.Row,{children:[(0,t.jsx)(I.Table.Head,{children:"Alert"}),(0,t.jsx)(I.Table.Head,{children:"Duration"}),(0,t.jsx)(I.Table.Head,{className:"lg:table-cell",children:"Cost"}),(0,t.jsx)(I.Table.Head,{children:"Time"})]})}),(0,t.jsx)(I.Table.Body,{children:(0,t.jsx)(I.Table.Row,{children:(0,t.jsx)(I.Table.Cell,{colSpan:4,className:"text-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"Failed to load investigation tasks"}),r&&(0,t.jsx)(p.Button,{type:"secondary",onClick:r,prefix:(0,t.jsx)(R.RefreshClockwise,{}),children:"Retry"})]})})})})]})})}var ee=e.i(8042625);function et(e){let{projectId:r}=e,{team:a}=(0,i.useTeam)(),{start:s,end:o}=(0,E.useRangeFromQueryState)(),{stableStart:c,stableEnd:d}=(0,n.useMemo)(()=>{let e={minutes:1};return{stableStart:(0,F.startOfDuration)(s,e),stableEnd:(0,F.startOfDuration)(o,e)}},[s,o]),u=(0,n.useMemo)(()=>a?`/vercel-agent/api/activity${(0,ee.encode)({teamId:a.id,startTime:c.toISOString(),endTime:d.toISOString(),projectId:r})}`:null,[a,c,d,r]),{data:m,error:p,mutate:x}=(0,l.default)(u,async e=>{let t=await fetch(e);if(!t.ok){let e=Error("Failed to fetch investigation tasks");throw e.status=t.status,e}return t.json()},{revalidateIfStale:!1,refreshInterval:0});return p?(0,t.jsx)(K,{onRetry:()=>x()}):(0,t.jsx)(J,{data:m?.activities,team:a})}var er=e.i(4597921),ea=e.i(9965752),en=e.i(8639841);e.s(["AgentOverviewContent",0,function(e){let{projectId:n}=e,{teamSlug:l}=(0,i.useTeam)(),s=(0,en.useAgentDebug)(),o=(0,er.useServerFlag)("enable-vercel-agent-code",!1),c=s.overrides?.enableVercelAgentCode??o;return(0,t.jsx)(f.ObservabilityChartContextProvider,{children:(0,t.jsx)("div",{className:"w-full space-y-10",children:(0,t.jsxs)("div",{className:"space-y-10",children:[c&&(0,t.jsxs)("section",{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-heading-20",children:"Code Generation"}),(0,t.jsx)(r.Badge,{size:"sm",children:"Internal"})]}),(0,t.jsx)("p",{className:"max-w-[800px] text-gray-900",children:"Fix bugs, improve performance, or add features to your codebase."})]}),l&&(0,t.jsx)(a.Link,{href:`/${l}/~/agent/threads`,className:"text-copy-12 text-blue-600 hover:underline",children:"View all threads"})]}),(0,t.jsx)(ea.PromptInput,{})]}),(0,t.jsxs)("section",{className:"space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-heading-20",children:"Code Reviews"}),(0,t.jsxs)("p",{className:"max-w-[800px] text-gray-900",children:["Catch bugs before they reach production."," ",(0,t.jsx)(a.Link,{className:"text-blue-900",external:!0,href:"/docs/agent/overview",children:"Learn more"})]})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsx)(Z,{projectId:n}),(0,t.jsx)(_,{projectId:n})]})]}),(0,t.jsxs)("section",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-heading-20",children:"Investigations"}),(0,t.jsxs)("p",{className:"text-gray-900",children:["Understand & fix production incidents faster with root-cause analysis."," ",(0,t.jsx)(a.Link,{className:"text-blue-900",external:!0,href:"/docs/agent/investigation",children:"Learn more"})]})]}),(0,t.jsx)(et,{projectId:n})]})]})})})}],5229345)}]);

//# debugId=f51f63f6-13fb-54fb-3d7f-1eb28a9d6b83
//# sourceMappingURL=3bc7c78b9dbc3a62.js.map