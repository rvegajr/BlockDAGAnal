;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f2c39a22-884f-d924-358d-a925dc0190c1")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7710812,e=>{"use strict";function t(e){return!!e.tagIds?.includes("tag_ai")}e.s(["filterConfigurationsByIntegrations",0,function(e,i){return e.filter(e=>i.find(i=>i.id===e.integrationId&&t(i)))},"isAiIntegration",0,t])},8061233,e=>{"use strict";var t=e.i(847684),i=e.i(8238875),s=e.i(2504781),a=e.i(7185353),n=e.i(9889563),l=e.i(553769);e.i(5628754);var r=e.i(9203481);e.i(5463680);var o=e.i(15312);e.i(6887680);var c=e.i(6810699),d=e.i(1017032),u=e.i(1909206);e.i(3182268);var x=e.i(7849855),h=e.i(1647234),g=e.i(7710812),m=e.i(4585051),p=e.i(2064047),f=e.i(1000921),j=e.i(57106),y=e.i(5338940),v=e.i(640716),b=e.i(6060673),C=e.i(7516116),N=e.i(706035);let I=(0,N.createServerReference)("40f08cba8485f67dd59efa51db8f8688207fe4daf7",N.callServer,void 0,N.findSourceMapURL,"updateAccess");var S=e.i(1492947);function k(e){let{connectedProjects:i,teamSlug:n}=e,l=(0,a.useRef)(null),[r,o]=(0,a.useState)(!1),c=i.length;return(0,t.jsxs)("div",{className:"flex w-full md:hidden",ref:l,children:[(0,t.jsxs)(s.Button,{className:"flex-1 md:flex-none",onClick:()=>o(!0),size:"small",type:"secondary",children:["Show ",c," Connected Projects"]}),(0,t.jsx)(S.Drawer,{className:"pb-7",container:l.current||void 0,fixed:!0,onDismiss:()=>o(!1),show:r,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial p-4",children:[(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-900",children:["Connected to ",c," projects"]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:i.map(e=>(0,t.jsx)(j.Link,{href:`/${n}/${e.name}`,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1.5 flex-initial",children:[(0,t.jsx)(v.FaviconOrFramework,{project:e,size:20,style:{flexShrink:0}}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:e.name})]})},e.id))})]})})]})}function w(e){let i,{provider:s,configuration:a,teamSlug:n}=e;return s&&a.integration?(0,t.jsxs)("div",{children:[(0,t.jsx)(j.Link,{href:`/${n}/~/ai/${s.slug}`,children:(0,t.jsx)(p.Entity,{className:"rounded-t-md border border-gray-alpha-400 bg-background-100 transition-colors hover:bg-background-200",left:(0,t.jsx)(m.Avatar,{hash:a.integration.icon,size:36}),children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-0.5 flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:a.integration.name}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:(i=s.models.length)?`${i} Model${1===i?"":"s"} Available`:s.description})]})})}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial w-full rounded-b-md border border-t-0 border-gray-alpha-400 bg-background-200 p-4",children:[(0,t.jsx)(P,{configuration:a,projectIds:a.projects,teamSlug:n}),(0,t.jsx)(j.Link,{className:"hidden md:block",href:`/${n}/~/ai/${s.slug}`,underline:!1,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-blue-900",children:"View Integration"}),(0,t.jsx)(f.ArrowCircleRight,{color:"green-700"})]})})]})]}):null}function P(e){let{configuration:i,projectIds:s,teamSlug:a}=e,{data:n}=(0,b.useProjects)(s),{team:l}=(0,y.useTeam)(),{hasProject:r}=(0,x.useProjectSlug)();if(!s||0===s.length||r)return(0,t.jsx)(C.ManageProjectConnectionModalClient,{configuration:i,configurationUrl:i.url,projects:(n??[]).filter(Boolean),size:"small",teamId:l?.id,updateAccess:I});if(!n)return(0,t.jsx)("div",{});let[o,...c]=n;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"md:flex flex-row items-center justify-start gap-1.5 flex-initial hidden",children:[(0,t.jsx)("p",{className:"text-[13px] leading-[18px] font-medium text-gray-900",children:"Connected to"}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1.5 flex-initial",children:[(0,t.jsx)(v.FaviconOrFramework,{project:o,size:20,style:{flexShrink:0}}),(0,t.jsx)(j.Link,{className:"no-underline visited:text-inherit",href:`/${a}/${o.name}`,children:(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:o.name})}),c.length>0?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsxs)("span",{className:"text-copy-14 text-gray-900",children:["and ",c.length," ",1===c.length?"other":"others"]})]}):null]})]}),(0,t.jsx)(k,{connectedProjects:[o,...c],teamSlug:a})]})}var A=e.i(8835183),R=e.i(8161149),L=e.i(8042625);function M(e){let{params:a,onClick:n}=e,l=(0,i.useRouter)(),r=(0,i.usePathname)(),o=(0,i.useSearchParams)();return(0,t.jsx)(s.Button,{onClick:()=>{if(o&&r){let e=new URLSearchParams(o);a.forEach(t=>e.delete(t)),l.replace(`${r}?${e.toString()}`)}n&&n()},type:"secondary",children:"Clear Search"})}function D(e){let{showEmptyState:s,teamSlug:n}=e,l=(0,i.useSearchParams)(),r=(0,a.useRef)(null),o=e=>{window.history.pushState(null,"",function(e){let{teamSlug:t,projectSlug:i,p:s}=e,a=(0,L.encode)({p:s},{questionMark:!0});return i?`/${t}/${i}/ai${a}`:`/${t}/~/ai${a}`}({teamSlug:n,p:e}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:(0,t.jsx)(A.SearchInput,{defaultValue:l?.get("browse")?"":l?.get("p")??void 0,name:"p",onChange:e=>o(e.target.value.trim()),placeholder:"Search connected providers…",suffixContainer:!1,suffixStyling:!1,width:"100%"})}),s?(0,t.jsx)(R.EmptyState.Root,{description:"No providers match your search.",secondary:!0,title:"No results found",children:(0,t.jsx)(M,{onClick:()=>{r.current?.reset(),o(null)},params:["p","filter"]})}):null]})}var T=e.i(5468328),B=e.i(2988836),$=e.i(5463009);let E=(0,N.createServerReference)("40824205a8b93435e649360e48a62b8e793044bc1c",N.callServer,void 0,N.findSourceMapURL,"revalidateAiList");function F(e){let{canInstallIntegration:i,teamSlug:s,providersWithIntegration:a}=e;return(0,t.jsxs)(t.Fragment,{children:[a.nativeIntegrations.length>0?(0,t.jsxs)("section",{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-heading-24",children:"Native Integration Providers"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Adding a provider gets you access to the AI provider dashboard and enables billing via Vercel."})]}),(0,t.jsx)(O,{canInstall:i,onSuccess:()=>E(s),providers:a.nativeIntegrations})]}):null,a.connectableIntegrations.length>0?(0,t.jsxs)("section",{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-heading-24",children:"Connectable Providers Accounts"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Connect to third-party AI services."})]}),(0,t.jsx)(O,{canInstall:i,onSuccess:()=>E(s),providers:a.connectableIntegrations})]}):null]})}function O(e){let{providers:i,canInstall:s,onSuccess:a}=e;return(0,t.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-alpha-400",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"border-b border-gray-alpha-400 bg-gray-alpha-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-copy-12 font-medium text-gray-900",children:"Provider"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-copy-12 font-medium text-gray-900",children:"Description"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-copy-12 font-medium text-gray-900",children:"Models"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-copy-12 font-medium text-gray-900",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-alpha-400",children:i.map(e=>(0,t.jsx)(W,{canInstallIntegration:s,installed:e.installed,integration:e.integration,onSuccess:a,provider:e.provider},e.integration.id))})]})})}function W(e){let{canInstallIntegration:i,provider:a,nativeProduct:n,integration:l,installed:r,onSuccess:o}=e,c=a?.models.map(e=>e.displayName);return(0,t.jsxs)("tr",{className:"transition-colors hover:bg-gray-alpha-100",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,t.jsx)(m.Avatar,{hash:l.icon,size:32}),(0,t.jsx)("span",{className:"text-copy-14 font-medium",children:a?.name??l.name})]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:a?.description??l.shortDescription})}),(0,t.jsx)("td",{className:"px-4 py-3",children:c?.length?(0,t.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[(0,t.jsx)("span",{className:"text-copy-14 truncate text-gray-900",children:c.join(", ")}),(0,t.jsx)(T.Tooltip,{text:c.join(", "),children:(0,t.jsx)(B.InformationFillSmall,{color:"gray-900"})})]}):(0,t.jsx)("span",{className:"text-copy-14 text-gray-700",children:"—"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:r?(0,t.jsx)(s.Button,{disabled:!0,size:"small",type:"secondary",children:"Installed"}):(0,t.jsx)($.AddProviderButton,{canInstallIntegration:i,handleSuccess:o,integration:l,product:n,provider:a})})]})}var H=e.i(9739627),U=e.i(1438473);let _={src:e.i(7231787).default,width:66,height:53,blurWidth:0,blurHeight:0},z={src:e.i(5988448).default,width:66,height:53,blurWidth:0,blurHeight:0},V={src:e.i(9185550).default,width:97,height:60,blurWidth:0,blurHeight:0},K={src:e.i(8448868).default,width:97,height:60,blurWidth:0,blurHeight:0},G={src:e.i(8013276).default,width:70,height:56,blurWidth:0,blurHeight:0},q={src:e.i(8570052).default,width:70,height:56,blurWidth:0,blurHeight:0},X={src:e.i(4273711).default,width:170,height:56,blurWidth:0,blurHeight:0},J={src:e.i(3905296).default,width:170,height:56,blurWidth:0,blurHeight:0},Q={src:e.i(9175625).default,width:73,height:52,blurWidth:0,blurHeight:0},Y={src:e.i(7946527).default,width:73,height:52,blurWidth:0,blurHeight:0},Z={src:e.i(8671752).default,width:121,height:60,blurWidth:0,blurHeight:0},ee={src:e.i(3202286).default,width:121,height:60,blurWidth:0,blurHeight:0};function et(){let e=(0,i.useParams)(),s=String(e?.teamSlug);return(0,t.jsxs)("section",{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("header",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-heading-24",children:"Use Cases"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Choose from a variety of use cases to get started with AI."})]}),(0,t.jsxs)("ul",{className:"flex gap-6",children:[(0,t.jsx)(ei,{image:(0,t.jsx)(H.Image,{alt:"",srcDark:J,srcLight:X}),imageDesktop:(0,t.jsx)(H.Image,{alt:"",srcDark:q,srcLight:G}),link:`/${s}/~/ai/models/sonar-pro`,text:"Build a chatbot with access to the internet using Perplexity",title:"Build an AI Chatbot"}),(0,t.jsx)(ei,{image:(0,t.jsx)(H.Image,{alt:"",srcDark:K,srcLight:V}),imageDesktop:(0,t.jsx)(H.Image,{alt:"",srcDark:z,srcLight:_}),link:`/${s}/~/ai/models/sdxl`,text:"Use Stable Diffusion XL to generate images with AI",title:"Generate images with AI"}),(0,t.jsx)(ei,{image:(0,t.jsx)(H.Image,{alt:"",srcDark:ee,srcLight:Z}),imageDesktop:(0,t.jsx)(H.Image,{alt:"",srcDark:Y,srcLight:Q}),link:`/${s}/~/ai/models/eleven-turbo-v2`,text:"Convert text into audio with ElevenLabs",title:"Convert text to speech"})]})]})}function ei(e){let{title:i,text:s,image:a,imageDesktop:n,link:l}=e;return(0,t.jsx)("li",{className:"flex-[250px_1_0] md:basis-[340px]",children:(0,t.jsx)(j.Link,{className:"group no-underline",href:l,children:(0,t.jsxs)("div",{className:"material-small overflow-hidden divide-y divide-gray-400 md:h-[100px] md:flex-row md:divide-x md:divide-y-0",children:[(0,t.jsxs)("figure",{className:"flex h-[100px] shrink-0 items-center justify-center bg-background-200 md:aspect-square md:h-full",children:[(0,t.jsx)("div",{className:"md:hidden",children:a}),(0,t.jsx)("div",{className:"hidden md:block",children:n})]}),(0,t.jsxs)("article",{className:"p-4 space-y-1.5",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial text-gray-1000",children:[(0,t.jsx)("h3",{className:"text-[16px] leading-[24px] font-medium",children:i}),(0,t.jsx)("span",{className:"block transition-transform group-hover:translate-x-1",children:(0,t.jsx)(U.ArrowRight,{size:14})})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:s})]})]})})})}var es=e.i(7274338),ea=e.i(4011256);function en(e){let{searchParams:t,configurations:i,resources:s,providersWithIntegration:a,projectId:n,viewAll:l}=e,r=(0,g.filterConfigurationsByIntegrations)(i,a.connectableIntegrations.map(e=>e.integration)),o=t?.get("browse")?"":t?.get("p")?.toLowerCase(),c=r.filter(e=>!n||!e.projects||e.projects.includes(n)),d=o?c.filter(e=>e.integration?.name.toLowerCase().includes(o)&&(!n||!e.projects||e.projects.includes(n))):c,u=s.stores.filter(e=>!n||e.projectsMetadata.some(e=>e.projectId===n)),x=o?u.filter(e=>e.name.toLowerCase().includes(o)||e.product.name.toLowerCase().includes(o)||e.product.integration.name.toLowerCase().includes(o)):u,h=r.filter(e=>!c.includes(e)),m=s.stores.filter(e=>!u.includes(e)),p=m.length>0||h.length>0,f=r.length-h.length>0||s.stores.length-m.length>0,j=!!o&&0===d.length&&0===x.length,y=x.length+d.length+m.length+h.length;return{hasResourcesOrConfigurations:f,showEmptyState:j,filteredResources:l?x:x.slice(0,4),filteredConfigurations:l?d:d.slice(0,Math.max(4-x.length,0)),disconnectedResources:l?m:m.slice(0,Math.max(4-x.length-d.length,0)),disconnectedConfigurations:l?h:h.slice(0,Math.max(4-x.length-d.length-m.length,0)),hasDisconnectedResourcesOrConfigurations:p,totalItems:y}}e.s(["InstallationAndResourceList",0,function(e){let{teamSlug:g,configurationUrls:m,providersWithIntegration:p,preloadedResources:f,preloadedConfigurations:j,children:y,canInstallIntegration:v,templates:b,projectId:C}=e,{projectSlug:N}=(0,x.useProjectSlug)(),{data:I}=(0,c.useResourceList)({teamSlug:g,protocolType:"ai",fallbackData:f}),{data:S}=(0,d.useConfigurations)({skipBillingData:!0,fallbackData:j,type:"external"}),k=(0,i.useSearchParams)(),[P,A]=(0,a.useState)(!1),{hasResourcesOrConfigurations:R,filteredConfigurations:L,filteredResources:M,showEmptyState:T,hasDisconnectedResourcesOrConfigurations:B,disconnectedResources:$,disconnectedConfigurations:E,totalItems:O}=en({searchParams:k,configurations:S??j,resources:I??f,providersWithIntegration:p,projectId:C,viewAll:P});return(0,t.jsx)(u.InstallMarketplaceProductProvider,{protocolType:"ai",teamSlugOrPublic:{teamSlug:g},displayModalsInline:!1,children:R||B?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-10 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[R?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D,{showEmptyState:T,teamSlug:g}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)(o.ResourceModalsProvider,{protocolType:"ai",children:M.map(e=>(0,t.jsx)(r.ResourceItem,{Badge:(0,l.isAwsIntegration)(e.product.integration)?void 0:(0,t.jsx)("span",{className:"pl-2",children:(0,t.jsx)(h.BadgeOrIcon,{Icon:(0,t.jsx)(n.Dollar,{}),label:"Billed via Vercel",tooltip:"This integration is billed through Vercel",variant:"green-subtle"})}),item:e,resourceLinkFunc:()=>N?(0,ea.getProjectResourceDashboardLink)(e,{teamSlug:g,projectSlug:N}):(0,ea.getResourceDashboardLink)(e,{teamSlug:g})},e.id))}),L.map(e=>(0,t.jsx)(w,{configuration:{...e,url:m[e.id]},provider:p.connectableIntegrations.find(t=>t.integration.id===e.integrationId)?.provider,teamSlug:g},e.id))]})]}):null,B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-copy-16",children:"Connect existing AI Providers"}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)(o.ResourceModalsProvider,{protocolType:"ai",children:$.map(e=>(0,t.jsx)(r.ResourceItem,{alwaysShowConnectButton:!0,item:e,resourceLinkFunc:()=>(0,ea.getResourceDashboardLink)(e,{teamSlug:g})},e.id))}),E.map(e=>(0,t.jsx)(w,{configuration:{...e,url:m[e.id]},provider:p.connectableIntegrations.find(t=>t.integration.id===e.integrationId)?.provider,teamSlug:g},e.id))]})]}):null,O>4&&!P?(0,t.jsx)(s.Button,{onClick:()=>A(!0),type:"secondary",typeName:"button",children:"View All"}):null]}),b.length>0?(0,t.jsx)(es.TemplateList,{templates:b}):null,y]}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-10 flex-initial",children:[(0,t.jsx)(F,{canInstallIntegration:v,providersWithIntegration:p,teamSlug:g}),b.length>0?(0,t.jsx)(es.TemplateList,{templates:b}):(0,t.jsx)(et,{}),y]})})},"filterResourcesAndConfigurations",0,en],8061233)},2969611,e=>{"use strict";var t=e.i(847684),i=e.i(8238875),s=e.i(2504781),a=e.i(5468328),n=e.i(6891161),l=e.i(7185353),r=e.i(5338940),o=e.i(57106),c=e.i(4011256),d=e.i(9668517);e.i(8703064);var u=e.i(6798946),x=e.i(5765731),h=e.i(7594446),g=e.i(4065455),m=e.i(1017032),p=e.i(8711152),f=e.i(5074599);e.i(7037808);var j=e.i(7137779);e.i(3182268);var y=e.i(7849855),v=e.i(8525850);e.i(6887680);var b=e.i(1414602),C=e.i(4325157);e.i(5463680);var N=e.i(6356390);e.i(553769);var I=e.i(3758860),S=e.i(7710812),k=e.i(3584802);function w(e){let{active:s,onClose:a,teamSlug:o}=e,{team:d}=(0,r.useTeam)(),{hasProject:u,projectSlug:h}=(0,y.useProjectSlug)(),f=(0,i.useRouter)(),[b,k]=(0,l.useState)(null),[w,A]=(0,l.useState)(null),[R,L]=(0,l.useState)("select"),{data:M}=(0,C.useMarketplaceIntegrations)({protocolType:"ai"}),D=M?.flatMap(e=>e.products.map(t=>({product:t,integration:e}))),{data:T}=(0,m.useConfigurations)({skipBillingData:!0}),{data:B}=(0,x.useConnectableIntegrations)(),$=Array.isArray(B)?B.filter(e=>(0,S.isAiIntegration)(e)&&!T?.some(t=>"external"===t.installationType&&t.integrationId===e.id)):[],E=()=>{L("select"),A(null),a()};return D&&$?"create"===R&&w?.type==="integration"?(0,t.jsx)(g.InstallExternalIntegrationModal,{account:d,integration:w.value,onAnimationDone:E,teamSlugOrPublic:{teamSlug:o}}):"connect"===R&&b&&d?(0,t.jsx)(j.CreateResourceConnectionModal,{active:!0,onAnimationDone:()=>k(null),onClickOutside:E,onConnectionCreated:()=>{E();let e=(0,v.getResourceDetailsPath)(b,d.slug,h);f.push(e)},resourceId:b.id,store:b}):(0,t.jsxs)(n.Modal.Modal,{active:s,onClickOutside:E,children:["select"===R?(0,t.jsx)(P,{connectableIntegrations:$,nativeProducts:D,onClose:a,onNext:()=>{L("create")},onSelectionChange:e=>A(e),selectedOption:w,teamSlug:o}):null,"create"===R&&w?.type==="product"?(0,t.jsx)(N.CreateResourceModal,{cancelLabel:"Back",initialConfigurationStatus:(0,p.getConfigurationStatusByIntegrationId)(T?.filter(e=>"marketplace"===e.installationType),w.value.integration.id),integration:w.value.integration,onBack:()=>L("select"),onIntegrationResourceCreate:e=>{if(o){if(u){k(e),L("connect");return}f.push((0,c.getResourceDashboardLink)(e,{teamSlug:o}))}},product:(0,I.getProductWithSupportedProtocols)(w.value.product),teamSlug:o}):null]}):null}function P(e){let{connectableIntegrations:s,nativeProducts:a,onClose:l,onNext:r,onSelectionChange:d,selectedOption:x,teamSlug:g}=e,{canCreateIntegrationConfiguration:m,isLoading:p}=(0,h.useIntegrationPermissions)(),j=(0,i.useRouter)(),{permissions:y}=(0,b.useResourcePermissions)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsx)(n.Modal.Title,{center:!0,children:"Install AI Provider"})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[a.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,f.browseProductsTitle)("ai")}),(0,t.jsx)(o.Link,{external:!0,href:`${c.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),a.map(e=>{let{product:i,integration:s}=e;return(0,t.jsx)(u.CreateResourceCard,{description:i.shortDescription,icon:{url:s.icon},isDisabled:!y.create,isSelected:x?.type==="product"&&x.value.product.id===i.id,name:i.name,onClick:()=>{d({value:{product:i,integration:s},type:"product"})},showCreateButton:!1,tooltip:{isEnabled:!y.create,text:(0,f.missingPermissionLabel)("create","ai")}},i.id)})]}):null,a.length>0&&s.length>0?(0,t.jsx)("div",{className:"flex flex-row items-center justify-center flex-initial p-2",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-800",children:"or Connect Existing Account"})}):null,s.map(e=>(0,t.jsx)(u.CreateResourceCard,{description:e.shortDescription,icon:{url:e.icon},isDisabled:!m||p,isSelected:x?.type==="integration"&&x.value.id===e.id,name:e.name,onClick:()=>{d({type:"integration",value:e})},showCreateButton:!1,tooltip:{isEnabled:!m,text:(0,f.missingPermissionLabel)("create","ai")}},e.id))]})})]})}),(0,t.jsxs)(n.Modal.Actions,{children:[(0,t.jsx)(n.Modal.Action,{onClick:l,type:"secondary",children:"Cancel"}),(0,t.jsx)(n.Modal.Action,{buttonType:"button",disabled:!x,onClick:()=>{x&&("product"===x.type?j.push((0,k.getIntegrationCheckoutUrl)({params:{teamSlug:g??"",integrationSlug:x.value.integration.slug},searchParams:{productSlug:x.value.product.slug,cancelUrl:g?`/${g}/~/integrations/${x.value.integration.slug}`:`/marketplace/${x.value.integration.slug}`}})):r())},type:"secondary",children:"Continue"})]})]})}e.s(["CreateAIResourceButton",0,function(){let[e,i]=(0,l.useState)(!1),n=(0,d.useTeamSlug)(),{permissions:r,isLoading:o}=(0,b.useResourcePermissions)(),{canCreateIntegrationConfiguration:c}=(0,h.useIntegrationPermissions)(),u=r.create||c;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Tooltip,{disableTriggers:u||o,text:(0,f.missingPermissionLabel)("create","ai"),children:(0,t.jsx)(s.Button,{disabled:!u,onClick:()=>i(!0),type:"default",typeName:"button",children:`Install ${f.resourceTitle.ai}`})}),n?(0,t.jsx)(w,{active:e,onClose:()=>i(!1),teamSlug:n}):null]})}])},1928957,e=>{"use strict";var t=e.i(847684),i=e.i(7185353),s=e.i(8238875),a=e.i(6891161),n=e.i(5338940),l=e.i(57106),r=e.i(4011256),o=e.i(9668517);e.i(8703064);var c=e.i(6798946),d=e.i(5765731),u=e.i(7594446),x=e.i(4065455),h=e.i(1017032),g=e.i(8711152),m=e.i(5074599);e.i(7037808);var p=e.i(7137779);e.i(3182268);var f=e.i(7849855),j=e.i(8525850);e.i(6887680);var y=e.i(1414602),v=e.i(4325157);e.i(5463680);var b=e.i(6356390);e.i(553769);var C=e.i(3758860),N=e.i(7710812),I=e.i(3584802),S=e.i(7909933);function k(e){let{active:l,onClose:o,teamSlug:c}=e,{team:u}=(0,n.useTeam)(),{hasProject:m,projectSlug:y}=(0,f.useProjectSlug)(),I=(0,s.useRouter)(),[S,k]=(0,i.useState)(null),[P,A]=(0,i.useState)(null),[R,L]=(0,i.useState)("select"),{data:M}=(0,v.useMarketplaceIntegrations)({protocolType:"ai"}),D=M?.flatMap(e=>e.products.map(t=>({product:t,integration:e}))),{data:T}=(0,h.useConfigurations)({skipBillingData:!0}),{data:B}=(0,d.useConnectableIntegrations)(),$=Array.isArray(B)?B.filter(e=>(0,N.isAiIntegration)(e)&&!T?.some(t=>"external"===t.installationType&&t.integrationId===e.id)):[],E=()=>{L("select"),A(null),o()};return l&&D&&$?"create"===R&&P?.type==="integration"?(0,t.jsx)(x.InstallExternalIntegrationModal,{account:u,integration:P.value,onAnimationDone:E,teamSlugOrPublic:{teamSlug:c}}):"connect"===R&&S&&u?(0,t.jsx)(p.CreateResourceConnectionModal,{active:!0,onAnimationDone:()=>k(null),onClickOutside:E,onConnectionCreated:()=>{E();let e=(0,j.getResourceDetailsPath)(S,u.slug,y);I.push(e)},resourceId:S.id,store:S}):(0,t.jsxs)(a.Modal.Modal,{active:l,onClickOutside:E,children:["select"===R?(0,t.jsx)(w,{connectableIntegrations:$,nativeProducts:D,onClose:o,onNext:()=>{L("create")},onSelectionChange:e=>A(e),selectedOption:P,teamSlug:c}):null,"create"===R&&P?.type==="product"?(0,t.jsx)(b.CreateResourceModal,{cancelLabel:"Back",initialConfigurationStatus:(0,g.getConfigurationStatusByIntegrationId)(T?.filter(e=>"marketplace"===e.installationType),P.value.integration.id),integration:P.value.integration,onBack:()=>L("select"),onIntegrationResourceCreate:e=>{if(c){if(m){k(e),L("connect");return}I.push((0,r.getResourceDashboardLink)(e,{teamSlug:c}))}},product:(0,C.getProductWithSupportedProtocols)(P.value.product),teamSlug:c}):null]}):null}function w(e){let{connectableIntegrations:i,nativeProducts:n,onClose:o,onNext:d,onSelectionChange:x,selectedOption:h,teamSlug:g}=e,{canCreateIntegrationConfiguration:p,isLoading:f}=(0,u.useIntegrationPermissions)(),j=(0,s.useRouter)(),{permissions:v}=(0,y.useResourcePermissions)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:(0,t.jsx)(a.Modal.Title,{center:!0,children:"Install AI Provider"})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[n.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,m.browseProductsTitle)("ai")}),(0,t.jsx)(l.Link,{external:!0,href:`${r.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),n.map(e=>{let{product:i,integration:s}=e;return(0,t.jsx)(c.CreateResourceCard,{description:i.shortDescription,icon:{url:s.icon},isDisabled:!v.create,isSelected:h?.type==="product"&&h.value.product.id===i.id,name:i.name,onClick:()=>{x({value:{product:i,integration:s},type:"product"})},showCreateButton:!1,tooltip:{isEnabled:!v.create,text:(0,m.missingPermissionLabel)("create","ai")}},i.id)})]}):null,n.length>0&&i.length>0?(0,t.jsx)("div",{className:"flex flex-row items-center justify-center flex-initial p-2",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-800",children:"or Connect Existing Account"})}):null,i.map(e=>(0,t.jsx)(c.CreateResourceCard,{description:e.shortDescription,icon:{url:e.icon},isDisabled:!p||f,isSelected:h?.type==="integration"&&h.value.id===e.id,name:e.name,onClick:()=>{x({type:"integration",value:e})},showCreateButton:!1,tooltip:{isEnabled:!p,text:(0,m.missingPermissionLabel)("create","ai")}},e.id))]})})]})}),(0,t.jsxs)(a.Modal.Actions,{children:[(0,t.jsx)(a.Modal.Action,{onClick:o,type:"secondary",children:"Cancel"}),(0,t.jsx)(a.Modal.Action,{buttonType:"button",disabled:!h,onClick:()=>{h&&("product"===h.type?j.push((0,I.getIntegrationCheckoutUrl)({params:{teamSlug:g??"",integrationSlug:h.value.integration.slug},searchParams:{productSlug:h.value.product.slug,cancelUrl:g?`/${g}/~/integrations/${h.value.integration.slug}`:`/marketplace/${h.value.integration.slug}`}})):d())},type:"secondary",children:"Continue"})]})]})}e.s(["CreateAiResourceModalProvider",0,function(){let{showCreateAiResourceModal:e,setShowCreateAiResourceModal:i}=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{data:t,mutate:i}=(0,S.default)("showCreateAiResourceModal",null,{fallbackData:e});return{showCreateAiResourceModal:t,setShowCreateAiResourceModal:i}}(),s=(0,o.useTeamSlug)();return s?(0,t.jsx)(k,{active:e??!1,onClose:()=>i(!1),teamSlug:s}):null}],1928957)}]);

//# debugId=f2c39a22-884f-d924-358d-a925dc0190c1
//# sourceMappingURL=59a7dfd3ac2dd71c.js.map