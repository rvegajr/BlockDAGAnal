;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="e1113119-be67-8a01-8651-399289b0c225")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8188735,e=>{"use strict";var t=e.i(277234),a=e.i(4244280);async function s(e,s,r){return(0,t.fetchAPI)(`${(0,a.API_PROJECTS_VERSION)("v5")}/${encodeURIComponent(e)}${s?`?teamId=${s}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}async function r(e,s,r){return(0,t.fetchAPI)(`${(0,a.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}${s?`?teamId=${s}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}e.s(["default",0,s,"updateProjectSettingsV9",0,r])},6006847,906787,e=>{"use strict";var t=e.i(706035);let a=(0,t.createServerReference)("40d4d4694b0520022d1be10ae7c71a565efc4eb94c",t.callServer,void 0,t.findSourceMapURL,"applyCouponCode");e.s(["applyCouponCode",0,a],6006847);let s=(0,t.createServerReference)("401f35224271442bfb8a765973309f2f2b54a7b052",t.callServer,void 0,t.findSourceMapURL,"readCouponStatus");e.s(["readCouponStatus",0,s],906787)},606598,e=>{"use strict";e.s(["BOTID_FREE_PROMO_COUPON_CODE",0,"EC04D756-7A00-4EDD-BD31-FD4852CD76A7","BOTID_FREE_PROMO_TOAST_KEY",0,"botid-free-2025-promo"])},5838860,e=>{"use strict";var t=e.i(7185353),a=e.i(6006847),s=e.i(906787),r=e.i(9183349),o=e.i(8188735),i=e.i(606598);function d(e){let{teamId:a,couponCode:o}=e,[i,d]=(0,t.useState)({loading:!0,subscriptionId:null,redeemedCoupon:!1}),n=(0,t.useCallback)(async()=>{if(a)return(0,s.readCouponStatus)({teamIdOrSlug:a,couponCode:o})},[o,a]);return(0,t.useEffect)(()=>{a&&n().then(e=>{e&&d({...e,loading:!1})}).catch(e=>{if("production"!==r.VERCEL_ENV)throw e;d(e=>({...e,loading:!1}))})},[n,a]),{...i,readStatus:n}}e.s(["useCouponStatus",0,d,"useRedeemCoupon",0,function(e){let{couponCode:s,project:n,teamId:c}=e,[l,u]=(0,t.useState)(!1),O=d({teamId:c,couponCode:s}),_=(0,t.useCallback)(async()=>{if(c&&n){u(!0);try{if(O.redeemedCoupon)return;await Promise.all([(0,a.applyCouponCode)({teamIdOrSlug:c,couponCode:s}),(0,o.updateProjectSettingsV9)(n.name,c,{dismissedToasts:[{key:i.BOTID_FREE_PROMO_TOAST_KEY,action:"accept",value:n.security?.botIdEnabled??!1,dismissedAt:Date.now()}]})]),await O.readStatus()}catch(e){if("production"!==r.VERCEL_ENV)throw e}finally{u(!1)}}},[s,O.redeemedCoupon,n,c,O.readStatus]);return[l,_]}])},4994408,e=>{"use strict";var t=e.i(7185353);e.s(["useLoadingStates",0,function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];let[r,o]=(0,t.useState)(!1),i=a.some(e=>e);return i||r||o(!0),{is:i,has:r}}])},4771682,e=>{"use strict";var t=e.i(847684),a=e.i(8238875),s=e.i(7185353),r=e.i(2504781),o=e.i(455575),i=e.i(6307463),d=e.i(57106),n=e.i(5338940),c=e.i(4597921),l=e.i(7557283),u=e.i(1717203),O=e.i(9183349),_=e.i(6352514),E=e.i(4759942),p=e.i(6060673),T=e.i(8188735),m=e.i(4994408),h=e.i(5838860),f=e.i(606598);function b(e){let{onDismiss:a,onAccept:s}=e;return(0,t.jsxs)("div",{className:"isolate relative rounded-md *:rounded-md h-[250px] w-[420px] flex flex-col shadow-lg",children:[(0,t.jsxs)("div",{className:"relative grid place-items-center h-32 shrink-0",children:[(0,t.jsx)("figure",{className:"rounded-full size-16 border border-dashed border-gray-alpha-300 dark:border-gray-alpha-500 grid place-items-center",children:(0,t.jsx)(i.Botid,{color:"gray-900",size:32})}),(0,t.jsx)(y,{})]}),(0,t.jsxs)("div",{className:"bg-background-100 text-copy-14 flex flex-col justify-between p-4 grow",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:["BotID Deep Analysis is free until"," ",(0,t.jsx)("strong",{className:"font-medium",children:"January 15th, 2026"}),"."]}),(0,t.jsx)(d.Link,{href:"https://vercel.fyi/botid-bfcm",children:"Learn more"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,t.jsx)(r.Button,{onClick:a,type:"tertiary",children:"Dismiss"}),(0,t.jsx)(r.Button,{onClick:s,children:"Configure BotID"})]})]})]})}function y(){return(0,t.jsxs)("div",{className:"isolate absolute inset-0 -z-10 *:border-gray-alpha-300 *:dark:border-gray-alpha-500 overflow-hidden not-sr-only pointer-events-none select-none",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(to_bottom,transparent,var(--ds-background-100))] z-10"}),(0,t.jsx)("hr",{className:"border border-dashed translate-y-[31px]"}),(0,t.jsx)("hr",{className:"border border-dashed translate-y-[93px]"}),(0,t.jsx)("hr",{className:"rotate-90 border border-dashed -translate-x-[32px]"}),(0,t.jsx)("hr",{className:"rotate-90 border border-dashed translate-x-[32px]"}),(0,t.jsx)("hr",{className:"rotate-90 border border-dashed -translate-x-[96px]"}),(0,t.jsx)("hr",{className:"rotate-90 border border-dashed translate-x-[96px]"}),(0,t.jsx)("hr",{className:"rotate-90 border border-dashed -translate-x-[160px]"}),(0,t.jsx)("hr",{className:"rotate-90 border border-dashed translate-x-[160px]"})]})}e.s(["BotIdPromoToast",0,function(){let e,r=(0,a.useRouter)(),i=(0,a.usePathname)(),d=(0,o.useToasts)(),{teamSlug:y,projectSlug:R}=(e=(0,a.useParams)(),{teamSlug:e?.teamSlug??void 0,projectSlug:e?.project??void 0}),{data:S,isLoading:I}=(0,p.useProject)(R,{apiVersion:"v9"}),{team:g,isLoading:C}=(0,n.useTeam)(y),x=(0,c.useServerFlag)("esp-623",!1),v=(0,u.useCanAct)(l.Resource.SeawallConfig,[l.Action.Read,l.Action.Update],"every"),P=(0,u.useCanAct)(l.Resource.Project,[l.Action.Read,l.Action.Update],"every"),A=(0,h.useCouponStatus)({teamId:g?.id,couponCode:f.BOTID_FREE_PROMO_COUPON_CODE}),D=(0,m.useLoadingStates)(null===i,!d.loaded,I,C,A.loading),j=(0,s.useRef)(!1),B=(0,s.useMemo)(()=>(S?.dismissedToasts??[]).some(e=>e.key===f.BOTID_FREE_PROMO_TOAST_KEY),[S,f.BOTID_FREE_PROMO_TOAST_KEY]),N=(0,s.useCallback)(async()=>{if(f.BOTID_FREE_PROMO_TOAST_KEY&&R&&g?.id&&S&&(!D.is||D.has)){d.removeToastByKey(f.BOTID_FREE_PROMO_TOAST_KEY),E.analytics.track(_.AnalyticsEvent.BOTID_PROMO_TOAST_DISMISSED,{teamId:g.id,projectId:S.id});try{await (0,T.updateProjectSettingsV9)(R,g.id,{dismissedToasts:[{key:f.BOTID_FREE_PROMO_TOAST_KEY,action:"cancel",value:S.security?.botIdEnabled??!1,dismissedAt:Date.now()}]})}catch(e){if("production"!==O.VERCEL_ENV)throw e}}},[f.BOTID_FREE_PROMO_TOAST_KEY,d.removeToastByKey,R,g?.id,S,D]),M=(0,s.useCallback)(async()=>{if(f.BOTID_FREE_PROMO_TOAST_KEY&&S?.id&&g?.id&&i&&(!D.is||D.has)){d.removeToastByKey(f.BOTID_FREE_PROMO_TOAST_KEY),E.analytics.track(_.AnalyticsEvent.BOTID_PROMO_TOAST_CLICKED,{teamId:g.id,projectId:S.id});try{await (0,T.updateProjectSettingsV9)(S.id,g.id,{dismissedToasts:[{key:f.BOTID_FREE_PROMO_TOAST_KEY,action:"accept",value:S.security?.botIdEnabled??!1,dismissedAt:Date.now()}]})}catch(e){if("production"!==O.VERCEL_ENV)throw e}finally{i.includes("firewall/configure")||r.push(`/${y}/${R}/firewall/configure#bot-management`)}}},[r.push,R,y,g?.id,f.BOTID_FREE_PROMO_TOAST_KEY,S,d.removeToastByKey,i,D]);return(0,s.useEffect)(()=>{!x||j.current||B||A.loading||A.redeemedCoupon||A?.subscriptionId?.type!=="vercel"||!S||!g||!f.BOTID_FREE_PROMO_TOAST_KEY||!i||D.is&&!D.has||!v||!P||g.billing?.plan==="hobby"||i.includes("firewall/configure")||(d.message({key:f.BOTID_FREE_PROMO_TOAST_KEY,preserve:!0,fullBleed:!0,containerClassName:"!p-0 [&_[class*=actionsContainer]]:hidden [&_#toast-message] !shadow-none",text:(0,t.jsx)(b,{onDismiss:N,onAccept:M})}),E.analytics.track(_.AnalyticsEvent.BOTID_PROMO_TOAST_VIEWED,{teamId:g.id,projectId:S.id}),j.current=!0)},[f.BOTID_FREE_PROMO_TOAST_KEY,x,P,v,A,A?.subscriptionId,B,D,M,N,i,S,R,g,y,d.message]),null}])}]);

//# debugId=e1113119-be67-8a01-8651-399289b0c225
//# sourceMappingURL=bbde228204b38063.js.map