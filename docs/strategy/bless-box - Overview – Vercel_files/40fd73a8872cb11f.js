;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c992002b-2282-8ce7-6a97-70563671d320")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6711073,e=>{"use strict";var i=e.i(847684),s=e.i(7185353),n=e.i(8238875),t=e.i(455575),a=e.i(5338940),l=e.i(1717203),r=e.i(7557283),c=e.i(7837522),u=e.i(7780974),o=e.i(7589392),d=e.i(5326961),p=e.i(3134738),g=e.i(7791712),b=e.i(1295503),j=e.i(60582),m=e.i(6499259);function S(){return j.IS_DASH?(0,i.jsx)(s.Suspense,{fallback:null,children:(0,i.jsx)(f,{})}):(0,i.jsx)(m.MoreActionsButton,{})}function f(){let[e,j]=(0,s.useState)(!1),[m,S]=(0,s.useState)(!1),{EnableModal:f,openEnableModal:h}=(0,g.useOpenEnableModal)(),{track:y}=(0,c.useTrackActivity)(),A=(0,n.useParams)(),{team:x,isLoading:D}=(0,a.useTeam)(),{can:T,isLoading:v}=(0,l.default)(),M=(0,t.useToasts)(),{isEnabled:C,hasSpeedInsightsPlus:k,supportsPlus:I,enableSpeedInsights:O}=(0,d.useSpeedInsightsStatus)(),P=x?.billing?.plan==="hobby",$=x?.billing?.plan==="pro"&&"trialing"===x.billing.status,L=T(r.Action.Create,r.Resource.Drain)&&!(P||$),B=`Speed Insights ${I?"Plus":""}`,E=(0,s.useCallback)(e=>{if(y(u.VercelActivityAction.DrainsModalConverted,{source:"speed-insights-more-menu",drainType:e.drainType,kind:e.kind,isLegacy:e.isLegacy}),A?.teamSlug&&A?.project){let e=`/${A.teamSlug}/${A.project}/settings/drains`;M.success({text:"Drain successfully added",action:"View project drains",actionHref:e})}},[y,A?.teamSlug,A?.project,M.success]);async function R(){if(I)return void(k?j(!0):h());if(C)return void j(!0);if(O)try{await O(),M.success(`Enabled ${B} successfully.`)}catch{M.error(`${B} can not be enabled.`)}}return(0,i.jsxs)(i.Fragment,{children:[C&&!(D||v)?(0,i.jsx)(b.ActionMenuItem,{disabled:!L,onClick:()=>{S(!0),y(u.VercelActivityAction.DrainsModalOpened,{source:"speed-insights-more-menu"})},children:"Add Drain"}):null,(0,i.jsxs)(b.ActionMenuItem,{onClick:()=>{R()},children:[(I?k:C)?"Disable":"Enable"," ",B]}),(0,i.jsxs)(s.Suspense,{children:[(0,i.jsx)(p.DisableModal,{active:e,supportsPlus:I,close:()=>j(!1)}),f,A?.teamSlug?(0,i.jsx)(o.DrainModals,{isOpen:m,closeModal:()=>S(!1),teamSlug:A.teamSlug,projectIdOrSlug:A.project,onDrainCreated:E,drain:null,drainType:"speed_insights"}):null]})]})}e.s(["default",0,function(){return(0,i.jsx)(S,{})}],6711073)}]);

//# debugId=c992002b-2282-8ce7-6a97-70563671d320
//# sourceMappingURL=d9d6925ec807a928.js.map