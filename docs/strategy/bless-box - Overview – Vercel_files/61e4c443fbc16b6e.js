;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3916770a-6203-97b1-ef11-54111e30e154")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1781243,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.5 11.5607L9.96967 11.0303L8 9.06066L6.03033 11.0303L5.5 11.5607L4.43934 10.5L4.96967 9.96967L6.93934 8L4.96967 6.03033L4.43934 5.5L5.5 4.43934L6.03033 4.96967L8 6.93934L9.96967 4.96967L10.5 4.43934L11.5607 5.5L11.0303 6.03033L9.06066 8L11.0303 9.96967L11.5607 10.5L10.5 11.5607Z" fill="currentColor"/>');e.s(["CrossCircleFill",0,t])},4884125,e=>{"use strict";e.s(["BUILD_MACHINES",0,{standard:{memory:8,cpu:4,label:"Standard performance",description:"Cost-effective option for lightweight apps and APIs"},enhanced:{memory:16,cpu:8,label:"Enhanced performance",description:"Increased compute, ideal for large applications"},turbo:{memory:60,cpu:30,label:"Turbo performance",description:"Optimized for Turbopack builds which take advantage of multiple cores"}}])},8188735,e=>{"use strict";var t=e.i(277234),n=e.i(4244280);async function i(e,i,r){return(0,t.fetchAPI)(`${(0,n.API_PROJECTS_VERSION)("v5")}/${encodeURIComponent(e)}${i?`?teamId=${i}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}async function r(e,i,r){return(0,t.fetchAPI)(`${(0,n.API_PROJECTS_VERSION)("v9")}/${encodeURIComponent(e)}${i?`?teamId=${i}`:""}`,{method:"PATCH",body:JSON.stringify(r),throwOnHTTPError:!0})}e.s(["default",0,i,"updateProjectSettingsV9",0,r])},8488254,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),i=e.i(8238875),r=e.i(455575),o=e.i(5771992),s=e.i(6060673),a=e.i(5129431);let l=(0,n.createContext)({open:()=>{}});function c(e){let{openRef:l}=e,c=(0,i.useParams)(),{data:d}=(0,s.useProject)(c?.project),u=(0,r.useToasts)(),{data:m}=(0,o.default)({limit:5,projectId:d?.id||"",target:"production"}),{modal:p,open:f}=(0,a.default)(d||void 0);return l.current=(0,n.useCallback)(e=>{if(!m)return;let n=m.deployments.map(e=>({id:e.uid,...e}));u.removeToastByKey("save-and-redeploy"),u.success({key:"save-and-redeploy",text:(0,t.jsx)("span",{className:"hyphens-auto",children:`${e??""}${e?" ":""}A new deployment is needed for changes to take effect.`}),action:"Redeploy",onAction:()=>{f(n,{redirect:!1,copy:"You are about to create a new Deployment with the latest configuration from your Project Settings."})}})},[m,f,u]),p}e.s(["SaveAndRedeployProvider",0,function(e){let{children:i}=e,r=(0,n.useRef)(()=>{}),o=(0,n.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.current(...t)},[]);return(0,t.jsxs)(l.Provider,{value:{open:o},children:[i,(0,t.jsx)(n.Suspense,{children:(0,t.jsx)(c,{openRef:r})})]})},"useSaveAndRedeployContext",0,function(){return(0,n.useContext)(l)}])},7482607,e=>{"use strict";var t=e.i(8488254);e.s(["useSaveAndRedeploy",0,function(){let{open:e}=(0,t.useSaveAndRedeployContext)();return{open:e}}])},5174113,e=>{"use strict";let t={on:{hobby:{duration:60,maxDuration:60,cpu:"standard_legacy"},pro:{duration:90,maxDuration:800,cpu:"standard"},enterprise:{duration:90,maxDuration:800,cpu:"standard"}},on_active_cpu:{hobby:{duration:300,maxDuration:300,cpu:"standard"},pro:{duration:300,maxDuration:800,cpu:"standard"},enterprise:{duration:300,maxDuration:800,cpu:"standard"}},off:{hobby:{duration:10,maxDuration:60,cpu:"standard_legacy"},pro:{duration:15,maxDuration:300,cpu:"standard"},enterprise:{duration:15,maxDuration:900,cpu:"standard"}}};e.s(["fluidConfig",0,t,"getDefaultConfig",0,(e,n,i)=>{let r=e??"hobby";return n?i?t.on_active_cpu[r]:t.on[r]:t.off[r]}])},3542742,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),i=e.i(6060673),r=e.i(1138941);let o=(0,n.createContext)(null);e.s(["FunctionResourceConfigProvider",0,function(e){let{children:s}=e,[a,l]=(0,n.useState)({}),c=(0,r.useProjectIdOrName)(),{data:d,isLoading:u,mutate:m}=(0,i.useProject)(c),p=(0,n.useMemo)(()=>({functionDefaultTimeout:a?.functionDefaultTimeout??d?.resourceConfig?.functionDefaultTimeout,functionDefaultMemoryType:a?.functionDefaultMemoryType??d?.resourceConfig?.functionDefaultMemoryType}),[a,d?.resourceConfig]);return(0,t.jsx)(o.Provider,{value:{resourceConfig:p,isProjectLoading:u,projectData:d,onRevalidateProject:m,onSetResourceConfigState:e=>{l(e)}},children:s})},"useFunctionResourceConfig",0,function(){let e=(0,n.useContext)(o);if(!e)throw Error("useFunctionResourceConfig must be used within a FunctionResourceConfigProvider");return e}])},1556740,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),i=e.i(5255926),r=e.i(1848296),o=e.i(4138437),s=e.i(3306538),a=e.i(9318197),l=e.i(8522580),c=e.i(9722978),d=e.i(7917902),u=e.i(3322724),m=e.i(57106),p=e.i(1717203),f=e.i(7557283),g=e.i(7837522),h=e.i(7780974),x=e.i(7482607),y=e.i(4396019),b=e.i(58194),j=e.i(8188735),v=e.i(5174113),C=e.i(7168496),w=e.i(185801),N=e.i(4670733),P=e.i(3542742);let S={standard_legacy:{memory:1,cpu:.6,label:"Basic",description:"Cost-effective option for lightweight apps and APIs"},standard:{memory:1.7,cpu:1,label:"Standard",description:"Predictable performance for production workloads"},performance:{memory:3,cpu:1.7,label:"Performance",description:"Increased performance for latency-sensitive applications and SSR workloads"}},A={standard:{memory:2,cpu:1,label:"Standard",description:"Predictable performance for production workloads"},performance:{memory:4,cpu:2,label:"Performance",description:"Increased performance for latency-sensitive applications and SSR workloads"}};e.s(["FunctionDefaultMemoryType",0,function(){let{projectData:k,isProjectLoading:D,onRevalidateProject:T,resourceConfig:I,onSetResourceConfigState:M}=(0,P.useFunctionResourceConfig)(),L=(0,u.useIsMobile)(),{team:_,isTeam:E}=(0,d.useAccount)(),F=_?.billing?.plan||"hobby",{open:R}=(0,x.useSaveAndRedeploy)(),{track:B}=(0,g.useTrackActivity)(),[U,$]=(0,n.useState)(!1),[O,V]=(0,n.useState)(),{can:z,isLoading:H}=(0,p.default)(),G=(0,n.useRef)(null),{deployment:Y,isLoading:Z}=(0,y.useProjectProductionDeployment)(k?.id),{data:q,isLoading:W}=(0,b.useBuilds)(Y??null),J=(0,C.isFluidEnabled)(k),K=(0,N.useNetCpuFunctionsFlag)(k?.id??""),Q=J&&K.isReady&&K.value,X=(0,n.useMemo)(()=>{if(!Y||!q)return!1;for(let e of q.builds){let t=e.config.vercelConfig?.functions;if(null!=t&&"object"==typeof t){for(let[e,n]of Object.entries(t))if(void 0!==n.memory)return!0}}return!1},[Y,q]),ee=(0,n.useMemo)(()=>{if(void 0===E||!k)return;let e=_?.billing?.plan??"hobby";return k.resourceConfig?.functionDefaultMemoryType?k.resourceConfig.functionDefaultMemoryType:E&&"hobby"!==e||Q?"standard":"standard_legacy"},[E,_?.billing?.plan,k,Q]);(0,n.useEffect)(()=>{ee&&ee!==G.current&&(G.current=ee,M({...k?.resourceConfig,functionDefaultMemoryType:ee}))},[ee,I?.functionDefaultMemoryType,k?.resourceConfig,M]);let et=D||H||Z||W,en=z(f.Action.Update,f.Resource.Project),ei=!et&&"hobby"!==F&&en,er=ei&&I?.functionDefaultMemoryType!==ee,eo=async()=>{if(k&&I?.functionDefaultMemoryType){$(!0);try{await (0,j.default)(k.id,_?.id,{resourceConfig:{functionDefaultMemoryType:I.functionDefaultMemoryType}}),B(h.VercelActivityAction.ProjectSettingsUpdated,{projectId:k.id,teamId:_?.id??"",name:"function-cpu",value:I.functionDefaultMemoryType}),await T(),R("Updated Function CPU setting successfully.")}catch(t){await e.A(7826398).then(e=>{let{errorToString:n}=e;V(n(t))})}finally{$(!1)}}},es=Object.keys(S),ea=J?es.filter(e=>"standard_legacy"!==e):es,el=Q?A.standard:S.standard_legacy;return(0,t.jsxs)(w.ProjectSettingsFieldset,{description:"",disabled:!ei,error:O,highlightNote:!et&&!en,note:et?(0,t.jsx)(i.Skeleton,{height:32,width:200}):"hobby"===F?(0,t.jsxs)("p",{className:"text-copy-14",children:["This feature is available on the"," ",(0,t.jsx)(m.Link,{external:!0,href:"/pricing",type:"highlight",children:"Pro plan"})," "]}):en?(0,t.jsxs)("p",{className:"text-copy-14",children:["Learn more about"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory",type:"highlight",children:"Function CPU"})," ","and"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#pricing",type:"highlight",children:"Pricing"})]}):(0,t.jsx)("p",{className:"text-copy-14",children:"You need additional permissions to manage your project's CPU setting."}),onSave:eo,saveDisabled:!er,saveLoading:U,title:"Function CPU",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["This controls the maximum amount of CPU utilization your Vercel Functions can use while executing. Standard is optimal for most frontend workloads.",Q?null:(0,t.jsxs)(t.Fragment,{children:[" ","You can override this per function using the"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#setting-custom-function-memory-size",type:"highlight",children:(0,t.jsx)("code",{children:"vercel.json"})})," ","file."]})]}),(0,t.jsx)("p",{className:"text-copy-14",children:"A new Deployment is required for your changes to take effect."})]}),(0,t.jsx)(a.Spacer,{y:.5}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial w-full",children:["hobby"===F?(0,t.jsx)(l.Note,{children:(0,t.jsxs)("p",{className:"text-copy-14",children:["You currently have"," ",(0,t.jsxs)(s.Badge,{capitalize:!1,size:"sm",variant:"blue-subtle",children:[el.cpu," vCPU"]})," ","and"," ",(0,t.jsxs)(s.Badge,{capitalize:!1,size:"sm",variant:"blue-subtle",children:[el.memory," GB Memory"]})," ","on the Hobby plan. Upgrade to get faster CPU and more memory."]})}):null,(0,t.jsx)(r.RadioGroup,{onChange:e=>{M({...I,functionDefaultMemoryType:e})},value:I?.functionDefaultMemoryType??(0,v.getDefaultConfig)(F,(0,C.isFluidEnabled)(k),Q).cpu,children:(0,t.jsx)("div",{className:(0,c.clsx)("flex flex-col items-stretch justify-start flex-initial",L?"gap-2":"gap-4"),children:ea.map(e=>{let{memory:n,cpu:l,label:d,description:u}=Q?A[e]:S[e],m=l<=1;return(0,t.jsx)(i.Skeleton,{show:et,children:(0,t.jsx)(o.Card,{className:(0,c.clsx)("border p-0 pl-4",{"border-solid border-[var(--ds-blue-700)]":I?.functionDefaultMemoryType===e}),gap:2,padding:4,secondary:I?.functionDefaultMemoryType===e,children:(0,t.jsx)(r.RadioGroup.Item,{className:"items-center",fullWidth:!0,value:e,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-between flex-initial p-4 pl-2",children:[(0,t.jsxs)("div",{className:(0,c.clsx)("flex items-stretch justify-start flex-initial",L?"flex-col":"flex-row"),children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:d}),(0,t.jsxs)("div",{className:(0,c.clsx)("flex flex-row items-stretch justify-start flex-initial",L?"mb-1 mt-1":""),children:[(0,t.jsx)(a.Spacer,{x:+!L}),(0,t.jsxs)(s.Badge,{className:"w-fit p-2 normal-case",size:"sm",variant:I?.functionDefaultMemoryType===e?"blue-subtle":"gray-subtle",children:[l," vCPU",m?"":"s"]}),(0,t.jsx)(a.Spacer,{x:L?.25:.5}),(0,t.jsxs)(s.Badge,{className:"w-fit p-2",size:"sm",variant:I?.functionDefaultMemoryType===e?"blue-subtle":"gray-subtle",children:[n," GB Memory"]})]})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:u})]})})},e)},e)})})}),!et&&ei&&X?(0,t.jsx)(l.Note,{className:"mt-4 pl-4",fill:!0,type:"warning",children:(0,t.jsxs)("p",{className:"text-copy-14 text-inherit p-1 pl-2",children:["The current production deployment has custom overrides in"," ",(0,t.jsx)(m.Link,{external:!0,href:"/docs/functions/configuring-functions/memory#setting-custom-function-memory-size",type:"highlight",children:(0,t.jsx)("code",{children:"vercel.json"})}),","," ",Q?"which gets ignored.":"which takes priority over this setting."]})}):void 0]})]})},"LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE",0,S,"LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU",0,A])},1298796,e=>{"use strict";var t=e.i(847684),n=e.i(9722978),i=e.i(7137884),r=e.i(8517043);e.s(["DeploymentCardContainer",0,function(e){let{children:i,variant:r="default"}=e;return(0,t.jsx)("div",{className:(0,n.clsx)("material-base isolate !rounded-md border-x-0 border-b border-t-0","after:absolute after:-inset-px after:bottom-0 after:z-[-2] after:block after:rounded-md after:bg-gradient-to-b after:from-gray-300 after:from-40% after:to-90% after:content-['']","before:absolute before:inset-0 before:bottom-px before:z-[-1] before:block before:rounded-md before:content-['']",{"before:bg-background-100 after:to-gray-200":"light"===r,"before:bg-background-200 after:to-gray-300":"default"===r,"before:bg-red-300 after:to-red-400":"error"===r,"before:bg-amber-300 after:to-amber-400":"warning"===r}),children:i})},"DeploymentCardStatusBar",0,function(e){let{variant:o="default",children:s,...a}=e;return(0,t.jsxs)(r.Fieldset,{className:(0,n.clsx)("relative w-full rounded-b-[7px] rounded-t-none shadow-none",{"bg-background-100":"light"===o,"bg-background-200":"default"===o,"bg-red-300 text-red-900":"error"===o,"bg-amber-200 text-amber-900":"warning"===o}),...a,children:["default"!==o&&"light"!==o?(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"error"===o?"repeating-linear-gradient(-45deg, transparent, transparent 16px, var(--ds-red-400) 16px, var(--ds-red-400) 32px)":"repeating-linear-gradient(-45deg, transparent, transparent 16px, var(--ds-amber-400) 16px, var(--ds-amber-400) 32px)",maskImage:"linear-gradient(to left, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 30%)"}}):null,(0,t.jsx)(i.FieldsetContent,{className:"flex w-full items-center justify-between bg-transparent px-4 py-3 md:py-0 md:pl-4 md:pr-2",children:(0,t.jsx)("div",{className:"space-between text-copy-14 flex w-full flex-col items-start gap-x-2 gap-y-4 md:h-12 md:flex-row md:items-center",children:s})})]})},"DeploymentCardStatusBarLeft",0,function(e){let{children:i,className:r}=e;return(0,t.jsx)("div",{className:(0,n.clsx)("flex min-h-[44px] w-full items-center lg:min-h-full",r),children:i})},"DeploymentCardStatusBarRight",0,function(e){let{children:n}=e;return(0,t.jsx)("div",{className:"w-full shrink-0 md:ml-auto md:w-auto md:text-right",children:n})},"getStatusBarVariant",0,function(e){let{productionDeploymentIsStale:t,upcomingDeployment:n,isLoading:i}=e;return i?"default":t?"warning":n?.aliasError?"error":"default"}])},5720918,e=>{"use strict";e.s(["getDeploymentConfiguration",0,function(e){let{project:t,deployment:n}=e;if(!t)return null;let i={skewProtectionMaxAge:t.skewProtectionMaxAge??null,deploymentProtection:(t.ssoProtection||t.passwordProtection)?.deploymentType??null,nodeVersion:t.nodeVersion},r=t.nodeVersion;n.projectSettings?.nodeVersion&&(n.gitSource?r=n.projectSettings.nodeVersion:n.nodeVersion||(r=n.projectSettings.nodeVersion));let o=r;return(n.nodeVersion&&(o=n.nodeVersion),n.config?.version)?{deploymentConfig:{...n.config,nodeVersion:o},projectConfig:{...i,nodeVersion:r}}:{projectConfig:{...i,nodeVersion:r}}}])},5566974,e=>{"use strict";var t=e.i(847684),n=e.i(8284460),i=e.i(9722978),r=e.i(8436238),o=e.i(7432042),s=e.i(3306538),a=e.i(2504781),l=e.i(5255926),c=e.i(5468328),d=e.i(7185353),u=e.i(7837522),m=e.i(7780974),p=e.i(1781243),f=e.i(9138164),g=e.i(9386557),h=e.i(7807066),x=e.i(8761240),y=e.i(9096446),b=e.i(9429910);e.i(6483798);var j=e.i(8287059),v=e.i(57106),C=e.i(8238875),w=e.i(2940029),N=e.i(5720918),P=e.i(5338940),S=e.i(4884125),A=e.i(4005781),k=e.i(7909933),D=e.i(8042625),T=e.i(277234);function I(e){let{projectId:t,teamId:n}=e;return(0,k.default)(["/api/deployment-settings-recommendation-dismissals",n,t],async e=>{let[i]=e;return await (0,T.fetchAPI)(`${i}${(0,D.encode)({projectId:t,teamId:n})}`,{method:"GET",throwOnHTTPError:!0})})}var M=e.i(1803156),L=e.i(1988648),_=e.i(1173672),E=e.i(8091742);let F=[{id:"fluid-compute",title:"Faster functions at a lower cost",message:"Run multiple invocations on a single function instance, reducing idle compute time and lowering costsâ€‹.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/functions#fluid-compute`},shouldShow:e=>{let{deploymentConfig:t}=e;return!t?.functionType||"fluid"!==t.functionType},trackingSection:"fluid",priority:10},{id:"prioritize-production-builds",title:"Skip Build Queues for Production",message:"Production deployments build immediately while preview builds wait in queue.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#prioritize-production-builds`},shouldShow:e=>{let{project:t}=e;return!t?.productionDeploymentsFastLane&&!t?.resourceConfig?.elasticConcurrencyEnabled},trackingSection:"prioritize-production-builds",groupId:"build-queues",priority:5},{id:"concurrent-builds",title:"Build Multiple Deployments Simultaneously",message:"Never wait for a queued build.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#on-demand-concurrent-builds`},shouldShow:e=>{let{project:t}=e;return!t?.resourceConfig?.elasticConcurrencyEnabled},trackingSection:"on-demand-concurrent-builds",groupId:"build-queues",priority:10},{id:"build-machine",title:"Get builds up to 40% faster",message:"Switch to a bigger build machine.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/build-and-deployment#build-machine`},shouldShow:e=>{let{buildMachineForDisplay:t}=e;return"standard"===t},trackingSection:"build-machine",priority:10},{id:"skew-protection",title:"Prevent Frontend-Backend Mismatches",message:"Automatically sync client and server versions to avoid deployment conflicts.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/advanced#skew-protection`},shouldShow:e=>{let{project:t}=e;return!t?.skewProtectionMaxAge},trackingSection:"skew-protection",priority:5},{id:"deployment-protection",title:"Secure Preview Deployments",message:"Require authentication before anyone can view your preview and production sites.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/deployment-protection#vercel-authentication`},shouldShow:e=>{let{project:t}=e;return!t?.ssoProtection?.deploymentType&&!t?.passwordProtection?.deploymentType},trackingSection:"vercel-authentication",priority:5},{id:"microfrontends",title:"Create Smaller Applications with Microfrontends",message:"Split large applications into smaller ones to improve build times.",resolveUrl:e=>{let{teamSlug:t,projectSlug:n}=e;return`/${t}/${n}/settings/microfrontends`},shouldShow:e=>{let{deployment:t,project:n,team:i}=e,r=t?.readyStateAt||t?.ready;if(!i||!r||!t?.buildingAt||n?.microfrontends?.enabled)return!1;let o=i.billing?.plan==="pro"&&"unbundled"!==i.billing.planIteration||i.billing?.plan==="enterprise",s=r-t.buildingAt>9e5;return o&&s},trackingSection:"microfrontends",priority:5},{id:"custom-domains",title:"Find a Custom Domain",message:"Purchase a domain. Fast, at-cost & private.",resolveUrl:()=>"/domains",shouldShow:async e=>{let{deployment:t,project:n,team:i}=e;if(!t||!n||!i)return!1;try{let[e,r]=await Promise.all([(0,T.default)((0,L.getDashboardDeploymentDomainsEndpoint)({deploymentId:t.id,teamSlug:i.slug??""}),{throwOnHTTPError:!0}),(0,T.default)((0,_.getProjectProductionDeploymentKey)({projectIdOrName:n.name,teamId:i.slug}),{throwOnHTTPError:!0})]),o=!!(t&&r.deployment?.id===t.id),s=(0,E.filterAutoAssignedDomains)(i,e.aliases),a=e.aliases.length!==s.length;return o&&!a}catch(e){return!1}},trackingSection:"custom-domains",priority:5}];var R=e.i(9041876),B=e.i(1556740);function U(e,t,n){let i=n?.resourceConfig?.buildMachineType;return"enhanced"===i||"turbo"===i?i:(0,R.getProjectBuildMachine)(e,t)}function $(e){if(e&&e.deploymentConfig)return e.deploymentConfig.isUsingActiveCPU?"performance"===e.deploymentConfig.functionMemoryType?B.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU.performance:B.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE_ACTIVE_CPU.standard:B.LAMBDA_DEFAULT_MEMORY_SIZE_TEMPLATE[e.deploymentConfig.functionMemoryType]}let O={all:"All Deployments",preview:"Pre-Production Deployments",prod_deployment_urls_and_all_previews:"(Legacy) Standard Protection",all_except_custom_domains:"Standard Protection"};function V(e){let{disabled:r,isLoading:o,children:s,titleContent:a,inlineConfig:c,className:d}=e;return(0,t.jsx)(n.Root,{className:(0,i.clsx)(d,{"bg-background-200":r}),disabled:r||o,type:"multiple",children:(0,t.jsxs)(n.Item,{value:"configuration",children:[(0,t.jsx)(n.Trigger,{className:(0,i.clsx)("ease flex h-12 w-full items-center justify-between border-0 border-t border-gray-alpha-400 bg-transparent px-4 transition-all duration-200 disabled:text-gray-900",{"cursor-pointer":!r,"cursor-not-allowed":r}),children:(0,t.jsx)("span",{className:"flex items-center w-full gap-2",children:o?(0,t.jsx)(l.Skeleton,{height:16,width:160}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.ChevronRight,{className:"ease-[ease] transition-transform duration-200 [[data-state=open]_&]:rotate-90",color:"gray-900"}),(0,t.jsxs)("span",{className:"flex items-center w-full gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-label-14 text-gray-1000",children:"Deployment Settings"}),a&&(0,t.jsx)("span",{className:(0,i.clsx)("ease transition-all duration-200","[[data-state=open]_&]:translate-y-0.5 [[data-state=open]_&]:scale-[0.99] [[data-state=open]_&]:opacity-0"),children:a})]}),c?(0,t.jsx)("span",{className:(0,i.clsx)("ease transition-all duration-200","[[data-state=open]_&]:translate-y-0.5 [[data-state=open]_&]:scale-[0.99] [[data-state=open]_&]:opacity-0"),children:c}):null]})})}),(0,t.jsx)(n.Content,{className:" overflow-hidden will-change-[height] [[data-state=closed]_&]:animate-content-close [[data-state=open]_&]:animate-content-open ",children:s})]})})}function z(e){let{className:n}=e;return(0,t.jsx)(V,{className:n,disabled:!0})}function H(e){let{count:n}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Badge,{variant:"blue-subtle",icon:(0,t.jsx)(b.InformationFill,{color:"blue-700"}),className:"@md-page:hidden"}),(0,t.jsx)(s.Badge,{variant:"blue-subtle",className:"hidden @md-page:inline-flex",children:(0,t.jsxs)("span",{className:"font-sans font-medium",children:[n," Recommendation",1===n?"":"s"]})})]})}function G(){return(0,t.jsx)(s.Badge,{variant:"amber-subtle",icon:(0,t.jsx)(g.WarningFill,{color:"amber-700"}),children:(0,t.jsxs)("span",{className:"font-medium font-sans hidden @md-page:inline",children:[(0,t.jsx)("span",{className:"normal-case",children:"Node.js"})," version override"]})})}function Y(e){let{text:n="Enabled"}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.CheckCircleFill,{color:"blue-700"}),(0,t.jsx)("span",{className:"group-hover:underline",children:n})]})}function Z(e){let{Icon:n,text:i="Disabled"}=e;return(0,t.jsxs)(t.Fragment,{children:[n||(0,t.jsx)(p.CrossCircleFill,{color:"gray-900"}),(0,t.jsx)("span",{className:"group-hover:underline",children:i})]})}function q(){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.SettingsGear,{color:"gray-900"}),(0,t.jsx)("span",{className:"group-hover:underline",children:"Manage"})]})}function W(e){let{Icon:n,children:r,className:o,...s}=e;return(0,t.jsxs)("span",{className:(0,i.clsx)("text-label-14 flex flex-row items-center gap-2 whitespace-nowrap text-gray-900",o),...s,children:[n,r]})}function J(e){let{children:n,...i}=e;return(0,t.jsx)(W,{Icon:(0,t.jsx)(x.CheckCircleFill,{color:"blue-700"}),...i,children:n})}function K(e){let{children:n,Icon:i,...r}=e;return(0,t.jsx)(W,{Icon:i||(0,t.jsx)(p.CrossCircleFill,{color:"gray-900"}),...r,children:n})}function Q(e){let{recommendations:n,teamSlug:i,projectSlug:r}=e,{track:o}=(0,u.useTrackActivity)(),s=(0,d.useRef)(new Set);(0,d.useEffect)(()=>{n.forEach(e=>{s.current.has(e.id)||(s.current.add(e.id),o(m.VercelActivityAction.DeploymentOverviewRecommendationImpression,{recommendationId:e.id}))})},[n,o]);let{data:l,mutate:c}=I({projectId:r,teamId:i}),{trigger:p}=function(e){let{projectId:t,teamId:n}=e;return(0,A.default)(["/api/deployment-settings-recommendation-dismissals",n,t],async(e,i)=>{let[r]=e,{arg:o}=i;return await (0,T.fetchAPI)(r,{method:"PATCH",body:{teamId:n,projectId:t,recommendationId:o},throwOnHTTPError:!0})})}({projectId:r,teamId:i});return 0===n.length?null:(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t",children:[(0,t.jsx)("h3",{className:"font-medium text-heading-14",children:"Recommendations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 @lg-page:grid-cols-3 gap-3 align-stretch",children:n.map(e=>{let n;return(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(v.Link,{href:((n=new URL(e.resolveUrl({teamSlug:i,projectSlug:r}),window.location.origin)).searchParams.has("source")||n.searchParams.set("source","recommendation-card"),n.pathname+n.search+n.hash),onClick:()=>{o(m.VercelActivityAction.DeploymentOverviewRecommendationClick,{recommendationId:e.id}),o(m.VercelActivityAction.DeploymentOverviewConfigClick,{section:e.trackingSection,isRecommendation:!0})},className:"block h-full px-4 py-3 group material-small hover:border-gray-500",children:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"font-medium text-label-14 text-gray-1000",children:e.title}),(0,t.jsx)("div",{className:"text-gray-900 text-label-14 text-pretty",children:e.message})]})}),(0,t.jsx)(a.Button,{className:"absolute z-10 hidden group-focus-within:block group-hover:block -top-2 -right-2","aria-label":"Dismiss notification",type:"secondary",shape:"circle",svgOnly:!0,size:"tiny",tabIndex:0,onClick:()=>{c([...l??[],e.id],{populateCache:!0,revalidate:!1,rollbackOnError:!0}),p(e.id),o(m.VercelActivityAction.DeploymentOverviewRecommendationDismissal,{recommendationId:e.id})},children:(0,t.jsx)(y.CrossSmall,{})})]},e.id)})})]})}e.s(["DeploymentConfiguration",0,function(e){let{project:n,deployment:i,className:l}=e,{teamSlug:p="",project:f=""}=(0,C.useParams)()??{},{team:h}=(0,P.useTeam)(),x=!h?.billing?.plan||"hobby"===h.billing.plan,{track:y}=(0,u.useTrackActivity)(),b=(0,j.useOpenUpgradeModal)(),A=(0,N.getDeploymentConfiguration)({deployment:i,project:n}),{data:D,isLoading:T}=function(e){let{project:t,deployment:n,team:i}=e,{teamSlug:r="",project:o=""}=(0,C.useParams)()??{},{data:s,isLoading:a}=I({projectId:o,teamId:r}),l=(0,N.getDeploymentConfiguration)({deployment:n,project:t}),c=(0,k.default)(l&&i&&t&&n?["deployment-config-recommendations",n.id]:null,async()=>{if(!l||!i||!t||!n)return[];let e=(await Promise.all(F.map(async e=>({recommendation:e,shouldShow:await e.shouldShow({deployment:n,project:t,deploymentConfig:l.deploymentConfig,buildMachineForDisplay:U(t,i,l.deploymentConfig),memoryType:$(l),isHobby:!i?.billing?.plan||"hobby"===i.billing.plan,team:i})})))).map(e=>e.shouldShow?e.recommendation:null).filter(e=>null!==e);return Object.entries((0,M.default)(e,e=>e.groupId??"default")).reduce((e,t)=>{let[n,i]=t;if("default"===n)return e.concat(i);let r=i.toSorted((e,t)=>t.priority-e.priority);return e.concat(r[0])},[]).toSorted((e,t)=>t.priority-e.priority)}),u=(0,d.useMemo)(()=>a?void 0:c.data?.filter(e=>!s?.includes(e.id)),[s,c.data,a]);return{...c,data:u,isLoading:c.isLoading||a}}({project:n,deployment:i,team:h}),L=$(A),_=U(n,h,A?.deploymentConfig);function E(e){return()=>{y(m.VercelActivityAction.DeploymentOverviewConfigClick,{section:e})}}let[R,B]=(0,d.useMemo)(()=>{let[e,...t]=S.BUILD_MACHINES[_].label.split(" ");return[e,t.join(" ")]},[_]);if(!A)return(0,t.jsx)(z,{className:l});let{deploymentConfig:W,projectConfig:X}=A,ee=W?.nodeVersion&&W.nodeVersion!==X.nodeVersion;return(0,t.jsxs)(V,{className:l,titleContent:(0,t.jsxs)("div",{className:"flex gap-2",children:[ee?(0,t.jsx)(G,{}):null,D&&D.length>0&&!T?(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},children:(0,t.jsx)(H,{count:D.length})}):null]}),inlineConfig:D&&0===D.length&&!T?(0,t.jsxs)(r.motion.div,{className:"hidden flex-row items-center gap-3 @lg-page:flex",initial:{opacity:0},animate:{opacity:1},children:[W&&"fluid"===W.functionType?(0,t.jsx)(J,{children:"Fluid Compute"}):(0,t.jsx)(K,{children:"Fluid Compute"}),X.deploymentProtection?(0,t.jsx)(J,{children:"Deployment Protection"}):(0,t.jsx)(K,{Icon:(0,t.jsx)(g.WarningFill,{color:"amber-800"}),children:"Deployment Protection"}),X.skewProtectionMaxAge?(0,t.jsx)(J,{children:"Skew Protection"}):(0,t.jsx)(K,{children:"Skew Protection"}),x?(0,t.jsx)(K,{children:"Cold Start Prevention"}):(0,t.jsx)(J,{children:"Cold Start Prevention"})]}):null,children:[(0,t.jsx)(Q,{recommendations:D??[],teamSlug:p,projectSlug:f}),(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t bg-background-200",children:[(0,t.jsx)("h3",{className:"font-medium text-heading-14",children:"Build Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] @lg-page:grid-cols-3 gap-3",children:[(0,t.jsx)(w.Attribute,{title:"On-Demand Concurrent Builds",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/build-and-deployment#on-demand-concurrent-builds`,onClick:E("on-demand-concurrent-builds"),children:n?.resourceConfig?.elasticConcurrencyEnabled?(0,t.jsx)(Y,{}):(0,t.jsx)(Z,{})})})}),(0,t.jsx)(w.Attribute,{title:"Build Machine",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/build-and-deployment#build-machine`,onClick:E("build-machine"),children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"group-hover:underline",children:[R,(0,t.jsxs)("span",{className:"hidden @xl-page:inline",children:[" ",B]})]}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[S.BUILD_MACHINES[_].cpu," vCPU",S.BUILD_MACHINES[_].cpu<=1?"":"s"]}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[S.BUILD_MACHINES[_].memory," GB Memory"]})]}):(0,t.jsx)(q,{})})})}),(0,t.jsx)(w.Attribute,{title:"Prioritize Production Builds",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/build-and-deployment#prioritize-production-builds`,onClick:E("prioritize-production-builds"),children:n?.productionDeploymentsFastLane?(0,t.jsx)(Y,{}):(0,t.jsx)(Z,{})})})})]})]}),(0,t.jsxs)("section",{className:"flex flex-col gap-3 px-10 py-4 border-t bg-background-200 rounded-b-md",children:[(0,t.jsx)("h3",{className:"font-medium text-heading-14",children:"Runtime Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(250px,1fr))] @lg-page:grid-cols-3 gap-3",children:[(0,t.jsx)(w.Attribute,{title:"Fluid Compute",children:(0,t.jsx)(w.Attribute.Item,{className:"capitalize",children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/functions#fluid-compute`,onClick:E("fluid"),children:W?"fluid"===W.functionType?(0,t.jsx)(Y,{}):(0,t.jsx)(Z,{}):(0,t.jsx)(q,{})})})}),(0,t.jsx)(w.Attribute,{title:"Function CPU",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/functions#function-cpu`,onClick:E("function-cpu"),children:L?(0,t.jsxs)(t.Fragment,{children:["Basic"===L.label&&W?.functionType==="fluid"?null:(0,t.jsx)("span",{className:"group-hover:underline",children:L.label}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[L.cpu," vCPU",L.cpu<=1?"":"s"]}),(0,t.jsxs)(s.Badge,{size:"sm",variant:"blue-subtle",capitalize:!1,children:[L.memory," GB Memory"]})]}):(0,t.jsx)(q,{})})})}),W?.nodeVersion?(0,t.jsx)(w.Attribute,{title:"Node.js Version",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/build-and-deployment#node.js-version`,onClick:E("node-js-version"),children:ee?(0,t.jsx)(c.Tooltip,{text:"Project Setting overridden by package.json",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.WarningFill,{color:"amber-800"}),(0,t.jsxs)("span",{className:"group-hover:underline",children:[(0,t.jsx)("span",{children:W.nodeVersion})," ",(0,t.jsx)("span",{className:"text-gray-900 line-through",children:X.nodeVersion})]})]})}):(0,t.jsx)("span",{className:"group-hover:underline",children:W.nodeVersion})})})}):null,(0,t.jsx)(w.Attribute,{title:"Deployment Protection",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/deployment-protection#vercel-authentication`,onClick:E("vercel-authentication"),children:X.deploymentProtection?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(Y,{text:O[X.deploymentProtection]})}):(0,t.jsx)(Z,{Icon:(0,t.jsx)(g.WarningFill,{color:"amber-800"})})})})}),(0,t.jsx)(w.Attribute,{title:"Skew Protection",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group contents",href:`/${p}/${f}/settings/advanced#skew-protection`,onClick:E("skew-protection"),children:X.skewProtectionMaxAge?(0,t.jsx)(Y,{text:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Enabled"}),(0,t.jsx)("span",{className:"text-gray-900 group-hover:underline",children:(0,o.default)(1e3*X.skewProtectionMaxAge,{long:!0})})]})}):(0,t.jsx)(Z,{})})})}),(0,t.jsx)(w.Attribute,{title:"Cold Start Prevention",children:(0,t.jsx)(w.Attribute.Item,{children:x?(0,t.jsx)(a.Button,{className:"group [&>span]:p-0 [&>span]:flex [&>span]:items-center [&>span]:gap-2",variant:"unstyled",onClick:()=>{E("cold-start-prevention"),b({teamHint:p,source:"deployment-configuration-cold-start-prevention"})},children:(0,t.jsx)(Z,{})}):(0,t.jsx)(Y,{})})}),W?.secureComputePrimaryRegion?(0,t.jsx)(w.Attribute,{title:"Secure Compute",children:(0,t.jsx)(w.Attribute.Item,{children:(0,t.jsx)(v.Link,{className:"group",href:`/${p}/~/settings/secure-compute`,onClick:E("secure-compute"),children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Primary"}),(0,t.jsx)(s.Badge,{className:"text-label-13-mono mx-1 !lowercase",size:"sm",variant:"gray-subtle",children:W.secureComputePrimaryRegion})]}),W.secureComputeFallbackRegion?(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"group-hover:underline",children:"Fallback"}),(0,t.jsx)(s.Badge,{className:"text-label-13-mono mx-1 !lowercase",size:"sm",variant:"gray-subtle",children:W.secureComputeFallbackRegion})]}):null]})})})}):null]})]})]})},"DeploymentConfigurationRoot",0,V,"DeploymentConfigurationSkeleton",0,function(e){let{className:n}=e;return(0,t.jsx)(V,{className:n,isLoading:!0})}],5566974)}]);

//# debugId=3916770a-6203-97b1-ef11-54111e30e154
//# sourceMappingURL=6681e796147a025c.js.map