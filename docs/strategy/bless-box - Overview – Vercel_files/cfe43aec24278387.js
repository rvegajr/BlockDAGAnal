;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ef1849fa-9754-a3ea-a953-e5fbb0b1260d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7735885,(e,t,n)=>{e.e,t.exports=function(){var e=[function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(2),a=n(8),o=n(0);e.exports=function(){var e,t;function n(e,t){var r=t.location,i=t.distance,s=t.threshold,o=t.maxPatternLength,l=t.caseSensitive,c=t.tokenSeparator,d=t.findAllMatches,u=t.minMatchCharLength,h=t.id,m=t.keys,g=t.shouldSort,f=t.getFn,p=t.sortFn,x=void 0===p?function(e,t){return e.score-t.score}:p,v=t.tokenize,y=t.matchAllTokens,b=t.includeMatches,j=t.includeScore,S=t.verbose;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.options={location:void 0===r?0:r,distance:void 0===i?100:i,threshold:void 0===s?.6:s,maxPatternLength:void 0===o?32:o,isCaseSensitive:void 0!==l&&l,tokenSeparator:void 0===c?/ +/g:c,findAllMatches:void 0!==d&&d,minMatchCharLength:void 0===u?1:u,id:void 0===h?null:h,keys:void 0===m?[]:m,includeMatches:void 0!==b&&b,includeScore:void 0!==j&&j,shouldSort:void 0===g||g,getFn:void 0===f?a:f,sortFn:x,verbose:void 0!==S&&S,tokenize:void 0!==v&&v,matchAllTokens:void 0!==y&&y},this.setCollection(e)}return e=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,i=n.fullSearcher,s=this._search(r,i),a=s.weights,o=s.results;return this._computeScore(a,o),this.options.shouldSort&&this._sort(o),t.limit&&"number"==typeof t.limit&&(o=o.slice(0,t.limit)),this._format(o)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,i=n.length;r<i;r+=1)t.push(new s(n[r],this.options));return{tokenSearchers:t,fullSearcher:new s(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},i=[];if("string"==typeof n[0]){for(var s=0,a=n.length;s<a;s+=1)this._analyze({key:"",value:n[s],record:s,index:s},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var o={},l=0,c=n.length;l<c;l+=1)for(var d=n[l],u=0,h=this.options.keys.length;u<h;u+=1){var m=this.options.keys[u];if("string"!=typeof m){if(o[m.name]={weight:1-m.weight||1},m.weight<=0||m.weight>1)throw Error("Key weight has to be > 0 and <= 1");m=m.name}else o[m]={weight:1};this._analyze({key:m,value:this.options.getFn(d,m),record:d,index:l},{resultMap:r,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:o,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,r=e.arrayIndex,i=void 0===r?-1:r,s=e.value,a=e.record,l=e.index,c=t.tokenSearchers,d=void 0===c?[]:c,u=t.fullSearcher,h=void 0===u?[]:u,m=t.resultMap,g=void 0===m?{}:m,f=t.results,p=void 0===f?[]:f;if(null!=s){var x=!1,v=-1,y=0;if("string"==typeof s){this._log("\nKey: ".concat(""===n?"-":n));var b=h.search(s);if(this._log('Full text: "'.concat(s,'", score: ').concat(b.score)),this.options.tokenize){for(var j=s.split(this.options.tokenSeparator),S=[],w=0;w<d.length;w+=1){var k=d[w];this._log('\nPattern: "'.concat(k.pattern,'"'));for(var T=!1,I=0;I<j.length;I+=1){var M=j[I],A=k.search(M),N={};A.isMatch?(N[M]=A.score,x=!0,T=!0,S.push(A.score)):(N[M]=1,this.options.matchAllTokens||S.push(1)),this._log('Token: "'.concat(M,'", score: ').concat(N[M]))}T&&(y+=1)}v=S[0];for(var _=S.length,C=1;C<_;C+=1)v+=S[C];v/=_,this._log("Token score average:",v)}var P=b.score;v>-1&&(P=(P+v)/2),this._log("Score average:",P);var L=!this.options.tokenize||!this.options.matchAllTokens||y>=d.length;if(this._log("\nCheck Matches: ".concat(L)),(x||b.isMatch)&&L){var E=g[l];E?E.output.push({key:n,arrayIndex:i,value:s,score:P,matchedIndices:b.matchedIndices}):(g[l]={item:a,output:[{key:n,arrayIndex:i,value:s,score:P,matchedIndices:b.matchedIndices}]},p.push(g[l]))}}else if(o(s))for(var O=0,D=s.length;O<D;O+=1)this._analyze({key:n,arrayIndex:O,value:s[O],record:a,index:l},{resultMap:g,results:p,tokenSearchers:d,fullSearcher:h})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,r=t.length;n<r;n+=1){for(var i=t[n].output,s=i.length,a=1,o=1,l=0;l<s;l+=1){var c=e?e[i[l].key].weight:1,d=(1===c?i[l].score:i[l].score||.001)*c;1!==c?o=Math.min(o,d):(i[l].nScore=d,a*=d)}t[n].score=1===o?a:o,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,function(e,t){if("object"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t})),n=null}var i=[];this.options.includeMatches&&i.push(function(e,t){var n=e.output;t.matches=[];for(var r=0,i=n.length;r<i;r+=1){var s=n[r];if(0!==s.matchedIndices.length){var a={indices:s.matchedIndices,value:s.value};s.key&&(a.key=s.key),s.hasOwnProperty("arrayIndex")&&s.arrayIndex>-1&&(a.arrayIndex=s.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&i.push(function(e,t){t.score=e.score});for(var s=0,a=e.length;s<a;s+=1){var o=e[s];if(this.options.id&&(o.item=this.options.getFn(o.item,this.options.id)[0]),i.length){for(var l={item:o.item},c=0,d=i.length;c<d;c+=1)i[c](o,l);t.push(l)}else t.push(o.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}],i(n.prototype,e),t&&i(n,t),n}()},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(3),s=n(4),a=n(7);e.exports=function(){var e,t;function n(e,t){var r=t.location,i=t.distance,s=t.threshold,o=t.maxPatternLength,l=void 0===o?32:o,c=t.isCaseSensitive,d=t.tokenSeparator,u=t.findAllMatches,h=t.minMatchCharLength;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.options={location:void 0===r?0:r,distance:void 0===i?100:i,threshold:void 0===s?.6:s,maxPatternLength:l,isCaseSensitive:void 0!==c&&c,tokenSeparator:void 0===d?/ +/g:d,findAllMatches:void 0!==u&&u,minMatchCharLength:void 0===h?1:h},this.pattern=this.options.isCaseSensitive?e:e.toLowerCase(),this.pattern.length<=l&&(this.patternAlphabet=a(this.pattern))}return e=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,r=t.tokenSeparator;if(this.pattern.length>n)return i(e,this.pattern,r);var a=this.options,o=a.location,l=a.distance,c=a.threshold,d=a.findAllMatches,u=a.minMatchCharLength;return s(e,this.pattern,this.patternAlphabet,{location:o,distance:l,threshold:c,findAllMatches:d,minMatchCharLength:u})}}],r(n.prototype,e),t&&r(n,t),n}()},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(n,"\\$&").replace(r,"|")),s=e.match(i),a=!!s,o=[];if(a)for(var l=0,c=s.length;l<c;l+=1){var d=s[l];o.push([e.indexOf(d),d.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:o}}},function(e,t,n){var r=n(5),i=n(6);e.exports=function(e,t,n,s){for(var a=s.location,o=s.distance,l=void 0===o?100:o,c=s.threshold,d=s.findAllMatches,u=void 0!==d&&d,h=s.minMatchCharLength,m=void 0===a?0:a,g=e.length,f=void 0===c?.6:c,p=e.indexOf(t,m),x=t.length,v=[],y=0;y<g;y+=1)v[y]=0;-1!==p&&(f=Math.min(r(t,{errors:0,currentLocation:p,expectedLocation:m,distance:l}),f),-1!==(p=e.lastIndexOf(t,m+x))&&(f=Math.min(r(t,{errors:0,currentLocation:p,expectedLocation:m,distance:l}),f))),p=-1;for(var b=[],j=1,S=x+g,w=1<<x-1,k=0;k<x;k+=1){for(var T=0,I=S;T<I;)r(t,{errors:k,currentLocation:m+I,expectedLocation:m,distance:l})<=f?T=I:S=I,I=Math.floor((S-T)/2+T);S=I;var M=Math.max(1,m-I+1),A=u?g:Math.min(m+I,g)+x,N=Array(A+2);N[A+1]=(1<<k)-1;for(var _=A;_>=M;_-=1){var C=_-1,P=n[e.charAt(C)];if(P&&(v[C]=1),N[_]=(N[_+1]<<1|1)&P,0!==k&&(N[_]|=(b[_+1]|b[_])<<1|1|b[_+1]),N[_]&w&&(j=r(t,{errors:k,currentLocation:C,expectedLocation:m,distance:l}))<=f){if(f=j,(p=C)<=m)break;M=Math.max(1,2*m-p)}}if(r(t,{errors:k+1,currentLocation:m,expectedLocation:m,distance:l})>f)break;b=N}return{isMatch:p>=0,score:0===j?.001:j,matchedIndices:i(v,void 0===h?1:h)}}},function(e,t){e.exports=function(e,t){var n=t.errors,r=t.currentLocation,i=t.expectedLocation,s=t.distance,a=void 0===s?100:s,o=(void 0===n?0:n)/e.length,l=Math.abs((void 0===i?0:i)-(void 0===r?0:r));return a?o+l/a:l?1:o}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,i=-1,s=0,a=e.length;s<a;s+=1){var o=e[s];o&&-1===r?r=s:o||-1===r||((i=s-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){var r=n(0);e.exports=function(e,t){return function e(t,n,i){if(n){var s=n.indexOf("."),a=n,o=null;-1!==s&&(a=n.slice(0,s),o=n.slice(s+1));var l=t[a];if(null!=l)if(o||"string"!=typeof l&&"number"!=typeof l)if(r(l))for(var c=0,d=l.length;c<d;c+=1)e(l[c],o,i);else o&&e(l,o,i);else i.push(l.toString())}else i.push(t);return i}(e,t,[])}}],t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}()},9385057,e=>{"use strict";let t=e=>crypto.getRandomValues(new Uint8Array(e));e.s(["customAlphabet",0,function(e){let n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return r=-~(1.6*(n=(2<<Math.log(e.length-1)/Math.LN2)-1)*i/e.length),function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a="";for(;;){let i=t(r),o=r;for(;o--;)if((a+=e[i[o]&n]||"").length===s)return a}}},"nanoid",0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")}],9385057)},3930829,e=>{"use strict";var t=e.i(7185353),n=e.i(3924999),r=e.i(2919890),i=e.i(7316497),s=e.i(5260505),a=e.i(8765922),o=e.i(1194788);e.s(["useIsomorphicSWRInfinite",0,function(e,l,c){let{isServer:d,config:u,fetcher:h,fallbackSource:m}=(0,r.useIsomorphicSwrContext)(!0),g=(0,t.useMemo)(()=>"function"==typeof l?(e,t)=>l(e,t):(e,t)=>t(e),[l]),f=(0,t.useMemo)(()=>e=>{if(d)throw Error("useSWR: swrFetcher is not available on server");return g(e,h)},[d,g,h]),p="object"==typeof l?l:c,{ssr:x,...v}=p??{},y=(0,i.mergeConfig)(u,p),b=e(0,null),j=m(b??null,g,y,!1),{data:S,isLoading:w,error:k}=(0,s.useAsyncValue)(d,j),T=(0,n.default)((t,n)=>{let r=e(t,n);return w&&!d?null:r},f,{...v,suspense:!1,fallback:{[(0,n.unstable_serialize)(e)]:S?[S]:void 0},revalidateOnMount:!d&&(v.revalidateOnMount??(!S&&!w))}),{mutate:I,data:M,isLoading:A}=T,N=(0,t.useMemo)(()=>(0,a.withThrottle)(b,()=>{(0,o.debug)(`Client fallback data fetch for ${b}`),I()},2e3),[b,I]);return(0,t.useEffect)(()=>{!k||A||M||N()},[k,N,M,A]),{...T,isLoading:T.isLoading&&void 0===T.data||w||d}}])},5771992,e=>{"use strict";var t=e.i(7185353),n=e.i(7909933),r=e.i(8042625),i=e.i(277234),s=e.i(4244280),a=e.i(5338940),o=e.i(1360174),l=e.i(5140444),c=e.i(8238875),d=e.i(3930829),u=e.i(588428),h=e.i(4670733),m=e.i(2259673),g=e.i(7783521);e.s(["default",0,function(e){let{limit:t,projectId:o,project:l,from:c,target:d,users:u=[],...h}=e,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:f,team:p}=(0,a.useTeam)(),x=u.length>0?u.map(e=>e.uid).join(","):null,v=!!o||!!l?.id;return(0,n.default)(f&&v&&t>0?`${(0,s.API_DEPLOYMENTS)(g)}${(0,r.encode)({projectId:o||l?.id,limit:t,from:c||null,teamId:p?.id,target:d,users:x,...h})}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),m)},"useDeploymentsInfinite",0,function(e){var n;let i,{limit:f,project:p,projectId:x,requireProject:v,users:y,target:b,readyStateFilter:j,meta:S,rollbackCandidate:w,since:k,until:T,subscribeToUpdates:I,branch:M,sha:A,ignoreProjectSlug:N,projectIds:_}=e,{refreshInterval:C,...P}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:E,team:O}=(0,a.useTeam)(),{user:D}=(0,l.useUser)(),[F,$]=(0,t.useState)(()=>C),R=y&&y.length>0?y.map(e=>e.uid).join(","):null,H=p?.id||x,{value:B}=(0,h.useInstantRollbackHobbyRestrictionFlag)(),{value:U}=(0,u.useInstantRollbackHobbyRestrictionTeamFlag)(),{teamSlug:W,project:z}=(0,c.useParams)()??{},V={projectId:H,limit:f,teamId:O?.id,target:b||null,users:R,state:j,meta:S,rollbackCandidate:w,since:k,until:T,branch:M,sha:A,projectIds:_},Y=v||(B||U)&&void 0!==w&&(!O||O.billing?.plan==="hobby"),G=(0,d.useIsomorphicSWRInfinite)((e,t)=>{if(W&&z&&!N){if(!e)return`${(0,s.API_DEPLOYMENTS)(L)}${(0,r.encode)({...V,teamId:W,projectId:z})}`;let n=t&&t.deployments.length>=f?t.deployments[t.deployments.length-1].created-1:null;return n?`${(0,s.API_DEPLOYMENTS)(L)}${(0,r.encode)({...V,teamId:W,projectId:z,from:n})}`:null}if(Y&&!H)return null;if(!e)return E?`${(0,s.API_DEPLOYMENTS)(L)}${(0,r.encode)(V)}`:null;let n=t&&t.deployments.length>=f?t.deployments[t.deployments.length-1].created-1:null;return n&&E?`${(0,s.API_DEPLOYMENTS)(L)}${(0,r.encode)({...V,from:n})}`:null},{...P,refreshInterval:F,ssr:{timeout:1e3}}),{mutate:q}=G,K=(0,t.useMemo)(()=>(0,o.default)(()=>{q()},100),[q]),{isListening:J}=(i=(n=I?p:void 0)?`${n.accountId}-${n.id}`:void 0,(0,m.usePusherEvent)("deployments",i,"deployment-created",K));J||C===F?J&&3e4!==F&&$(3e4):$(C);let X=(0,t.useMemo)(()=>G.data?G.data.flatMap(e=>e.deployments):[],[G.data]),Q=O?O.id:D?.uid,Z=(0,t.useMemo)(()=>I&&Q?X.map(e=>({id:e.uid,readyState:e.readyState,aliasAssigned:!!e.aliasAssigned,ownerId:Q})):[],[X,I,Q]);(0,g.useDeploymentsStatusPing)(Z,K);let ee=!!G.data,et=ee&&0===X.length,en=ee&&G.data&&G.size>G.data.length,er=ee&&G.data&&G.data[G.data.length-1]?.deployments.length<f;return[G,{deployments:X,initialDataLoaded:ee,isEmpty:et,loadMore:()=>G.setSize(e=>e+1),isLoadingMore:en,isReachingEnd:er,mutate:G.mutate}]}],5771992)},8488254,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),r=e.i(8238875),i=e.i(455575),s=e.i(5771992),a=e.i(6060673),o=e.i(5129431);let l=(0,n.createContext)({open:()=>{}});function c(e){let{openRef:l}=e,c=(0,r.useParams)(),{data:d}=(0,a.useProject)(c?.project),u=(0,i.useToasts)(),{data:h}=(0,s.default)({limit:5,projectId:d?.id||"",target:"production"}),{modal:m,open:g}=(0,o.default)(d||void 0);return l.current=(0,n.useCallback)(e=>{if(!h)return;let n=h.deployments.map(e=>({id:e.uid,...e}));u.removeToastByKey("save-and-redeploy"),u.success({key:"save-and-redeploy",text:(0,t.jsx)("span",{className:"hyphens-auto",children:`${e??""}${e?" ":""}A new deployment is needed for changes to take effect.`}),action:"Redeploy",onAction:()=>{g(n,{redirect:!1,copy:"You are about to create a new Deployment with the latest configuration from your Project Settings."})}})},[h,g,u]),m}e.s(["SaveAndRedeployProvider",0,function(e){let{children:r}=e,i=(0,n.useRef)(()=>{}),s=(0,n.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.current(...t)},[]);return(0,t.jsxs)(l.Provider,{value:{open:s},children:[r,(0,t.jsx)(n.Suspense,{children:(0,t.jsx)(c,{openRef:i})})]})},"useSaveAndRedeployContext",0,function(){return(0,n.useContext)(l)}])},1381858,e=>{"use strict";var t=e.i(706035);let n=(0,t.createServerReference)("4016a9e7c811f509b360444382d45edad771864dfc",t.callServer,void 0,t.findSourceMapURL,"revalidateBillingData");e.s(["revalidateBillingData",0,n])},2771361,e=>{"use strict";var t=e.i(8042625),n=e.i(4244280),r=e.i(277234),i=e.i(6232213);async function s(e){let{source:s,teamId:a,to:o}=e,l=await (0,r.fetchAPI)(`${n.API_PLANS_CHANGE_PLAN}${(0,t.encode)({teamId:a})}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:o,source:s}),throwOnHTTPError:!0});return"pro-trial"===o&&(0,i.postToStatsigClient)({events:[{eventName:"start_pro_trial",metadata:{source:s,action:"upgrade-plan"}}]}),l}e.s(["changePlan",0,s])},9301991,(e,t,n)=>{var r=Math.floor,i=Math.random;t.exports=function(e,t){return e+r(i()*(t-e+1))}},5166895,(e,t,n)=>{var r=e.r(9301991);t.exports=function(e,t){var n=-1,i=e.length,s=i-1;for(t=void 0===t?i:t;++n<t;){var a=r(n,s),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}},3818418,(e,t,n)=>{var r=e.r(1133442),i=e.r(5166895);t.exports=function(e){return i(r(e))}},587891,(e,t,n)=>{var r=e.r(3166536);t.exports=function(e,t){return r(t,function(t){return e[t]})}},4828315,(e,t,n)=>{var r=e.r(587891),i=e.r(8833089);t.exports=function(e){return null==e?[]:r(e,i(e))}},8917708,(e,t,n)=>{var r=e.r(5166895),i=e.r(4828315);t.exports=function(e){return r(i(e))}},439862,(e,t,n)=>{var r=e.r(3818418),i=e.r(8917708),s=e.r(4272098);t.exports=function(e){return(s(e)?r:i)(e)}},6998157,e=>{"use strict";var t=e.i(215852),n=e.i(319451);e.s(["useDrains",0,function(e){let{config:r,fetchOptions:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=(0,n.getDrainsKey)(e);return(0,t.useIsomorphicSuspenseSWR)(s,(e,t)=>t(e,{throwOnScopeAuthError:i?.throwOnScopeAuthError}),r)}])},45460,6129437,e=>{"use strict";var t=e.i(847684),n=e.i(9722978),r=e.i(7185353),i=e.i(7749291),s=e.i(4004502),a=e.i(57106),o=e.i(4837983),l=e.i(7735885),c=e.i(167223);function d(e){let{onChange:n,search:i,setSearch:s}=e,a=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{"/"===e.key&&(e.target instanceof HTMLInputElement&&"INPUT"===e.target.tagName||e.target instanceof HTMLTextAreaElement&&"TEXTAREA"===e.target.tagName||(e.preventDefault(),a.current?.focus()))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,t.jsx)(c.default,{"aria-label":"Search settings",clearable:!0,onChange:e=>{n?.(e),e.defaultPrevented||s(e.target.value)},placeholder:"Search...",ref:a,value:i,width:"100%"})}let u=e=>{let{links:t,search:n}=e,i=(0,r.useMemo)(()=>t.flatMap(e=>{let t=[],n=Object.keys(e.sections||{}),r=e.text.toLowerCase();return!n.some(e=>e.toLowerCase()===r)&&(t.push({text:e.text,active:e.active||!1,href:e.href,hide:e.hide,testId:void 0}),"testId"in e&&(t[0].testId=e.testId),"mobileHref"in e&&(t[0].mobileHref=e.mobileHref)),n.length>0&&n.forEach(n=>{void 0!==e.href&&""!==e.href&&void 0!==e.sections&&t.push({text:e.sections[n],active:!1,href:`${e.href}#${n}`,hide:!1,testId:e.testId,mobileHref:e.mobileHref})}),t}),[t]),s=(0,r.useMemo)(()=>new l.default(i,{keys:["text"],distance:150,findAllMatches:!0,threshold:.2}),[i]);return{filteredLinks:(0,r.useMemo)(()=>{if(""===n)return t;let e=s.search(n);return n.length<2?e.splice(0,10):e},[s,n,t])}};e.s(["SettingsSearch",0,d,"useSearchSettings",0,u],6129437);var h=e.i(4031249),m=e.i(5150790),g=e.i(5163763);function f(e){let{href:r,as:l,text:c,active:d,disabled:u,tooltip:h,hide:m,external:f,scroll:p,search:x="",...v}=e;if(m)return null;let y=f?(0,t.jsx)(i.ExternalSmall,{}):null;if(r){let e=(0,t.jsxs)(a.Link,{className:(0,n.clsx)(g.default.entry,g.default.link,{[g.default.active]:d,[g.default.disabled]:u}),"data-testid":(0,s.tid)("settings","sidebar",c.toLowerCase()),href:l||r,rel:f?"noopener":void 0,scroll:p,shallow:!1,target:f?"_blank":void 0,...v,children:[(0,t.jsx)(o.HighlightText,{search:x,text:c}),y]},r);return h?(0,t.jsxs)("div",{style:{position:"relative"},children:[e,h]},`tooltip_${r}`):e}return(0,t.jsxs)("div",{className:(0,n.clsx)(g.default.entry,{[g.default.active]:d,[g.default.disabled]:u}),"data-testid":(0,s.tid)("settings","sidebar","placeholder",c.toLowerCase()),children:[(0,t.jsx)(o.HighlightText,{search:x,text:c}),y]})}function p(e){let{children:r,text:i,first:s}=e;return(0,t.jsxs)("div",{className:`flex flex-row items-center justify-start gap-2 flex-initial ${(0,n.clsx)({[g.default.section]:!0,[g.default.first]:s})}`,children:[r,(0,t.jsx)("p",{className:"text-[12px] leading-[16px] font-medium leading-[20px] text-gray-900",children:i})]})}e.s(["default",0,function(e){var i;let{sticky:a=!0,stickyTop:o=0,className:l,onSearchChange:c,searchable:x,...v}=e,{search:y,setSearch:b}=(0,r.useContext)(h.SettingsSearchContext),{workspaceBlock:j,accountBlock:S}=(i=v,(0,r.useMemo)(()=>"blocks"in i?i.blocks:{workspaceBlock:{iconText:"",links:i.links}},[i])),w=j.links,k=S?.links??[],{filteredLinks:T}=u({links:w,search:y}),{filteredLinks:I}=u({links:k,search:y});return k.length+w.length===0?(0,t.jsx)(m.SidebarSkeleton,{searchable:x,showAccountSection:void 0!==S,showWorkspaceSection:!!(S&&j.iconText)}):(0,t.jsxs)("div",{className:(0,n.clsx)(l,g.default.sidebar,"tailwind"),"data-geist-sidebar":"","data-version":"v1",style:a?{position:"sticky",top:o}:void 0,children:[x?(0,t.jsx)("div",{className:g.default.searchboxWrapper,children:(0,t.jsx)(d,{onChange:c,search:y,setSearch:b})}):null,S&&k.filter(e=>!e.hide).length>0?(0,t.jsxs)(t.Fragment,{children:[""===y&&(0,t.jsx)(p,{first:!0,text:j.iconText,children:j.icon}),T.length>0?T.map((e,n)=>(0,t.jsx)(f,{...e,search:y},`${n}${e.text}`)):null,""===y&&(0,t.jsx)(p,{text:S.iconText,children:S.icon}),I.map((e,n)=>(0,t.jsx)(f,{...e,search:y},`${n}${e.text}`))]}):T.map((e,n)=>(0,t.jsx)(f,{search:y,...e},`${n}${e.text}`)),0===T.length&&0===I.length&&""!==y&&(0,t.jsx)("div",{className:`flex flex-col items-stretch justify-start gap-2 flex-initial ${g.default.emptyCard}`,children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900","data-testid":(0,s.tid)("settings","sidebar","empty-search-result"),children:['No settings matching "',y,'"']})})]})}],45460)},581695,e=>{"use strict";var t=e.i(7185353),n=e.i(7780974),r=e.i(7837522);e.s(["useSettingsSearchTracking",0,function(e,i){let{track:s}=(0,r.useTrackActivity)(),a=(0,t.useRef)(!1);return{onChangeHandler:(0,t.useCallback)(()=>{a.current||(a.current=!0,s(n.VercelActivityAction.SettingsSearchTyped,{pageType:e,deviceType:i}))},[i,a,e,s])}}])},2917338,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),r=e.i(4031249);e.s(["SettingsSearchContextProvider",0,function(e){let{children:i}=e,[s,a]=(0,n.useState)(""),o=(0,n.useMemo)(()=>({search:s,setSearch:a}),[s]);return(0,t.jsx)(r.SettingsSearchContext.Provider,{value:o,children:i})}])},8865193,e=>{"use strict";var t=e.i(847684),n=e.i(6891161),r=e.i(2504781),i=e.i(7909933),s=e.i(9385057),a=e.i(7837522),o=e.i(7780974),l=e.i(7185353),c=e.i(8631221),d=e.i(3196486);function u(){let{track:e}=(0,a.useTrackActivity)(),{data:t,mutate:n}=(0,i.default)("showDowngradeFromProModal",null,{fallbackData:{active:!1}}),[r,u]=(0,l.useState)(!1),h={open:t=>{let r=(0,s.nanoid)();u(!1),n({active:!0,sessionId:r,source:t,openedAt:Date.now()}),e(o.VercelActivityAction.DowngradeModalOpened,{sessionId:r,source:t})},close:()=>{n({active:!1})},abandon:()=>{t?.sessionId&&e(o.VercelActivityAction.DowngradeModalAbandoned,{sessionId:t.sessionId,ms:t.openedAt?Date.now()-t.openedAt:void 0,type:t.type}),n({active:!1})},setType:(0,l.useCallback)(e=>{t?.type||n(t=>({active:!1,...t,type:e}))},[t?.type,n]),trackCompleted:(0,l.useCallback)(()=>{t?.sessionId&&e(o.VercelActivityAction.DowngradeModalCompleted,{sessionId:t?.sessionId,ms:t.openedAt?Date.now()-t.openedAt:void 0,type:t.type})},[t?.sessionId,t?.openedAt,t?.type,e]),submitSurvey:(0,l.useCallback)(e=>{(0,d.sendToSnowflake)(c.Topic.VercelApiV0UserCancellationSurvey,{...e,source:t?.source??"downgrade-modal",downgrade_session_id:t?.sessionId??"",time_in_survey_ms:t?.openedAt?Date.now()-t.openedAt:0},"vercel-app"),u(!0)},[t?.sessionId,t?.source,e,t?.openedAt])};return t?.active?{...h,active:!0,sessionId:t.sessionId,submittedSurvey:r}:{...h,active:!1,submittedSurvey:r}}e.s(["DowngradeFromProButton",0,function(e){let{className:n}=e,{open:i}=u();return(0,t.jsx)(r.Button,{className:n,onClick:()=>i("downgrade-button"),size:"small",type:"secondary",children:"Downgrade"})},"DowngradeFromProModalController",0,function(e){let{children:r}=e,{active:i,abandon:s}=u();return(0,t.jsx)(n.Modal.Modal,{active:i,onClickOutside:s,children:r})},"useDowngradeFromProModal",0,u])},7930612,e=>{e.v({back:"with-team-settings-module__FMe5FW__back",content:"with-team-settings-module__FMe5FW__content",createTeam:"with-team-settings-module__FMe5FW__createTeam",emptyCard:"with-team-settings-module__FMe5FW__emptyCard",hide:"with-team-settings-module__FMe5FW__hide",menuPage:"with-team-settings-module__FMe5FW__menuPage",mobileSearch:"with-team-settings-module__FMe5FW__mobileSearch",tabletLinks:"with-team-settings-module__FMe5FW__tabletLinks"})},185496,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),r=e.i(9722978),i=e.i(8238875),s=e.i(9475671),a=e.i(4585051),o=e.i(4004502),l=e.i(7917902),c=e.i(9668517),d=e.i(57106),u=e.i(4837983),h=e.i(45460),m=e.i(4031249),g=e.i(6129437),f=e.i(581695),p=e.i(7930612),x=e.i(6159310),v=e.i(8866156);let y=(0,n.memo)(function(e){let{suspend:a}=e,{onChangeHandler:l}=(0,f.useSettingsSearchTracking)("team","desktop"),{onChangeHandler:x}=(0,f.useSettingsSearchTracking)("team","mobile"),{search:v,setSearch:y}=(0,n.useContext)(m.SettingsSearchContext),b=(0,i.usePathname)(),w=encodeURIComponent((0,c.useTeamSlug)()||""),k=b===`/${w}/~/settings`,T=j(a),I=function(e){let{links:r}=e;return(0,n.useMemo)(()=>({workspaceBlock:{iconText:"Team",icon:(0,t.jsx)(S,{}),links:r}}),[r])}({links:T}),{filteredLinks:M}=(0,g.useSearchSettings)({links:T,search:v});return"/teams/create"===b?(0,t.jsxs)("div",{className:"geist-hide-on-tablet",children:[(0,t.jsx)(h.default,{links:[{text:"New Team",active:!0}],stickyTop:64})," "]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:(0,r.clsx)("geist-show-on-tablet",{[p.default.hide]:k}),children:(0,t.jsx)(d.Link,{className:(0,r.clsx)("geist-reset",p.default.back),href:w?`/${w}/~/settings`:"",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-0.5 flex-initial",children:[(0,t.jsx)(s.ChevronLeft,{size:20}),(0,t.jsx)("span",{children:"Settings"})]})})}),(0,t.jsx)(h.default,{blocks:I,className:"geist-hide-on-tablet",onSearchChange:l,searchable:!0,stickyTop:64}),(0,t.jsxs)("div",{className:(0,r.clsx)("geist-show-on-tablet",p.default.tabletLinks,{[p.default.hide]:!k}),children:[(0,t.jsx)("div",{className:p.default.mobileSearch,children:(0,t.jsx)(g.SettingsSearch,{onChange:x,search:v,setSearch:y})}),M.map(e=>e.hide?null:(0,t.jsx)(d.Link,{className:"geist-reset","data-testid":e.testId,href:e.href||"",children:(0,t.jsx)(u.HighlightText,{search:v,text:e.text})},e.href)),""!==v&&0===M.length&&(0,t.jsx)("div",{className:(0,r.clsx)("flex flex-col items-stretch justify-start gap-2 flex-initial",p.default.emptyCard),children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900","data-testid":(0,o.tid)("settings","sidebar","empty-search-result"),children:['No settings matching "',v,'"']})})]})]})}),b=(e,t)=>{let n=e[t]?.hash;if(!n)return;let r=Object.fromEntries(Object.entries(n).map(e=>{let[t,{label:n}]=e;return[t.substring(1),n]}));return Object.keys(r).length>0?r:void 0},j=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,i.usePathname)(),r=(0,n.useCallback)(function(e,n){for(var r=arguments.length,i=Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(t)return(0,o.tid)(e,n,...i)},[t]),s=(0,v.useVisibleRoutes)(),a=(0,x.useNavLinks)([{route:"/[teamSlug]/~/settings/general",meta:{mobileTestId:r("team-settings","mobile-general-link"),sections:b(s,"/[teamSlug]/~/settings")}},{route:"/[teamSlug]/~/settings/add-ons",meta:{mobileTestId:r("team-settings","mobile-add-ons-link"),sections:b(s,"/[teamSlug]/~/settings/add-ons")}},{route:"/[teamSlug]/~/settings/billing",meta:{mobileTestId:r("team-settings","mobile-billing-link"),sections:b(s,"/[teamSlug]/~/settings/billing")}},{route:"/[teamSlug]/~/settings/build-and-deployment",meta:{mobileTestId:r("team-settings","mobile-build-and-deployment-link"),sections:b(s,"/[teamSlug]/~/settings/build-and-deployment")}},{route:"/[teamSlug]/~/settings/invoices",meta:{mobileTestId:r("team-settings","mobile-invoices-link")}},{route:"/[teamSlug]/~/settings/members",meta:{mobileTestId:r("team-settings","mobile-members-link")}},{route:"/[teamSlug]/~/settings/access-groups",meta:{mobileTestId:r("team-settings","access-groups-link")}},{route:"/[teamSlug]/~/settings/agent",meta:{mobileTestId:r("team-settings","mobile-agent-link"),sections:b(s,"/[teamSlug]/~/settings/agent")}},{route:"/[teamSlug]/~/settings/drains",meta:{mobileTestId:r("team-settings","mobile-drains-link")}},{route:"/[teamSlug]/~/settings/alerts",meta:{mobileTestId:r("team-settings","mobile-alerts-link")}},{route:"/[teamSlug]/~/settings/webhooks",meta:{mobileTestId:r("team-settings","mobile-webhooks-link")}},{route:"/[teamSlug]/~/settings/security",meta:{mobileTestId:r("team-settings","mobile-security-link"),sections:b(s,"/[teamSlug]/~/settings/security")}},{route:"/[teamSlug]/~/settings/deployment-protection",meta:{mobileTestId:r("team-settings","mobile-deployment-protection-link")}},{route:"/[teamSlug]/~/settings/microfrontends",meta:{mobileTestId:r("team-settings","mobile-microfrontends-link")}},{route:"/[teamSlug]/~/settings/repositories",meta:{mobileTestId:r("team-settings","mobile-repositories-link")}},{route:"/[teamSlug]/~/settings/connectivity",meta:{mobileTestId:r("team-settings","mobile-connectivity-link"),sections:b(s,"/[teamSlug]/~/settings/connectivity")}},{route:"/[teamSlug]/~/settings/environment-variables",meta:{mobileTestId:r("team-settings","mobile-environment-variables-link")}},{route:"/[teamSlug]/~/settings/notifications",meta:{mobileTestId:r("team-settings","mobile-notifications-link")}},{route:"/[teamSlug]/~/settings/apps",meta:{mobileTestId:r("team-settings","mobile-apps-link")}}],{suspend:e});return(0,n.useMemo)(()=>a.links.map(e=>({text:e.label,href:e.href,active:e.isActive,testId:e.meta?.mobileTestId,sections:e.meta?.sections||[]})),[a.links])};function S(){let e=(0,l.useAccount)();return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)(a.Avatar,{placeholder:!0,size:20}),children:(0,t.jsx)(a.Avatar,{hash:e.team?.avatar,placeholder:!e.team,size:20,teamId:e.team?.id})})}e.s(["TeamSettingsSidebar",0,y,"useTeamSettingsSidebarItems",0,j])},3494051,e=>{"use strict";var t=e.i(847684),n=e.i(7185353),r=e.i(6891161),i=e.i(1848296),s=e.i(5255926),a=e.i(9171423),o=e.i(4244280),l=e.i(5338940),c=e.i(486333),d=e.i(57106),u=e.i(9125947),h=e.i(8865193),m=e.i(5523169),g=e.i(7722264),f=e.i(455575),p=e.i(8522580),x=e.i(4585051),v=e.i(9722978);function y(e){let{inline:n=!0,team:r}=e,{id:i,avatar:s,name:a}=r;return(0,t.jsx)("span",{className:"tailwind-preflight",children:(0,t.jsxs)("span",{className:(0,v.clsx)("items-center gap-1",n?"inline-flex align-middle":"flex"),children:[(0,t.jsx)(x.Avatar,{hash:s,size:20,teamId:i}),(0,t.jsx)("span",{className:`text-[14px] leading-[20px] font-medium ${(0,v.clsx)(n&&"-translate-y-px")}`,children:a})]})})}var b=e.i(6226725);function j(e){let{error:n,nextLabel:i,onNext:s}=e,{abandon:a}=(0,h.useDowngradeFromProModal)();return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s()},children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Error"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(b.CrossCircle,{color:"red-700"}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-red-900",children:"Error during downgrade"})]})})]}),(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-0 flex-initial rounded border bg-gray-200",children:[n.code?(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial border-b border-gray-500 px-2 py-1.5",children:(0,t.jsx)("p",{className:"font-mono text-[12px] leading-[16px] font-medium",children:n.code})}):null,(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial bg-gray-400 px-2 py-1.5",children:(0,t.jsx)("p",{className:"text-copy-14",children:n.message})})]})})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:a,type:"secondary",children:"Cancel"}),i?(0,t.jsx)(r.Modal.Action,{buttonType:"submit",children:i}):null]})]})}var S=e.i(1381858),w=e.i(5761705),k=e.i(5169576),T=e.i(7749291),I=e.i(8284460),M=e.i(7399351);let A=I.Root;function N(e){return(0,t.jsx)("p",{...e,className:"text-[14px] leading-[20px] font-medium"})}function _(e){let{children:n,link:r,linkText:i="Learn More"}=e;return(0,t.jsxs)("li",{className:"flex flex-row items-stretch justify-between flex-initial p-4",children:[n,r?(0,t.jsxs)(d.Link,{className:"flex items-center gap-[2px]",external:!0,href:r,icon:!1,variant:"highlight",children:[(0,t.jsx)("span",{children:i}),(0,t.jsx)("span",{children:(0,t.jsx)(T.ExternalSmall,{})})]}):null]})}function C(e){let{label:r,icon:i,value:s,children:a,variant:o="default"}=e,l=(0,n.useMemo)(()=>"error"===o?"*:text-red-900 text-red-900":"warning"===o?"*:text-amber-900 text-amber-900":"ok"===o?"*:text-green-900 text-green-900":"*:text-gray-900 text-gray-900",[o]);return(0,t.jsxs)(I.Item,{className:"overflow-hidden rounded border border-gray-alpha-200 divide-y divide-gray-alpha-200",value:s,children:[(0,t.jsx)(I.Header,{children:(0,t.jsxs)(I.Trigger,{className:"group flex w-full items-center justify-between bg-background-100 p-4",children:[(0,t.jsxs)("span",{className:`flex items-center gap-2 ${l}`,children:[i,"string"==typeof r?(0,t.jsx)(N,{children:r}):r]}),(0,t.jsx)("span",{className:"block text-gray-900 transition-transform duration-200 group-data-[state='closed']:rotate-180",children:(0,t.jsx)(M.ChevronUp,{})})]})}),(0,t.jsx)(I.Content,{className:"bg-background-200",children:(0,t.jsx)("ul",{className:"divide-y divide-gray-alpha-200",children:a})})]})}function P(e){let{label:n,value:r,icon:i,items:s,variant:a="default"}=e;return 0===s.length?null:(0,t.jsx)(C,{icon:i,label:n,value:r,variant:a,children:s.map(e=>e.childIntegrations&&e.childIntegrations.length>0?e.childIntegrations.map(n=>(0,t.jsx)(_,{link:n.link||L[e.resourceTypeId],children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[n.integrationIcon&&(0,t.jsx)(x.Avatar,{hash:n.integrationIcon,size:16}),(0,t.jsx)("span",{children:n.name})]})},n.resourceId)):(0,t.jsx)(_,{link:L[e.resourceTypeId],children:e.resourceTypeName},e.resourceTypeId))})}let L={project:"/docs/projects/overview","secure-compute":"/docs/secure-compute","support-case":"/docs/dashboard-features/support-center","user-token":"/docs/rest-api#authentication","team-member":"/docs/accounts/team-members-and-roles","storage-blob":"/docs/storage/vercel-blob","storage-edge-config":"/docs/edge-config",domains:"/docs/domains","integration-configuration":"/docs/integrations/install-an-integration/product-integration#uninstall-an-integration"};var E=e.i(6401841),O=e.i(2771361),D=e.i(6998157);function F(e){let{back:i,backLabel:s,target:a,refundNote:o,refundToastMessage:c}=e,{mutate:d}=(0,l.useTeam)(),{close:u,trackCompleted:m}=(0,h.useDowngradeFromProModal)(),[x,v]=(0,n.useState)(!1);return(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(!0),(0,O.changePlan)({source:"hobby-downgrade-modal",teamId:a.id,to:"hobby"}).then(async()=>{await d(),await (0,S.revalidateBillingData)(a.slug);let e=c?`
${c}`:"";f.toasts.success(`Your team has been downgraded.${e}`),m(),u()}).catch(e=>{let t=(0,g.isError)(e)?e.message:"Something went wrong downgrading your team.";f.toasts.error(t),u()})},children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Plan"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsxs)("p",{className:"text-copy-14",children:[(0,t.jsx)(y,{team:a})," will be downgraded to a free, Hobby plan."]})})]}),(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(A,{className:"space-y-2",defaultValue:["hobby"],type:"multiple",children:(0,t.jsx)($,{team:a})}),(0,t.jsxs)(p.Note,{fill:!0,type:"warning",children:["You will"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:"immediately"})," ","lose access to Pro features and all payments will stop."," ",o?(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:o}):null]})]})})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:i,type:"secondary",children:s}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",loading:x,children:"Downgrade"})]})]})}function $(e){let{team:n}=e,r=n?.billing?.plan==="pro"&&n?.billing?.planIteration==="plus",{data:i}=(0,D.useDrains)({teamIdOrSlug:n.slug,includeMetadata:!1}),s=(i?.drains?.length??0)>0,a=`/${n.slug}/~/settings/drains`;return!s&&r?(0,t.jsx)(t.Fragment,{}):(0,t.jsxs)(C,{icon:(0,t.jsx)(E.Stop,{}),label:(0,t.jsx)(N,{children:"Unavailable on Hobby plan"}),value:"hobby",variant:"error",children:[r?null:(0,t.jsx)(_,{link:"/docs/observability/monitoring",children:"Monitoring"}),s?(0,t.jsx)(_,{link:a,linkText:"View in Settings",children:"Drains"}):null]})}function R(e){let{target:n,candidate:r,resourceItems:i,disabled:s}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial mt-6",children:[s?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-[15px] leading-[24px] font-semibold",children:"Blocking issues"}),(0,t.jsxs)(d.Link,{className:"flex items-center gap-[2px]",external:!0,href:"https://vercel.com/docs/plans/pro-plan#downgrading-to-hobby",icon:!1,variant:"highlight",children:[(0,t.jsx)("span",{children:"Learn More"}),(0,t.jsx)("span",{children:(0,t.jsx)(T.ExternalSmall,{})})]})]}),(0,t.jsx)(p.Note,{fill:!0,type:"error",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Cannot proceed with downgrade"}),(0,t.jsxs)("p",{children:[(0,t.jsx)(y,{team:r})," contains unmergeable resources. Delete or manually transfer these resources, then retry this downgrade."]})]})}),(0,t.jsx)("div",{className:"tailwind",children:(0,t.jsxs)(A,{className:"space-y-2",defaultValue:["manual","no-transfer"],type:"multiple",children:[(0,t.jsx)(P,{icon:(0,t.jsx)(b.CrossCircle,{}),items:i.noTransfer,label:"Will not transfer",value:"no-transfer",variant:"error"}),(0,t.jsx)(P,{icon:(0,t.jsx)(k.Information,{}),items:i.manual,label:"Manual transfer",value:"manual",variant:"warning"})]})})]}):(0,t.jsxs)("p",{className:"text-copy-14",children:[(0,t.jsx)(y,{team:r})," will be merged into"," ",(0,t.jsx)(y,{team:n})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)("p",{className:"text-[15px] leading-[24px] font-semibold",children:"Review changes"}),(0,t.jsx)("div",{className:"tailwind",children:(0,t.jsxs)(A,{className:"space-y-2",type:"multiple",defaultValue:["hobby"],children:[(0,t.jsx)($,{team:n}),(0,t.jsx)(P,{icon:(0,t.jsx)(w.CheckCircle,{}),items:i.automatic,label:"Automatic transfer",value:"automatic",variant:"ok"})]})})]})]})}var H=e.i(4011256),B=e.i(2704354);async function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwOnHTTPError:!0};return await (0,a.fetchApi)((0,B.getConfigurationsUrl)(e),{throwOnHTTPError:t.throwOnHTTPError,contentType:"json"})}let W=async e=>e?await (0,a.fetchApi)(e,{method:"GET",throwOnHTTPError:!0,contentType:"json"}):null,z=async(e,t,n)=>{let r={automatic:[],manual:[],noTransfer:[]},i=t.filter(e=>"integration-configuration"===e.resourceTypeId),s=[];i.length>0&&(s=await U({teamSlug:n,installationType:"marketplace",skipBillingData:!0}));let a=new Map(s.map(e=>[e.id,e]));for(let t of e){let e=t;if("integration-configuration"===t.resourceTypeId){let r=(i||[]).map(e=>(function(e,t,n){let r=n.get(e.resourceId);if(!r)return{resourceId:e.resourceId,name:e.resourceTypeName};let i=r.integration,s=(0,H.getInstallationDetailsLink)({teamSlug:t,integrationSlug:r.slug,configurationId:e.resourceId,isMarketplace:!0,path:"settings"});return{resourceId:e.resourceId,name:r.name||i?.name||"Unknown Integration",integrationIcon:i?.icon,link:s}})(e,n,a));e={...t,childIntegrations:r}}"auto"===t.transferDetails.transferable?r.automatic.push(e):"manual"===t.transferDetails.transferable?r.manual.push(e):r.noTransfer.push(e)}return r};function V(e){let{candidates:s,refundNote:c,target:d}=e,[u,x]=(0,n.useState)({type:"select"}),{close:v,abandon:b,trackCompleted:w}=(0,h.useDowngradeFromProModal)(),[k,T]=(0,n.useState)(),[I,M]=(0,n.useState)(!1),[A,N]=(0,n.useState)(!1),{mutate:_}=(0,l.useTeam)(),C=(0,n.useCallback)(e=>{if(e.preventDefault(),"confirmed"!==u.type)return;M(!0);let t=(0,o.API_MERGE_FLOW)(u.plan.mergeId),n=u.plan.conflicts.flatMap(e=>(function(e,t){var n,r,i;let s;if(!e.autoresolvable)throw Error("Encoutered unexpected unresolvable conflict.");return"entity-conflict"===e.type?{...{type:"entity-conflict-resolution",resourceTypeId:(n=e).resourceTypeId,resourceId:n.resourceId},strategy:"auto",resources:n.resources}:(r=e,i=t,s={type:"unique-field-conflict-resolution",resourceTypeId:r.resourceTypeId,field:r.field},r.resources.filter(e=>{let{teamId:t}=e;return t!==i}).map(e=>({...s,strategy:"auto",teamId:e.teamId,resourceId:e.resourceId})))})(e,u.plan.targetId));(0,a.fetchApi)(t,{method:"POST",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0,contentType:"json",body:JSON.stringify({conflictResolutions:n})}).then(async e=>{"error"in e?x({type:"error",error:{code:e.error.code,message:e.error.message},resolution:null}):(await _(),await (0,S.revalidateBillingData)(d.slug),w())}).catch(e=>{let t=(0,g.isError)(e)?e.message:"Something went wrong merging your teams.";f.toasts.error(t)}).finally(()=>{M(!1),v()})},[u,v,_,d.slug,w]),P=(0,n.useCallback)(e=>{if(e===k?.id)return;M(!0);let t=s.find(t=>t.id===e);if(t){let e,r;T(t),(e=d.id,r=t.id,(0,a.fetchApi)(o.API_MERGE_PLAN,{method:"POST",body:{contentType:"json",targetId:e,candidateIds:[r],mode:"downgrade"},throwOnHTTPError:!0})).then(async e=>{if(!e||"string"==typeof e)return void x({type:"error",error:{code:"Unknown error",message:"Unknown response format"},resolution:{label:"Back to Team select",action(){x({type:"select"})}}});let r=await z(e.resourceTypes,e.resources,t.slug);(0,n.startTransition)(()=>{T(t),x({type:"confirmed",candidate:t,plan:e,resourceItems:r}),N(!!(r.manual.length||r.noTransfer.length))})}).catch(e=>{(0,n.startTransition)(()=>{T(void 0),x({type:"error",error:(0,g.isError)(e)?e:{code:"Unknown error",message:"Unknown error"},resolution:{label:"Back to Team select",action(){x({type:"select"})}}})})}).finally(()=>{M(!1)})}},[s,k,d]);return((0,n.useEffect)(()=>{d.merge&&(M(!0),W((0,o.API_MERGE_FLOW)(d.merge.mergeId)).then(e=>{e&&"string"!=typeof e?("started"===e.status.type||"enqueued"===e.status.type)&&x({type:"error",resolution:null,error:{code:"merge_in_progress",message:"Team currently has a merge in progress, unable to proceed."}}):x({type:"error",error:{code:"Unknown error",message:"Unknown response format"},resolution:{label:"Back to Team select",action(){x({type:"select"})}}})}).catch(e=>{x({type:"error",resolution:null,error:(0,g.isError)(e)?e:{code:"Unknown error",message:"Unknown error"}})}).finally(()=>{M(!1)}))},[d]),"error"===u.type)?(0,t.jsx)(j,{error:u.error,nextLabel:u.resolution?.label??null,onNext:u.resolution?.action??m.default}):(0,t.jsxs)("form",{onSubmit:C,children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Plan"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsxs)("p",{className:"text-copy-14",children:["By downgrading your plan, you will exceed the amount of Hobby teams you can have on Vercel. Select one existing Hobby team to merge into ",(0,t.jsx)(y,{team:d})," during the downgrade."]})})]}),(0,t.jsx)("div",{className:"tailwind",children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial rounded border border-gray-alpha-200",children:(0,t.jsx)(i.RadioGroup,{onChange:P,value:k?.id??"",children:(0,t.jsx)("div",{className:"divide-y divide-gray-alpha-200",children:s.map(e=>(0,t.jsx)(i.RadioGroup.Item,{className:"flex w-full items-center p-4",value:e.id,children:(0,t.jsx)(y,{inline:!1,team:e})},e.id))})})})}),"confirmed"===u.type?(0,t.jsx)(R,{candidate:u.candidate,disabled:A,resourceItems:u.resourceItems,target:d}):null]}),(0,t.jsx)(r.Modal.Actions,{children:(0,t.jsxs)("div",{className:"flex w-full flex-col gap-4",children:["confirmed"===u.type?(0,t.jsxs)(p.Note,{fill:!0,type:"warning",children:["The"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:u.candidate.name})," ","team will be deleted. You will"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:"immediately"})," ","lose access to Pro features on"," ",(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:d.name})," ","and all payments will stop."," ",c?(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-amber-900",children:c}):null]}):null,(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:b,type:"secondary",children:"Cancel"}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",disabled:"confirmed"!==u.type||A,loading:I,children:"Downgrade"})]})]})})]})}var Y=e.i(7909933),G=e.i(277234);e.i(1585898);var q=e.i(2066827),K=e.i(7917902);let J={surveyName:"Downgrade Team User Feedback",surveySlug:"downgrade-team-user-feedback",surveySteps:[{title:"We're sorry to see you go",description:"Your feedback helps us improve Vercel",fields:[{type:"select",id:"reason",label:"We're sorry to see you go",options:[...(0,e.i(439862).default)([{id:"another-provider",label:"Switching to another provider",reveals:{id:"provider",label:"Which provider?"}},{id:"too-expensive",label:"Too expensive"},{id:"purchase-v0",label:"I meant to purchase v0"},{id:"company-project-shutting-down",label:"My company or project is shutting down"},{id:"missing-features",label:"Missing features",reveals:{id:"what-were-you-missing",label:"What were you missing?"}},{id:"performance-reliability",label:"Performance or reliability issues",reveals:{id:"what-can-we-do-better",label:"What could we have done better?"}}]),{id:"other",label:"Other",reveals:{id:"other-reason",label:"Additional comments"}}]}]}]},X=new Set;function Q(){let{abandon:e}=(0,h.useDowngradeFromProModal)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Modal.Body,{children:[(0,t.jsxs)(r.Modal.Header,{children:[(0,t.jsx)(r.Modal.Title,{children:"Downgrade Plan"}),(0,t.jsx)(r.Modal.Subtitle,{children:(0,t.jsx)(s.Skeleton,{height:60,width:"100%"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial tailwind-preflight",children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial rounded border border-gray-alpha-200",children:(0,t.jsx)(i.RadioGroup.Item,{className:"flex w-full items-center p-4",disabled:!0,fullWidth:!0,value:"1",children:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(s.Skeleton,{height:24,rounded:!0}),(0,t.jsx)(s.Skeleton,{height:24,width:"100%"})]})})})})]}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{buttonType:"button",onClick:e,type:"secondary",children:"Cancel"}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",disabled:!0,children:"Continue"})]})]})}e.s(["DowngradeFromProModal",0,function(e){let{teamSlug:r}=e,[i,s]=(0,n.useState)(!0),[m,g]=(0,n.useState)(X),{teams:f}=(0,l.useTeam)(),{user:p,team:x}=(0,K.useAccount)(),{abandon:v,setType:y,submittedSurvey:b,submitSurvey:j}=(0,h.useDowngradeFromProModal)(),{isLoading:S,downgradeRefundAmount:w}=(()=>{let{isReady:e,team:t}=(0,l.useTeam)(),n=(0,Y.default)(()=>e&&t?`${o.API_BILLING}/downgrade-refund-amount?teamId=${t.id}`:null,e=>(0,G.fetchAPI)(e,{throwOnHTTPError:!0}));return{...n,downgradeRefundAmount:n.data??void 0}})(),k=(0,n.useMemo)(()=>f??[],[f]),T=(0,n.useMemo)(()=>k.find(e=>e.slug===r),[k,r]),I=(0,n.useMemo)(()=>k.filter(e=>{let{id:t}=e;return m.has(t)}),[k,m]),M=(0,n.useMemo)(()=>w?w.result?w.amount>0?`$${Number(w.amount/100).toFixed(2)} will be refunded.`:null:(0,t.jsxs)(t.Fragment,{children:["Please visit our"," ",(0,t.jsx)(d.Link,{href:"/help",target:"_blank",children:"/help"})," ","page to process your refund."]}):null,[w]),A=(0,n.useMemo)(()=>w&&w.result&&w.amount>0?`You will receive a $${Number(w.amount/100).toFixed(2)} refund confirmation.`:null,[w]);(0,n.useEffect)(()=>{!async function(){if(T){s(!0);try{let[e]=await Promise.all([(0,a.fetchApi)((0,o.API_MERGE_LIST)(T.id,"hobby"),{throwOnHTTPError:!0,contentType:"json"}),(0,u.default)(750)]);g(new Set(e.teams))}catch(e){c.isDev&&console.error(e),g(X)}finally{s(!1)}}}()},[T]);let N=T&&!i&&!S;return((0,n.useEffect)(()=>{N&&y(I.length>0?"merge":"hobby")},[N,I.length,y]),b)?N?I.length>0?(0,t.jsx)(V,{candidates:I,refundNote:M,target:T}):(0,t.jsx)(F,{back:v,backLabel:"Cancel",refundNote:M,refundToastMessage:A,target:T}):(0,t.jsx)(Q,{}):(0,t.jsx)(q.SurveyModalContent,{surveyInfo:J,onSubmit:e=>{let[t]=e.fields,n="select"===t.type?t.options.find(e=>e.selected):void 0;j({reason:n?.id??"no_answer",detail:n?.reveals?.value,user_id:p?.uid||"unknown",team_id:x?.id||"unknown",plan:x?.billing?.plan||"unknown",refund_amount:w?.result?w.amount:0,is_merging:I.length>0})},onDismiss:()=>{v()},showThankYouToast:!1,setActive:()=>{}})}],3494051)},3536695,e=>{"use strict";var t=e.i(8238875),n=e.i(8977282),r=e.i(7917902),i=e.i(7909933),s=e.i(3351118),a=e.i(9070994),o=e.i(4244280),l=e.i(9668517);e.s(["TeamSettingsAuthHandler",0,function(){let e=function(){let e=(0,l.useTeamSlug)(),t=(0,s.useWindowLocationSearchParams)().get("membershipRequestedBy"),{data:n,error:r,isLoading:c}=(0,i.default)(()=>e&&t?`${o.API_TEAMS_MEMBERS}/${e}/request/${t}`:null,e=>(0,a.default)(e,{throwOnHTTPError:!0}));return{isLoading:c||!!e&&!!t&&!n&&!r,membershipRequestStatus:n}}(),c=(0,t.useSearchParams)(),d=(0,t.usePathname)(),{isTeam:u,isLoggedOut:h,team:m}=(0,r.useAccount)();if(d&&!1===u&&!1===h&&"/teams/create"!==d&&!e.isLoading){let t=Error("Team not found");throw t.status=404,e.membershipRequestStatus&&!e.membershipRequestStatus.confirmed&&(t.teamSlug=m?.slug,t.membershipRequestedBy=c?.get("membershipRequestedBy")||void 0),(0,n.removeScope)(),t}return null}],3536695)}]);

//# debugId=ef1849fa-9754-a3ea-a953-e5fbb0b1260d
//# sourceMappingURL=b80490229554d7d3.js.map