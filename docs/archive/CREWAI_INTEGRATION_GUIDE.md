# ü§ñ CrewAI Integration - Complete Setup Guide

## Overview

You now have a **complete CrewAI infrastructure** to deploy AI agents that will develop all 13 Phoenix repositories in parallel.

---

## üì¶ What We Created

### 1. CrewAI Infrastructure (`/crewai/`)
```
crewai/
‚îú‚îÄ‚îÄ README.md              # Complete guide
‚îú‚îÄ‚îÄ QUICKSTART.md          # Quick reference
‚îú‚îÄ‚îÄ setup.sh               # Automated setup script
‚îú‚îÄ‚îÄ requirements.txt       # Python dependencies
‚îú‚îÄ‚îÄ .env.example           # Environment template
‚îú‚îÄ‚îÄ deploy_crew.py         # Main deployment script
‚îî‚îÄ‚îÄ crews/
    ‚îî‚îÄ‚îÄ phoenix_node_crew.py  # Example crew (core blockchain)
```

### 2. Phoenix Node Crew (Fully Implemented)

**5 AI Agents**:
- Go Backend Developer
- Consensus Engineer  
- EVM Integration Specialist
- Mining Engineer
- Testing Engineer

**8 Sequential Tasks**:
1. Analyze specifications
2. Fork and rebrand Kaspa
3. Configure genesis block
4. Implement SHA-3 mining
5. DAG‚ÜíLinear canonicalization
6. EVM integration
7. JSON-RPC server
8. Comprehensive testing

---

## üöÄ Execution Plan

### Step 1: Repository Setup (Run First)

```bash
# From BlockDAG directory
cd /Users/xcode/Documents/BlockDAG

# Execute repository setup (creates all 13 repos)
./scripts/RUN-ALL-SETUP.sh
```

**Result**: 13 repositories with specs and AGENT_INSTRUCTIONS.md

---

### Step 2: CrewAI Setup

```bash
# Navigate to CrewAI directory
cd /Users/xcode/Documents/BlockDAG/crewai

# Run automated setup
./setup.sh

# This will:
# - Create Python virtual environment
# - Install CrewAI and dependencies
# - Create .env template
```

---

### Step 3: Configure API Keys

```bash
# Edit .env file
nano .env

# Add your keys:
OPENAI_API_KEY=sk-proj-...
GITHUB_TOKEN=ghp_...

# Save and exit (Ctrl+X, then Y, then Enter)
```

**Get API Keys**:
- OpenAI: https://platform.openai.com/api-keys
- GitHub: https://github.com/settings/tokens (need `repo` permissions)

---

### Step 4: Deploy First Crew (Test)

```bash
# Activate virtual environment
source venv/bin/activate

# Test deployment (dry run)
python deploy_crew.py --crew phoenix-node --dry-run

# Deploy for real
python deploy_crew.py --crew phoenix-node
```

**Expected Time**: 4-8 hours  
**Expected Cost**: $20-50 (GPT-4) or $2-5 (GPT-3.5-turbo)

---

### Step 5: Monitor Progress

```bash
# In another terminal
cd /Users/xcode/Documents/BlockDAG/crewai
source venv/bin/activate

# Check crew status
watch -n 60 'git -C ../phoenix-workspace/phoenix-node log --oneline -10'
```

---

### Step 6: Review and Merge

```bash
# Check what the crew generated
cd ../phoenix-workspace/phoenix-node

# Review changes
git status
git diff

# Run tests
go test ./...

# Build
go build ./cmd/bdpd

# If looks good, create PR
gh pr create --title "feat: Initial Phoenix Node implementation" \
  --body "Generated by CrewAI Phoenix Node Crew"
```

---

## üìä Deployment Strategy

### Phase 1: Core (Week 1)

```bash
# Deploy critical path crews
python deploy_crew.py --crew phoenix-node       # P0
python deploy_crew.py --crew phoenix-sdk-js     # P1
python deploy_crew.py --crew phoenix-docs       # P1
```

### Phase 2: Infrastructure (Week 2)

```bash
python deploy_crew.py --crew phoenix-explorer
python deploy_crew.py --crew phoenix-devtools
python deploy_crew.py --crew phoenix-pool
```

### Phase 3: User-Facing (Week 3)

```bash
python deploy_crew.py --crew phoenix-wallet-mobile
python deploy_crew.py --crew phoenix-wallet-extension
python deploy_crew.py --crew phoenix-infrastructure
```

### Phase 4: All at Once (Advanced)

```bash
# Deploy everything in parallel
python deploy_crew.py --deploy-all
```

**Warning**: This will run all crews simultaneously. Make sure you have:
- Sufficient API credits
- Good API rate limits
- Ability to monitor multiple crews

---

## üí∞ Cost Estimation

### Using GPT-4 (Recommended for quality)
- **Phoenix Node Crew**: ~$30-50
- **Each SDK Crew**: ~$15-25
- **Each Wallet Crew**: ~$20-35
- **All 13 Crews**: ~$200-400

### Using GPT-3.5-Turbo (Budget option)
- **Phoenix Node Crew**: ~$3-5
- **Each SDK Crew**: ~$1-3
- **Each Wallet Crew**: ~$2-4
- **All 13 Crews**: ~$20-40

**To use GPT-3.5-Turbo**:
```bash
# Edit .env
nano .env

# Change:
OPENAI_MODEL_NAME=gpt-3.5-turbo
```

---

## ‚öôÔ∏è Crew Behavior Configuration

### Speed vs. Quality Trade-offs

**High Quality (Slow, Expensive)**:
```python
# In crews/phoenix_node_crew.py
llm = ChatOpenAI(
    model="gpt-4",
    temperature=0.1  # Low = consistent
)
```

**Fast Iteration (Fast, Cheap)**:
```python
llm = ChatOpenAI(
    model="gpt-3.5-turbo",
    temperature=0.3
)
```

### Parallel vs. Sequential

**Sequential** (Default - Better for dependencies):
```python
process=Process.sequential
```

**Hierarchical** (Faster - Manager delegates):
```python
process=Process.hierarchical
```

---

## üîß Creating Additional Crews

### Template for New Crew

```python
# crews/phoenix_sdk_crew.py

from crewai import Agent, Task, Crew, Process
from langchain_openai import ChatOpenAI

# Define agents
typescript_dev = Agent(
    role="TypeScript SDK Developer",
    goal="Build @phoenix/sdk",
    backstory="Expert in TypeScript, ethers.js, web3",
    tools=[file_read_tool, file_write_tool]
)

# Define tasks
task_setup = Task(
    description="Set up TypeScript project structure",
    agent=typescript_dev,
    expected_output="Working package.json and tsconfig"
)

# Create crew
sdk_crew = Crew(
    agents=[typescript_dev],
    tasks=[task_setup],
    process=Process.sequential
)

# Run
if __name__ == "__main__":
    sdk_crew.kickoff()
```

---

## üìà Success Metrics

### Per Crew
- [ ] Tasks completed
- [ ] Code compiles
- [ ] Tests passing
- [ ] PR created
- [ ] Human review passed

### Overall Project
- [ ] All 13 repos have active development
- [ ] Daily commits from crews
- [ ] PRs being reviewed and merged
- [ ] CI/CD passing
- [ ] Progress toward testnet

---

## üÜò Troubleshooting

### Crew Not Starting

```bash
# Check Python environment
which python
python --version

# Activate venv
source venv/bin/activate

# Check API key
python -c "import os; from dotenv import load_dotenv; load_dotenv(); print('Key:', os.getenv('OPENAI_API_KEY')[:10])"
```

### Rate Limits Hit

```bash
# Edit .env
nano .env

# Add/modify:
RATE_LIMIT=10  # requests per minute

# Or use cheaper model:
OPENAI_MODEL_NAME=gpt-3.5-turbo
```

### Generated Code Has Errors

This is expected! Crews generate code that needs human review:

1. **Review the output**
2. **Fix any obvious errors**
3. **Run tests**
4. **Iterate**: Re-run crew with feedback
5. **Manual fixes**: Some things need human touch

### Crew Stuck/Taking Too Long

```bash
# Stop the crew (Ctrl+C)
# Review what it generated
cd ../phoenix-workspace/phoenix-node
git status

# Continue manually or re-run with adjusted prompts
```

---

## üéØ What You Have Now

### Infrastructure Ready
- ‚úÖ 13 GitHub repositories (after running RUN-ALL-SETUP.sh)
- ‚úÖ CrewAI framework installed
- ‚úÖ 1 complete crew (phoenix-node) implemented
- ‚úÖ Deployment scripts ready
- ‚úÖ Monitoring tools ready

### Next Steps
1. **Today**: Run `./scripts/RUN-ALL-SETUP.sh`
2. **Today**: Set up CrewAI with `./crewai/setup.sh`
3. **Today**: Add API keys to `.env`
4. **Tomorrow**: Deploy first crew
5. **This Week**: Deploy core crews (node, SDK, docs)
6. **Next Week**: Deploy remaining crews
7. **Month 3**: Working testnet
8. **Month 9**: Mainnet launch

---

## üìö Documentation Reference

| File | Purpose |
|------|---------|
| `crewai/README.md` | Complete CrewAI guide |
| `crewai/QUICKSTART.md` | Quick reference |
| `AGENT_DEPLOYMENT_PLAN.md` | Overall strategy |
| `CHECKLIST.md` | Execution checklist |
| `EXECUTE_NOW.md` | Quick start |

---

## üî• Two-Phase Execution

### Phase A: Repository Setup (30 minutes)
```bash
cd /Users/xcode/Documents/BlockDAG
./scripts/RUN-ALL-SETUP.sh
```

### Phase B: Deploy AI Agents (Days-Weeks)
```bash
cd /Users/xcode/Documents/BlockDAG/crewai
./setup.sh
source venv/bin/activate
# Add API keys to .env
python deploy_crew.py --crew phoenix-node
```

---

## üéâ Ready to Execute!

**You have everything:**
- ‚úÖ Repository infrastructure scripts
- ‚úÖ CrewAI deployment system
- ‚úÖ Complete agent definitions
- ‚úÖ Task breakdowns
- ‚úÖ Monitoring tools
- ‚úÖ Documentation

**Two commands to start:**

```bash
# 1. Set up repositories
/Users/xcode/Documents/BlockDAG/scripts/RUN-ALL-SETUP.sh

# 2. Deploy first AI crew
cd /Users/xcode/Documents/BlockDAG/crewai && ./setup.sh
```

**Time to testnet: 12 weeks**  
**Time to setup: 1 hour**  
**% of infrastructure complete: 100%**

**Let's build Phoenix! üöÄü§ñ**







